{"version":3,"file":"toastr.umd.js","sources":["portal/portal.js","portal/dom-portal-host.js","overlay/overlay-ref.js","overlay/overlay-container.js","overlay/overlay.js","toastr/toast-directive.js","toastr/toastr-config.js","toastr/toast-injector.js","toastr/toastr-service.js","toastr/toast-component.js","toastr/toastr-module.js"],"sourcesContent":["/**\n * A `ComponentPortal` is a portal that instantiates some Component upon attachment.\n */\nvar ComponentPortal = (function () {\n    function ComponentPortal(component, injector) {\n        this.component = component;\n        this.injector = injector;\n    }\n    /** Attach this portal to a host. */\n    ComponentPortal.prototype.attach = function (host, newestOnTop) {\n        this._attachedHost = host;\n        return host.attach(this, newestOnTop);\n    };\n    /** Detach this portal from its host */\n    ComponentPortal.prototype.detach = function () {\n        var host = this._attachedHost;\n        this._attachedHost = null;\n        return host.detach();\n    };\n    Object.defineProperty(ComponentPortal.prototype, \"isAttached\", {\n        /** Whether this portal is attached to a host. */\n        get: function () {\n            return this._attachedHost != null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Sets the PortalHost reference without performing `attach()`. This is used directly by\n     * the PortalHost when it is performing an `attach()` or `detach()`.\n     */\n    ComponentPortal.prototype.setAttachedHost = function (host) {\n        this._attachedHost = host;\n    };\n    return ComponentPortal;\n}());\nexport { ComponentPortal };\n/**\n * Partial implementation of PortalHost that only deals with attaching a\n * ComponentPortal\n */\nvar BasePortalHost = (function () {\n    function BasePortalHost() {\n    }\n    BasePortalHost.prototype.attach = function (portal, newestOnTop) {\n        this._attachedPortal = portal;\n        return this.attachComponentPortal(portal, newestOnTop);\n    };\n    BasePortalHost.prototype.detach = function () {\n        if (this._attachedPortal) {\n            this._attachedPortal.setAttachedHost(null);\n        }\n        this._attachedPortal = null;\n        if (this._disposeFn != null) {\n            this._disposeFn();\n            this._disposeFn = null;\n        }\n    };\n    BasePortalHost.prototype.setDisposeFn = function (fn) {\n        this._disposeFn = fn;\n    };\n    return BasePortalHost;\n}());\nexport { BasePortalHost };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { BasePortalHost } from './portal';\n/**\n * A PortalHost for attaching portals to an arbitrary DOM element outside of the Angular\n * application context.\n *\n * This is the only part of the portal core that directly touches the DOM.\n */\nvar DomPortalHost = (function (_super) {\n    __extends(DomPortalHost, _super);\n    function DomPortalHost(_hostDomElement, _componentFactoryResolver, _appRef) {\n        var _this = _super.call(this) || this;\n        _this._hostDomElement = _hostDomElement;\n        _this._componentFactoryResolver = _componentFactoryResolver;\n        _this._appRef = _appRef;\n        return _this;\n    }\n    /**\n     * Attach the given ComponentPortal to DOM element using the ComponentFactoryResolver.\n     * @param portal Portal to be attached\n     */\n    DomPortalHost.prototype.attachComponentPortal = function (portal, newestOnTop) {\n        var _this = this;\n        var componentFactory = this._componentFactoryResolver.resolveComponentFactory(portal.component);\n        var componentRef;\n        // If the portal specifies a ViewContainerRef, we will use that as the attachment point\n        // for the component (in terms of Angular's component tree, not rendering).\n        // When the ViewContainerRef is missing, we use the factory to create the component directly\n        // and then manually attach the ChangeDetector for that component to the application (which\n        // happens automatically when using a ViewContainer).\n        componentRef = componentFactory.create(portal.injector);\n        // When creating a component outside of a ViewContainer, we need to manually register\n        // its ChangeDetector with the application. This API is unfortunately not yet published\n        // in Angular core. The change detector must also be deregistered when the component\n        // is destroyed to prevent memory leaks.\n        this._appRef.attachView(componentRef.hostView);\n        this.setDisposeFn(function () {\n            _this._appRef.detachView(componentRef.hostView);\n            componentRef.destroy();\n        });\n        // At this point the component has been instantiated, so we move it to the location in the DOM\n        // where we want it to be rendered.\n        if (newestOnTop) {\n            this._hostDomElement.insertBefore(this._getComponentRootNode(componentRef), this._hostDomElement.firstChild);\n        }\n        else {\n            this._hostDomElement.appendChild(this._getComponentRootNode(componentRef));\n        }\n        return componentRef;\n    };\n    /** Gets the root HTMLElement for an instantiated component. */\n    DomPortalHost.prototype._getComponentRootNode = function (componentRef) {\n        return componentRef.hostView.rootNodes[0];\n    };\n    return DomPortalHost;\n}(BasePortalHost));\nexport { DomPortalHost };\n","/**\n * Reference to an overlay that has been created with the Overlay service.\n * Used to manipulate or dispose of said overlay.\n */\nvar OverlayRef = (function () {\n    function OverlayRef(_portalHost) {\n        this._portalHost = _portalHost;\n    }\n    OverlayRef.prototype.attach = function (portal, newestOnTop) {\n        return this._portalHost.attach(portal, newestOnTop);\n    };\n    /**\n     * Detaches an overlay from a portal.\n     * @returns Resolves when the overlay has been detached.\n     */\n    OverlayRef.prototype.detach = function () {\n        return this._portalHost.detach();\n    };\n    return OverlayRef;\n}());\nexport { OverlayRef };\n","/**\n * The OverlayContainer is the container in which all overlays will load.\n * It should be provided in the root component to ensure it is properly shared.\n */\nvar OverlayContainer = (function () {\n    function OverlayContainer() {\n    }\n    /**\n     * This method returns the overlay container element.  It will lazily\n     * create the element the first time  it is called to facilitate using\n     * the container in non-browser environments.\n     * @returns the container element\n     */\n    OverlayContainer.prototype.getContainerElement = function () {\n        if (!this._containerElement) {\n            this._createContainer();\n        }\n        return this._containerElement;\n    };\n    /**\n     * Create the overlay container element, which is simply a div\n     * with the 'cdk-overlay-container' class on the document body.\n     */\n    OverlayContainer.prototype._createContainer = function () {\n        var container = document.createElement('div');\n        container.classList.add('overlay-container');\n        document.body.appendChild(container);\n        this._containerElement = container;\n    };\n    return OverlayContainer;\n}());\nexport { OverlayContainer };\n","import { ComponentFactoryResolver, Injectable, ApplicationRef } from '@angular/core';\nimport { DomPortalHost } from '../portal/dom-portal-host';\nimport { OverlayRef } from './overlay-ref';\nimport { OverlayContainer } from './overlay-container';\n/**\n * Service to create Overlays. Overlays are dynamically added pieces of floating UI, meant to be\n * used as a low-level building building block for other components. Dialogs, tooltips, menus,\n * selects, etc. can all be built using overlays. The service should primarily be used by authors\n * of re-usable components rather than developers building end-user applications.\n *\n * An overlay *is* a PortalHost, so any kind of Portal can be loaded into one.\n */\nvar Overlay = (function () {\n    function Overlay(_overlayContainer, _componentFactoryResolver, _appRef) {\n        this._overlayContainer = _overlayContainer;\n        this._componentFactoryResolver = _componentFactoryResolver;\n        this._appRef = _appRef;\n        this._paneElements = {};\n    }\n    /**\n     * Creates an overlay.\n     * @returns A reference to the created overlay.\n     */\n    Overlay.prototype.create = function (positionClass, overlayContainer) {\n        // get existing pane if possible\n        return this._createOverlayRef(this.getPaneElement(positionClass, overlayContainer));\n    };\n    Overlay.prototype.getPaneElement = function (positionClass, overlayContainer) {\n        if (!this._paneElements[positionClass]) {\n            this._paneElements[positionClass] = this._createPaneElement(positionClass, overlayContainer);\n        }\n        return this._paneElements[positionClass];\n    };\n    /**\n     * Creates the DOM element for an overlay and appends it to the overlay container.\n     * @returns Newly-created pane element\n     */\n    Overlay.prototype._createPaneElement = function (positionClass, overlayContainer) {\n        var pane = document.createElement('div');\n        pane.id = 'toast-container';\n        pane.classList.add(positionClass);\n        if (!overlayContainer) {\n            this._overlayContainer.getContainerElement().appendChild(pane);\n        }\n        else {\n            overlayContainer.getContainerElement().appendChild(pane);\n        }\n        return pane;\n    };\n    /**\n     * Create a DomPortalHost into which the overlay content can be loaded.\n     * @param pane The DOM element to turn into a portal host.\n     * @returns A portal host for the given DOM element.\n     */\n    Overlay.prototype._createPortalHost = function (pane) {\n        return new DomPortalHost(pane, this._componentFactoryResolver, this._appRef);\n    };\n    /**\n     * Creates an OverlayRef for an overlay in the given DOM element.\n     * @param pane DOM element for the overlay\n     */\n    Overlay.prototype._createOverlayRef = function (pane) {\n        return new OverlayRef(this._createPortalHost(pane));\n    };\n    return Overlay;\n}());\nexport { Overlay };\nOverlay.decorators = [\n    { type: Injectable },\n];\n/** @nocollapse */\nOverlay.ctorParameters = function () { return [\n    { type: OverlayContainer, },\n    { type: ComponentFactoryResolver, },\n    { type: ApplicationRef, },\n]; };\n/** Providers for Overlay and its related injectables. */\nexport var OVERLAY_PROVIDERS = [\n    Overlay,\n    OverlayContainer,\n];\n","import { NgModule, Directive, ElementRef } from '@angular/core';\nvar ToastContainerDirective = (function () {\n    function ToastContainerDirective(el) {\n        this.el = el;\n    }\n    ToastContainerDirective.prototype.getContainerElement = function () {\n        return this.el.nativeElement;\n    };\n    return ToastContainerDirective;\n}());\nexport { ToastContainerDirective };\nToastContainerDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[toastContainer]',\n                exportAs: 'toastContainer',\n            },] },\n];\n/** @nocollapse */\nToastContainerDirective.ctorParameters = function () { return [\n    { type: ElementRef, },\n]; };\nvar ToastContainerModule = (function () {\n    function ToastContainerModule() {\n    }\n    ToastContainerModule.forRoot = function () {\n        return {\n            ngModule: ToastContainerModule,\n            providers: []\n        };\n    };\n    return ToastContainerModule;\n}());\nexport { ToastContainerModule };\nToastContainerModule.decorators = [\n    { type: NgModule, args: [{\n                exports: [ToastContainerDirective],\n                declarations: [ToastContainerDirective],\n            },] },\n];\n/** @nocollapse */\nToastContainerModule.ctorParameters = function () { return []; };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* tslint:disable:no-inferrable-types */\nimport { Injectable } from '@angular/core';\nimport { Toast } from './toast-component';\n/**\n * Configuration for an individual toast.\n */\nvar ToastConfig = (function () {\n    function ToastConfig(config) {\n        if (config === void 0) { config = {}; }\n        /** show close button */\n        this.closeButton = false;\n        /** time to close after a user hovers over toast */\n        this.extendedTimeOut = 1000;\n        /** show progress bar */\n        this.progressBar = false;\n        /** time to live */\n        this.timeOut = 5000;\n        /** allow html in message */\n        this.enableHtml = false;\n        this.toastClass = 'toast';\n        this.positionClass = 'toast-top-right';\n        this.titleClass = 'toast-title';\n        this.messageClass = 'toast-message';\n        /** clicking on toast dismisses it */\n        this.tapToDismiss = true;\n        /** the Angular component to be shown */\n        this.toastComponent = Toast;\n        /** Helps show toast from a websocket or from event outside Angular */\n        this.onActivateTick = false;\n        function use(source, defaultValue) {\n            return config && source !== undefined ? source : defaultValue;\n        }\n        this.closeButton = use(config.closeButton, this.closeButton);\n        this.extendedTimeOut = use(config.extendedTimeOut, this.extendedTimeOut);\n        this.progressBar = use(config.progressBar, this.progressBar);\n        this.timeOut = use(config.timeOut, this.timeOut);\n        this.enableHtml = use(config.enableHtml, this.enableHtml);\n        this.toastClass = use(config.toastClass, this.toastClass);\n        this.positionClass = use(config.positionClass, this.positionClass);\n        this.titleClass = use(config.titleClass, this.titleClass);\n        this.messageClass = use(config.messageClass, this.messageClass);\n        this.tapToDismiss = use(config.tapToDismiss, this.tapToDismiss);\n        this.toastComponent = use(config.toastComponent, this.toastComponent);\n        this.onActivateTick = use(config.onActivateTick, this.onActivateTick);\n    }\n    return ToastConfig;\n}());\nexport { ToastConfig };\nvar ToastrIconClasses = (function () {\n    function ToastrIconClasses() {\n    }\n    return ToastrIconClasses;\n}());\nexport { ToastrIconClasses };\nToastrIconClasses.decorators = [\n    { type: Injectable },\n];\n/** @nocollapse */\nToastrIconClasses.ctorParameters = function () { return []; };\n/**\n * Global Toast configuration\n */\nvar ToastrConfig = (function (_super) {\n    __extends(ToastrConfig, _super);\n    function ToastrConfig(config) {\n        if (config === void 0) { config = {}; }\n        var _this = _super.call(this, config) || this;\n        /** max toasts opened. Toasts will be queued */\n        _this.maxOpened = 0;\n        /** dismiss current toast when max is reached */\n        _this.autoDismiss = false;\n        _this.iconClasses = {\n            error: 'toast-error',\n            info: 'toast-info',\n            success: 'toast-success',\n            warning: 'toast-warning',\n        };\n        /** new toast placement */\n        _this.newestOnTop = true;\n        /** block duplicate messages */\n        _this.preventDuplicates = false;\n        function use(source, defaultValue) {\n            return config && source !== undefined ? source : defaultValue;\n        }\n        _this.maxOpened = use(config.maxOpened, _this.maxOpened);\n        _this.autoDismiss = use(config.autoDismiss, _this.autoDismiss);\n        _this.newestOnTop = use(config.newestOnTop, _this.newestOnTop);\n        _this.preventDuplicates = use(config.preventDuplicates, _this.preventDuplicates);\n        if (config.iconClasses) {\n            _this.iconClasses.error = config.iconClasses.error || _this.iconClasses.error;\n            _this.iconClasses.info = config.iconClasses.info || _this.iconClasses.info;\n            _this.iconClasses.success = config.iconClasses.success || _this.iconClasses.success;\n            _this.iconClasses.warning = config.iconClasses.warning || _this.iconClasses.warning;\n        }\n        return _this;\n    }\n    return ToastrConfig;\n}(ToastConfig));\nexport { ToastrConfig };\nToastrConfig.decorators = [\n    { type: Injectable },\n];\n/** @nocollapse */\nToastrConfig.ctorParameters = function () { return [\n    { type: ToastrConfig, },\n]; };\nvar ToastData = (function () {\n    function ToastData() {\n    }\n    return ToastData;\n}());\nexport { ToastData };\n","import { Subject } from 'rxjs/Subject';\nimport { ToastData } from './toastr-config';\n/**\n * Reference to a toast opened via the Toastr service.\n */\nvar ToastRef = (function () {\n    function ToastRef(_overlayRef) {\n        this._overlayRef = _overlayRef;\n        /** Subject for notifying the user that the toast has finished closing. */\n        this._afterClosed = new Subject();\n        this._activate = new Subject();\n        this._manualClose = new Subject();\n    }\n    ToastRef.prototype.manualClose = function () {\n        this._manualClose.next();\n        this._manualClose.complete();\n    };\n    ToastRef.prototype.manualClosed = function () {\n        return this._manualClose.asObservable();\n    };\n    /**\n     * Close the toast.\n     */\n    ToastRef.prototype.close = function () {\n        this._overlayRef.detach();\n        this._afterClosed.next();\n        this._afterClosed.complete();\n    };\n    /** Gets an observable that is notified when the toast is finished closing. */\n    ToastRef.prototype.afterClosed = function () {\n        return this._afterClosed.asObservable();\n    };\n    ToastRef.prototype.isInactive = function () {\n        return this._activate.isStopped;\n    };\n    ToastRef.prototype.activate = function () {\n        this._activate.next();\n        this._activate.complete();\n    };\n    /** Gets an observable that is notified when the toast has started opening. */\n    ToastRef.prototype.afterActivate = function () {\n        return this._activate.asObservable();\n    };\n    return ToastRef;\n}());\nexport { ToastRef };\n/** Custom injector type specifically for instantiating components with a toast. */\nvar ToastInjector = (function () {\n    function ToastInjector(_dialogRef, _data, _parentInjector) {\n        this._dialogRef = _dialogRef;\n        this._data = _data;\n        this._parentInjector = _parentInjector;\n    }\n    ToastInjector.prototype.get = function (token, notFoundValue) {\n        if (token === ToastRef) {\n            return this._dialogRef;\n        }\n        if (token === ToastData && this._data) {\n            return this._data;\n        }\n        return this._parentInjector.get(token, notFoundValue);\n    };\n    return ToastInjector;\n}());\nexport { ToastInjector };\n","import { Injectable, Injector } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { Overlay } from '../overlay/overlay';\nimport { ComponentPortal } from '../portal/portal';\nimport { ToastConfig, ToastrConfig, ToastData } from './toastr-config';\nimport { ToastInjector, ToastRef } from './toast-injector';\nvar ToastrService = (function () {\n    function ToastrService(toastrConfig, overlay, _injector) {\n        this.toastrConfig = toastrConfig;\n        this.overlay = overlay;\n        this._injector = _injector;\n        this.index = 0;\n        this.toasts = [];\n        this.previousToastMessage = '';\n        this.currentlyActive = 0;\n    }\n    /** show successful toast */\n    ToastrService.prototype.show = function (message, title, optionsOverride, type) {\n        if (type === void 0) { type = ''; }\n        return this._buildNotification(type, message, title, this.createToastConfig(optionsOverride));\n    };\n    /** show successful toast */\n    ToastrService.prototype.success = function (message, title, optionsOverride) {\n        var type = this.toastrConfig.iconClasses.success;\n        return this._buildNotification(type, message, title, this.createToastConfig(optionsOverride));\n    };\n    /** show error toast */\n    ToastrService.prototype.error = function (message, title, optionsOverride) {\n        var type = this.toastrConfig.iconClasses.error;\n        return this._buildNotification(type, message, title, this.createToastConfig(optionsOverride));\n    };\n    /** show info toast */\n    ToastrService.prototype.info = function (message, title, optionsOverride) {\n        var type = this.toastrConfig.iconClasses.info;\n        return this._buildNotification(type, message, title, this.createToastConfig(optionsOverride));\n    };\n    /** show warning toast */\n    ToastrService.prototype.warning = function (message, title, optionsOverride) {\n        var type = this.toastrConfig.iconClasses.warning;\n        return this._buildNotification(type, message, title, this.createToastConfig(optionsOverride));\n    };\n    ToastrService.prototype.createToastConfig = function (optionsOverride) {\n        if (!optionsOverride) {\n            return Object.create(this.toastrConfig);\n        }\n        if (optionsOverride instanceof ToastConfig) {\n            return optionsOverride;\n        }\n        return new ToastConfig(optionsOverride);\n    };\n    /**\n     * Remove all or a single toast by id\n     */\n    ToastrService.prototype.clear = function (toastId) {\n        // Call every toastRef manualClose function\n        for (var _i = 0, _a = this.toasts; _i < _a.length; _i++) {\n            var toast = _a[_i];\n            if (toastId !== undefined) {\n                if (toast.toastId === toastId) {\n                    toast.toastRef.manualClose();\n                    return;\n                }\n            }\n            else {\n                toast.toastRef.manualClose();\n            }\n        }\n    };\n    /**\n     * Remove and destroy a single toast by id\n     */\n    ToastrService.prototype.remove = function (toastId) {\n        var _a = this._findToast(toastId), index = _a.index, activeToast = _a.activeToast;\n        if (!activeToast) {\n            return false;\n        }\n        activeToast.toastRef.close();\n        this.toasts.splice(index, 1);\n        this.currentlyActive = this.currentlyActive - 1;\n        if (!this.toastrConfig.maxOpened || !this.toasts.length) {\n            return false;\n        }\n        if (this.currentlyActive <= +this.toastrConfig.maxOpened && this.toasts[this.currentlyActive]) {\n            var p = this.toasts[this.currentlyActive].toastRef;\n            if (!p.isInactive()) {\n                this.currentlyActive = this.currentlyActive + 1;\n                p.activate();\n            }\n        }\n        return true;\n    };\n    /**\n     * Find toast object by id\n     */\n    ToastrService.prototype._findToast = function (toastId) {\n        for (var i = 0; i < this.toasts.length; i++) {\n            if (this.toasts[i].toastId === toastId) {\n                return { index: i, activeToast: this.toasts[i] };\n            }\n        }\n        return { index: null, activeToast: null };\n    };\n    /**\n     * Determines if toast message is already shown\n     */\n    ToastrService.prototype.isDuplicate = function (message) {\n        for (var i = 0; i < this.toasts.length; i++) {\n            if (this.toasts[i].message === message) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * Creates and attaches toast data to component\n     */\n    ToastrService.prototype._buildNotification = function (toastType, message, title, optionsOverride) {\n        var _this = this;\n        if (optionsOverride === void 0) { optionsOverride = Object.create(this.toastrConfig); }\n        // max opened and auto dismiss = true\n        if (this.toastrConfig.preventDuplicates && this.isDuplicate(message)) {\n            return;\n        }\n        this.previousToastMessage = message;\n        var keepInactive = false;\n        if (this.toastrConfig.maxOpened && this.currentlyActive >= this.toastrConfig.maxOpened) {\n            keepInactive = true;\n            if (this.toastrConfig.autoDismiss) {\n                this.clear(this.toasts[this.toasts.length - 1].toastId);\n            }\n        }\n        var overlayRef = this.overlay.create(optionsOverride.positionClass, this.overlayContainer);\n        var ins = {\n            toastId: this.index++,\n            message: message,\n            toastRef: new ToastRef(overlayRef),\n        };\n        ins.onShown = ins.toastRef.afterActivate();\n        ins.onHidden = ins.toastRef.afterClosed();\n        var data = new ToastData();\n        data.toastId = ins.toastId;\n        data.optionsOverride = optionsOverride;\n        data.message = message;\n        data.title = title;\n        data.toastType = toastType;\n        data.onTap = new Subject();\n        ins.onTap = data.onTap.asObservable();\n        data.onAction = new Subject();\n        ins.onAction = data.onAction.asObservable();\n        var toastInjector = new ToastInjector(ins.toastRef, data, this._injector);\n        var component = new ComponentPortal(optionsOverride.toastComponent, toastInjector);\n        ins.portal = overlayRef.attach(component, this.toastrConfig.newestOnTop);\n        if (!keepInactive) {\n            setTimeout(function () {\n                ins.toastRef.activate();\n                _this.currentlyActive = _this.currentlyActive + 1;\n            });\n        }\n        this.toasts.push(ins);\n        return ins;\n    };\n    return ToastrService;\n}());\nexport { ToastrService };\nToastrService.decorators = [\n    { type: Injectable },\n];\n/** @nocollapse */\nToastrService.ctorParameters = function () { return [\n    { type: ToastrConfig, },\n    { type: Overlay, },\n    { type: Injector, },\n]; };\n","import { Component, trigger, state, transition, animate, style, HostBinding, HostListener, ApplicationRef, } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ToastData } from './toastr-config';\nimport { ToastrService } from './toastr-service';\nimport { ToastRef } from './toast-injector';\nvar Toast = (function () {\n    function Toast(toastrService, data, toastRef, appRef, sanitizer) {\n        var _this = this;\n        this.toastrService = toastrService;\n        this.data = data;\n        this.toastRef = toastRef;\n        this.appRef = appRef;\n        this.sanitizer = sanitizer;\n        /** width of progress bar */\n        this.width = -1;\n        /** a combination of toast type and options.toastClass */\n        this.toastClasses = '';\n        /** controls animation */\n        this.state = 'inactive';\n        this.options = data.optionsOverride;\n        this.toastId = data.toastId;\n        this.message = data.message;\n        if (this.message && this.options.enableHtml) {\n            this.message = sanitizer.bypassSecurityTrustHtml(data.message);\n        }\n        this.title = data.title;\n        this.onTap = data.onTap;\n        this.onAction = data.onAction;\n        this.toastClasses = data.toastType + \" \" + this.options.toastClass;\n        this.options.timeOut = +this.options.timeOut;\n        this.sub = toastRef.afterActivate().subscribe(function () {\n            _this.activateToast();\n        });\n        this.sub1 = toastRef.manualClosed().subscribe(function () {\n            _this.remove();\n        });\n    }\n    Toast.prototype.ngOnDestroy = function () {\n        this.sub.unsubscribe();\n        this.sub1.unsubscribe();\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeout);\n    };\n    /**\n     * activates toast and sets timeout\n     */\n    Toast.prototype.activateToast = function () {\n        var _this = this;\n        this.state = 'active';\n        if (this.options.timeOut !== 0) {\n            this.timeout = setTimeout(function () {\n                _this.remove();\n            }, this.options.timeOut);\n            this.hideTime = new Date().getTime() + this.options.timeOut;\n            if (this.options.progressBar) {\n                this.intervalId = setInterval(function () { return _this.updateProgress(); }, 10);\n            }\n        }\n        if (this.options.onActivateTick) {\n            this.appRef.tick();\n        }\n    };\n    /**\n     * updates progress bar width\n     */\n    Toast.prototype.updateProgress = function () {\n        if (this.width === 0) {\n            return;\n        }\n        var now = new Date().getTime();\n        var remaining = this.hideTime - now;\n        this.width = (remaining / this.options.timeOut) * 100;\n        if (this.width <= 0) {\n            this.width = 0;\n        }\n    };\n    /**\n     * tells toastrService to remove this toast after animation time\n     */\n    Toast.prototype.remove = function () {\n        var _this = this;\n        if (this.state === 'removed') {\n            return;\n        }\n        clearTimeout(this.timeout);\n        this.state = 'removed';\n        this.timeout = setTimeout(function () { return _this.toastrService.remove(_this.toastId); }, 300);\n    };\n    Toast.prototype.tapToast = function () {\n        if (this.state === 'removed') {\n            return;\n        }\n        this.onTap.next();\n        this.onTap.complete();\n        if (this.options.tapToDismiss) {\n            this.remove();\n        }\n    };\n    Toast.prototype.stickAround = function () {\n        if (this.state === 'removed') {\n            return;\n        }\n        clearTimeout(this.timeout);\n        this.options.timeOut = 0;\n        this.hideTime = 0;\n        // disable progressBar\n        clearInterval(this.intervalId);\n        this.width = 0;\n    };\n    Toast.prototype.delayedHideToast = function () {\n        var _this = this;\n        if (+this.options.extendedTimeOut === 0 || this.state === 'removed') {\n            return;\n        }\n        this.timeout = setTimeout(function () { return _this.remove(); }, this.options.extendedTimeOut);\n        this.options.timeOut = +this.options.extendedTimeOut;\n        this.hideTime = new Date().getTime() + this.options.timeOut;\n        this.width = 100;\n        if (this.options.progressBar) {\n            this.intervalId = setInterval(function () { return _this.updateProgress(); }, 10);\n        }\n    };\n    return Toast;\n}());\nexport { Toast };\nToast.decorators = [\n    { type: Component, args: [{\n                selector: '[toast-component]',\n                template: \"\\n  <button *ngIf=\\\"options.closeButton\\\" (click)=\\\"remove()\\\" class=\\\"toast-close-button\\\">\\n    &times;\\n  </button>\\n  <div *ngIf=\\\"title\\\" class=\\\"{{options.titleClass}}\\\" [attr.aria-label]=\\\"title\\\">\\n    {{title}}\\n  </div>\\n  <div *ngIf=\\\"message && options.enableHtml\\\" class=\\\"{{options.messageClass}}\\\" [innerHTML]=\\\"message\\\">\\n  </div>\\n  <div *ngIf=\\\"message && !options.enableHtml\\\" class=\\\"{{options.messageClass}}\\\" [attr.aria-label]=\\\"message\\\">\\n    {{message}}\\n  </div>\\n  <div *ngIf=\\\"options.progressBar\\\">\\n    <div class=\\\"toast-progress\\\" [style.width.%]=\\\"width\\\"></div>\\n  </div>\\n  \",\n                animations: [\n                    trigger('flyInOut', [\n                        state('inactive', style({\n                            display: 'none',\n                            opacity: 0\n                        })),\n                        state('active', style({ opacity: 1 })),\n                        state('removed', style({ opacity: 0 })),\n                        transition('inactive => active', animate('300ms ease-in')),\n                        transition('active => removed', animate('300ms ease-in')),\n                    ]),\n                ],\n            },] },\n];\n/** @nocollapse */\nToast.ctorParameters = function () { return [\n    { type: ToastrService, },\n    { type: ToastData, },\n    { type: ToastRef, },\n    { type: ApplicationRef, },\n    { type: DomSanitizer, },\n]; };\nToast.propDecorators = {\n    'toastClasses': [{ type: HostBinding, args: ['class',] },],\n    'state': [{ type: HostBinding, args: ['@flyInOut',] },],\n    'tapToast': [{ type: HostListener, args: ['click',] },],\n    'stickAround': [{ type: HostListener, args: ['mouseenter',] },],\n    'delayedHideToast': [{ type: HostListener, args: ['mouseleave',] },],\n};\n","import { NgModule, OpaqueToken } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Toast } from './toast-component';\nimport { ToastrService } from './toastr-service';\nimport { ToastrConfig } from './toastr-config';\nimport { OverlayContainer } from '../overlay/overlay-container';\nimport { Overlay } from '../overlay/overlay';\nexport var TOAST_CONFIG = new OpaqueToken('ToastConfig');\nexport function provideToastrConfig(config) {\n    return new ToastrConfig(config);\n}\nvar ToastrModule = (function () {\n    function ToastrModule() {\n    }\n    ToastrModule.forRoot = function (config) {\n        return {\n            ngModule: ToastrModule,\n            providers: [\n                { provide: TOAST_CONFIG, useValue: config },\n                { provide: ToastrConfig, useFactory: provideToastrConfig, deps: [TOAST_CONFIG] },\n                OverlayContainer,\n                Overlay,\n                ToastrService\n            ]\n        };\n    };\n    return ToastrModule;\n}());\nexport { ToastrModule };\nToastrModule.decorators = [\n    { type: NgModule, args: [{\n                imports: [CommonModule],\n                exports: [Toast],\n                declarations: [Toast],\n                entryComponents: [Toast],\n            },] },\n];\n/** @nocollapse */\nToastrModule.ctorParameters = function () { return []; };\n"],"names":["this","Injectable","ComponentFactoryResolver","ApplicationRef","Directive","ElementRef","NgModule","__extends","Subject","Injector","Component","trigger","state","style","transition","animate","DomSanitizer","HostBinding","HostListener","OpaqueToken","CommonModule"],"mappings":"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"}