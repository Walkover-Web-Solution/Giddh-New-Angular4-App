<section id="single_role" *ngIf="roleObj">

  <h2 class="role_title" align="center">{{ newRole.name }}</h2>

  <div class="pd3 pdT1 pdB1 bdrB clearfix">
    <button class="btn btn-md btn-primary pull-left" (click)="goToRoles()">Back</button>
    <button class="btn btn-md btn-success mrR1 pull-right" (click)="addNewRole()">Save</button>
  </div>

  <section class="pd3">
    <div class="row">
      <div class="col-xs-4" *ngFor="let page of roleObj.scopes; let idx = index">
        <div class="panel panel-default">
          <div class="panel-heading">
            {{ page.name }}
          </div>
          <div class="panel-body">
            <table class="table">
              <thead>
                <tr>
                  <th>{{ newRole.name }}</th>
                  <th>Admin</th>
                  <th>View</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td colspan="100%">
                    <input 
                      id="{{page.name}}+_{{idx}}"
                      name="{{page.name}}+_{{idx}}"
                      (change)="toggleItems(page.name, $event)"
                      type="checkbox"
                      [(ngModel)]="page.selectAll" />
                    <label for="{{page.name}}+_{{idx}}"> Select All</label>
                  </td>
                </tr>
                <tr *ngFor="let item of page.permissions; let i = index">
                  <td>
                    <input id="{{item.code}}+{{idx}}+{{i}}" (change)="toggleItem(page.name, item, $event)" type="checkbox" name="{{item.code}}" [(ngModel)]="item.isSelected" />
                    <label for="{{item.code}}+{{idx}}+{{i}}"> {{this.getNameByCode(item.code)}}</label>
                  </td>
                  <td>
                    <!--checkPermission(page.name, 'share', 'view')" fa-times fa-check-->
                    <i class="fa" [ngClass]="true ? 'fa-check text-success' : 'fa-times text-danger'" aria-hidden="true"></i>
                  </td>
                  <td>
                    <i class="fa" [ngClass]="false ? 'fa-check text-success' : 'fa-times text-danger'" aria-hidden="true"></i>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <!--end of row  -->

  </section>

</section>
