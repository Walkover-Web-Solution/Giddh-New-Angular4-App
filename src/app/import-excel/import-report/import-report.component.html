<div class="padd15">
<!-- 
  <div class="d-flex" style="flex-direction: column">
    <div class="text-right">
      <button class="btn btn-blue" style="margin: 0 !important;" (click)="importFiles()">Import Files</button>
    </div>

    <div class="mt-2" style="height: 68vh; overflow-y: auto;">

      <div class="no-data h-100" *ngIf="!importStatusResponse?.results?.length">
        <h2>No Import Status Available.</h2>
      </div>
 
      <div class="row" style="margin: 0">

        <div class="col-xs-6 mb-2" *ngFor="let item of importStatusResponse.results">

          <div class="r-card">

         

            <div class="row">

              <div class="col-xs-3">
                <label class="text-gray">File Name:</label>
              </div>

              <div class="col-xs-9">{{ item?.fileName }}</div>

            </div>

            <div class="row mt-2">

              <div class="col-xs-3">
                <label class="text-gray">Status:</label>
              </div>

              <div class="col-xs-9"><span class="text-or">{{ item?.status }}</span></div>

            </div>

            <div class="row mt-2">

              <div class="col-xs-3">
                <label class="text-gray">Dated:</label>
              </div>
              <div class="col-xs-9">{{ item?.processDate }}</div>

            </div>

            <div class="row mt-2">

              <div class="col-xs-3">
                <label class="text-gray">Submitted By:</label>
              </div>
              <div class="col-xs-9">{{ item?.submittedBy }}</div>

            </div>

          </div>
        </div>

      </div>  
    </div>

    
  </div> -->

   <!-- import table -->
<div *ngIf="displayBlock; then thenBlock; else elseBlock"></div>


<ng-template #thenBlock>
   <div class="import-table-history" >
   <div class="col-xs-12">
       <div class="import-title clearfix">
           <div class="pull-left">
               <h3>Import History</h3>
           </div>
           <div class="pull-right">
            <button class="btn btn-blue" style="margin: 0 !important;" (click)="importFiles()">Import Files</button>
           </div>
       </div>
   <table class="table table-import basic mrT2">
       <thead>
       <tr>
       <th>Date & Time</th>
       <th>File Name</th>
       <th>Submitted By</th>
       <th>Status</th>
       <th>Download</th>
       </tr>
       </thead>
       <tbody>
       <tr   *ngFor="let item of importStatusResponse.results">
           <td> {{ item?.processDate }}</td>
           <td>{{ item?.fileName }}</td>
           <td>{{ item?.submittedBy }}</td>
           <!-- {{ item?.fileBase64 }} -->

           <td>
             <div *ngIf="item?.status=='INPROGRESS' "> <span class="proceed">In Progress</span> <span class="proceed-content">  {{ item?.successRows }} / {{ item?.totalRows }} accounts are successfully imported.</span> <span class="red-time">19:02</span> </div>
             <div *ngIf="item?.status=='SUBMITTED' ">  <span class="proceed">Submitted</span><span class="red-time">19:02</span> </div>
             <div  *ngIf="item?.status=='PROCESSED' ">  
               <span class="success-tag">Done</span><span class="proceed-content">
                  {{ item?.successRows }} / {{ item?.totalRows }} 
                </span>
                </div></td>
           <td>  
              
            <span class="error-sheet" *ngIf="item.fileBase64"> 
              <a  (click)="showPdf(item?.fileBase64)"><img src="assets/images/error-sheet-icon.svg"> Error Sheet</a> 
            </span>
                    
             <!-- <span class="success-sheet" *ngIf="item?.successRows"> 
              <a  (click)="showPdf(item?.fileBase64)"><img src="assets/images/success-sheet-icon.svg">Success Sheet</a> 
              </span> -->
        </td>
          
       </tr>
 
       </tbody>
   </table>
   <div style="display: flex; justify-content: center;" [hidden]="importStatusResponse.totalItems <= 0">
    <pagination [totalItems]="importStatusResponse.totalItems" [(ngModel)]="importPaginatedRequest.page"
                [maxSize]="5" class="pagination-sm" [boundaryLinks]="true"
                [itemsPerPage]="importStatusResponse.count" [rotate]="false"
                (pageChanged)="pageChanged($event)"></pagination>
  </div>

   </div>
   </div>
</ng-template>
<!-- import table end-->

<!-- no files found -->
<ng-template #elseBlock>
   <div class="no-filesFound">
       <div class="no-fileImage">
           <img src="assets/images/new/no-files.svg" alt="">
       </div>
       <div class="no-filesFoundContent import-title">
           <h3>No files have been imported yet</h3>
           <p>Have data in Excel file ?</p>
           <button class="import_btn">
                   Import
           </button>
       </div>
   </div>
</ng-template> 


<!-- no files found end -->
</div>
