<section class="col-xs-12 col-md-8 col-lg-6 ">
  <div class="pd pdT2">
    <section ng-if="stock.groupEditMode" class="clearfix " auto-height="" style="min-height: 600px; height: 507px;">

      <div class="form_title">
          <ng-template *ngIf="!(activeGroup$ | async);else modifyGroupLbl">
              <label>Add Group</label>
          </ng-template>
          <ng-template #modifyGroupLbl>
            <label>Modify Group</label>
          </ng-template>
      </div>

      <form name="updateStockGroup" class="form-theme"  [formGroup]="addGroupForm" novalidate="">

        <div class="row groupStockFormRow">
          <div class="form-group col-xs-6">
            <label>Name<span class="required">*</span></label>
            <input type="text" name="name" class="form-control" formControlName="name"
              required="" style="background-image: url(data:image/png;base64:iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP6zwAAAgcBApocMXEAAAAASUVORK5CYII=);" (change)="generateUniqueName()">
          </div>

          <div class="form-group col-xs-6">
            <label>Unique Name<span class="required">*</span></label>
            <input type="text" name="uniqueName" formControlName="uniqueName" class="form-control"
               UniqueNameDirective>
          </div>
        </div>

        <div class="row form-inline mrB2">
          <div class="col-xs-12">
            <div class="form-group mrB">
              <label>Parent Group</label>
            </div>
            <div class="form-group mrB">
              <input [typeahead]="dataSource"
                      type="text"
                      [(ngModel)]="parentStockSearchString"
                      typeaheadAsync="true"
                      formControlName="parentStockGroupUniqueName"
                      typeaheadOptionField="name"
                      (typeaheadOnSelect)="groupSelected($event)"
                      (typeaheadNoResults)="onGroupResult()"
                     class="form-control" name="city" autocomplete="off" maxlength="50"
                    placeholder="Select">
            </div>
          </div>
          <div class="col-xs-12">
            <div class="form-group" style="width: 110px">
              <label>&nbsp;</label>
            </div>
            <div class="checkbox">
              <label for="isSelfParentUpdt">
							<input type="checkbox" formControlName="isSelfParent" id="isSelfParentUpdt" name="parentStockGroup">Assign as a Parent Group</label>
            </div>
          </div>
        </div>

        <div class="clearfix">
          <ng-template *ngIf="!(activeGroup$ | async);else updateGroupbtn">
            <button type="submit" class="btn btn-md btn-success mrR1" (click)="addNewGroup()" [disabled]="addGroupForm.invalid">Save</button>
            <button type="reset" class="btn btn-md btn-primary">Cancel</button>
          </ng-template>
          <ng-template #updateGroupbtn>
             <button type="submit" [disabled]="addGroupForm.invalid" class="btn btn-md btn-success mrR1" (click)="updateGroup()">Update</button>
              <button type="submit" class="btn btn-md btn-danger" (click)="removeGroup()">Delete</button>
          </ng-template>
        </div>
      </form>

    </section>
    <!-- end ngIf: stock.groupEditMode -->
  </div>
</section>
