<section class="">
    <div class="">
        <section ng-if="stock.groupEditMode" class="clearfix " auto-height="" style="min-height: 600px; height: 507px;">

            <div class="form_header">
                <div *ngIf="!(activeGroup$ | async)">
                    <label>Create Group</label>
                </div>
                <div *ngIf="activeGroup$ | async">
                    <label>Modify Group</label>
                </div>
            </div>

            <form name="updateStockGroup" class="form_body" [formGroup]="addGroupForm" novalidate="">

                <div class="row">
                    <div class="form-group col-xs-12">
                        <label>Group Name<span class="required">*</span></label>
                        <input type="text" name="name" (change)="generateUniqueName()" class="form-control" formControlName="name" required="" style="background-image: url(data:image/png;base64:iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP6zwAAAgcBApocMXEAAAAASUVORK5CYII=);">
                    </div>

                    <div class="form-group col-xs-12">
                        <label>Unique Name<span class="required">*</span></label>
                        <input type="text" name="uniqueName" UniqueNameDirective formControlName="uniqueName" class="form-control">
                        <div class="checkbox">
                            <label for="isSelfParentUpdt">
                <input type="checkbox" formControlName="isSelfParent" id="isSelfParentUpdt" name="parentStockGroup">Is it a sub group?</label>
                        </div>
                    </div>

                    <div class="form-group col-xs-12">
                        <label>Parent Group</label>
                        <sh-select [options]="groupsData$ | async" formControlName="parentStockGroupUniqueName" required [placeholder]="'Select Parent Group'" [multiple]="false" (selected)="groupSelected($event)"></sh-select>
                    </div>

                </div>


                <div class="clearfix text-right">
                    <div *ngIf="!(activeGroup$ | async);">
                        <button type="submit" class="btn btn-success mrR1" [ladda]="isAddNewGroupInProcess$ | async" (click)="addNewGroup()" [disabled]="addGroupForm.invalid">Save</button>
                        <button type="reset" class="btn btn-danger">Cancel</button>
                    </div>
                    <div *ngIf="activeGroup$ | async;">
                        <button type="submit" [disabled]="addGroupForm.invalid" [ladda]="isUpdateGroupInProcess$ | async" class="btn btn-success" (click)="updateGroup()">Update</button>
                        <button type="submit" class="btn btn-danger" [ladda]="isDeleteGroupInProcess$ | async" (click)="removeGroup()">Delete</button>
                    </div>
                </div>
            </form>

        </section>
        <!-- end ngIf: stock.groupEditMode -->
    </div>
</section>