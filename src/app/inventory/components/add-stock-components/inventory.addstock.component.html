<form name="addEditStockForm" novalidate="" class="ng-pristine ng-scope ng-invalid ng-invalid-required ng-valid-minlength">
  <section class="col-xs-12 col-md-9 col-lg-7">
    <div class="pd2 pdB0">
      <div class="row form_title">
        <!-- ngIf: !vm.addStockObj.stockGroup --><label ng-if="!vm.addStockObj.stockGroup" class="ng-scope">Add Stock</label>
        <!-- end ngIf: !vm.addStockObj.stockGroup -->
        <!-- ngIf: vm.addStockObj.stockGroup -->
      </div>

      <div class="row">
        <section class="form-theme clearfix mrBChldLbl">
          <div class="row mr0">
            <div class="form-group col-xs-6 pdL0 pdR">
              <label>Name<span class="required">*</span></label>
              <input type="text" name="name" class="form-control ng-pristine ng-untouched ng-invalid ng-invalid-required ng-valid-minlength"
                ng-model="vm.addStockObj.name" required="" minlength="2" style="background-image: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP6zwAAAgcBApocMXEAAAAASUVORK5CYII=&quot;);">
            </div>
            <!-- show only when update -->
            <div class="form-group col-xs-6 pdR0 pdL">
              <label>Unique Name</label>
              <input type="text" name="uniqueName" class="form-control ng-pristine ng-untouched ng-invalid ng-invalid-required" ng-model="vm.addStockObj.uniqueName"
                required="">
            </div>
          </div>

          <div class="row mr0">
            <div class="form-group col-xs-3 pdL0 pdR">
              <label>Stock Unit<span class="required">*</span></label>
              <div class="ui-select-container ui-select-bootstrap dropdown ng-invalid ng-invalid-required" ng-class="{open: $select.open}"
                ng-model="vm.addStockObj.stockUnitCode" theme="bootstrap" search-enabled="true" required="required" title="Choose Unit">
                <div class="ui-select-match" ng-hide="$select.open &amp;&amp; $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{'btn-default-focus':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="Choose Unit activate"
                    ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted ng-binding"></span>                  <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left ng-hide" ng-class="{'ui-select-allow-clear': $select.allowClear &amp;&amp; !$select.isEmpty()}"
                    ng-transclude="">
                  <span class="ng-binding ng-scope">

                  </span>
                  </span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear &amp;&amp; !$select.isEmpty() &amp;&amp; ($select.disabled !== true)"
                    aria-label="Choose Unit clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right ng-hide"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span>
                </div><input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="Choose Unit" aria-owns="ui-select-choices-6"
                  aria-activedescendant="ui-select-choices-row-6-0" class="form-control ui-select-search ng-pristine ng-untouched ng-valid ng-hide"
                  placeholder="" ng-model="$select.search" ng-show="$select.searchEnabled &amp;&amp; $select.open" style="width: 10px;">
                <ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu ng-hide" role="listbox" ng-show="$select.open &amp;&amp; $select.items.length > 0"
                  repeat="unit.code as unit in vm.customUnits | propsFilter: {name: $select.search, code: $select.search}">
                  <li class="ui-select-choices-group" id="ui-select-choices-6">
                    <div class="divider ng-hide" ng-show="$select.isGrouped &amp;&amp; $index > 0"></div>
                    <div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header ng-binding ng-hide" ng-bind="$group.name"></div>
                    <!-- ngRepeat: unit in $select.items -->
                    <!-- ngIf: $select.open -->
                    <!-- end ngRepeat: unit in $select.items -->
                    <!-- ngIf: $select.open -->
                    <!-- end ngRepeat: unit in $select.items -->
                    <!-- ngIf: $select.open -->
                    <!-- end ngRepeat: unit in $select.items -->
                    <!-- ngIf: $select.open -->
                    <!-- end ngRepeat: unit in $select.items -->
                    <!-- ngIf: $select.open -->
                    <!-- end ngRepeat: unit in $select.items -->
                    <!-- ngIf: $select.open -->
                    <!-- end ngRepeat: unit in $select.items -->
                    <!-- ngIf: $select.open -->
                    <!-- end ngRepeat: unit in $select.items -->
                    <!-- ngIf: $select.open -->
                    <!-- end ngRepeat: unit in $select.items -->
                    <!-- ngIf: $select.open -->
                    <!-- end ngRepeat: unit in $select.items -->
                  </li>
                </ul>
                <div class="ui-select-no-choice"></div>
                <input ng-disabled="$select.disabled" class="ui-select-focusser ui-select-offscreen ng-scope" type="text" id="focusser-6"
                  aria-label="Choose Unit focus" aria-haspopup="true" role="button"></div>
            </div>

            <div class="form-group col-xs-3 pdR">
              <label>Open. Qty</label>
              <input type="number" name="openingQuantity" class="form-control ng-pristine ng-untouched ng-valid" ng-model="vm.addStockObj.openingQuantity">
            </div>

            <div class="form-group col-xs-3 pdL">
              <label>Rate/stock unit</label>
              <input readonly="true" type="text" class="form-control" placeholder="calculate later" value="">
            </div>

            <!--amount/quantity formula manuallly calculate -->
            <div class="form-group col-xs-3 pdL pdR0 ">
              <label>Amount</label>
              <input type="number" name="openingAmount" class="form-control ng-pristine ng-untouched ng-valid" ng-model="vm.addStockObj.openingAmount">
            </div>

          </div>

          <div class="row mr0 col-xs-6 pdL0 pdR">
            <div class="form-group col-xs-12 pdL0 pdR">
              <label class="boldHead">Purchase Acc</label>
              <div class="ui-select-container ui-select-bootstrap dropdown ng-valid" ng-class="{open: $select.open}" ng-model="vm.addStockObj.purchaseAccountDetails.accountUniqueName"
                theme="bootstrap">
                <div class="ui-select-match" ng-hide="$select.open &amp;&amp; $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{'btn-default-focus':$select.focus}"
                  allow-clear="true" placeholder="select purchase account"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="Select box activate"
                    ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted ng-binding">select purchase account</span>                  <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left ng-hide" ng-class="{'ui-select-allow-clear': $select.allowClear &amp;&amp; !$select.isEmpty()}"
                    ng-transclude="">
                  <span class="ng-binding ng-scope"></span>
                  </span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear &amp;&amp; !$select.isEmpty() &amp;&amp; ($select.disabled !== true)"
                    aria-label="Select box clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right ng-hide"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span>
                </div><input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="Select box" aria-owns="ui-select-choices-7"
                  aria-activedescendant="ui-select-choices-row-7-0" class="form-control ui-select-search ng-pristine ng-untouched ng-valid ng-hide"
                  placeholder="select purchase account" ng-model="$select.search" ng-show="$select.searchEnabled &amp;&amp; $select.open"
                  style="width: 10px;">
                <ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu ng-hide" role="listbox" ng-show="$select.open &amp;&amp; $select.items.length > 0"
                  repeat="account.uniqueName as account in vm.purchaseAccounts | filter:$select.search | limitTo:5" refresh="vm.getPurchaseAccounts($select.search)">
                  <li class="ui-select-choices-group" id="ui-select-choices-7">
                    <div class="divider ng-hide" ng-show="$select.isGrouped &amp;&amp; $index > 0"></div>
                    <div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header ng-binding ng-hide" ng-bind="$group.name"></div>
                    <!-- ngRepeat: account in $select.items -->
                    <!-- ngIf: $select.open -->
                    <!-- end ngRepeat: account in $select.items -->
                    <!-- ngIf: $select.open -->
                    <!-- end ngRepeat: account in $select.items -->
                  </li>
                </ul>
                <div class="ui-select-no-choice"></div>
                <input ng-disabled="$select.disabled" class="ui-select-focusser ui-select-offscreen ng-scope" type="text" id="focusser-7"
                  aria-label="Select box focus" aria-haspopup="true" role="button"></div>
            </div>

            <div class="row mrB">
              <div class="col-xs-5">
                <label>Unit</label>
              </div>
              <div class="col-xs-5">
                <label>Rate</label>
              </div>
            </div>

            <!-- ngRepeat: item in vm.addStockObj.purchaseAccountDetails.unitRates track by $index -->
            <div class="row mrB1 ng-scope" ng-repeat="item in vm.addStockObj.purchaseAccountDetails.unitRates track by $index">
              <div class="col-xs-5">
                <div class="ui-select-container ui-select-bootstrap dropdown ng-valid" ng-class="{open: $select.open}" search-enabled="true"
                  ng-model="item.stockUnitCode" theme="bootstrap" title="Choose Unit">
                  <div class="ui-select-match" ng-hide="$select.open &amp;&amp; $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{'btn-default-focus':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="Choose Unit activate"
                      ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted ng-binding"></span>                    <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left ng-hide" ng-class="{'ui-select-allow-clear': $select.allowClear &amp;&amp; !$select.isEmpty()}"
                      ng-transclude="">
                    <span class="ng-binding ng-scope"></span>
                    </span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear &amp;&amp; !$select.isEmpty() &amp;&amp; ($select.disabled !== true)"
                      aria-label="Choose Unit clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right ng-hide"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span>
                  </div><input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="Choose Unit" aria-owns="ui-select-choices-9"
                    aria-activedescendant="ui-select-choices-row-9-0" class="form-control ui-select-search ng-pristine ng-untouched ng-valid ng-hide"
                    placeholder="" ng-model="$select.search" ng-show="$select.searchEnabled &amp;&amp; $select.open" style="width: 10px;">
                  <ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu ng-hide" role="listbox" ng-show="$select.open &amp;&amp; $select.items.length > 0"
                    repeat="unit.code as unit in vm.customUnits | propsFilter: {name: $select.search, code: $select.search}">
                    <li class="ui-select-choices-group" id="ui-select-choices-9">
                      <div class="divider ng-hide" ng-show="$select.isGrouped &amp;&amp; $index > 0"></div>
                      <div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header ng-binding ng-hide" ng-bind="$group.name"></div>
                      <!-- ngRepeat: unit in $select.items -->
                      <!-- ngIf: $select.open -->
                      <!-- end ngRepeat: unit in $select.items -->
                      <!-- ngIf: $select.open -->
                      <!-- end ngRepeat: unit in $select.items -->
                      <!-- ngIf: $select.open -->
                      <!-- end ngRepeat: unit in $select.items -->
                      <!-- ngIf: $select.open -->
                      <!-- end ngRepeat: unit in $select.items -->
                      <!-- ngIf: $select.open -->
                      <!-- end ngRepeat: unit in $select.items -->
                      <!-- ngIf: $select.open -->
                      <!-- end ngRepeat: unit in $select.items -->
                      <!-- ngIf: $select.open -->
                      <!-- end ngRepeat: unit in $select.items -->
                      <!-- ngIf: $select.open -->
                      <!-- end ngRepeat: unit in $select.items -->
                      <!-- ngIf: $select.open -->
                      <!-- end ngRepeat: unit in $select.items -->
                    </li>
                  </ul>
                  <div class="ui-select-no-choice"></div>
                  <input ng-disabled="$select.disabled" class="ui-select-focusser ui-select-offscreen ng-scope" type="text" id="focusser-9"
                    aria-label="Choose Unit focus" aria-haspopup="true" role="button"></div>
              </div>
              <div class="col-xs-5">
                <input type="number" class="form-control ng-pristine ng-untouched ng-valid" ng-model="item.rate">
              </div>
              <div class="col-xs-2 mutliple_unit">
                <!-- ngIf: $last --><button ng-if="$last" ng-click="vm.addUnitItem(item, 'pArr')" class="ng-scope"><i class="fa fa-plus add_row"></i></button>
                <!-- end ngIf: $last -->
                <button ng-hide="$last &amp;&amp; !$first" ng-click="vm.removeUnitItem(item, 'pArr')"><i class="fa fa-times dlet"></i></button>
              </div>
            </div>
            <!-- end ngRepeat: item in vm.addStockObj.purchaseAccountDetails.unitRates track by $index -->

          </div>


          <div class="row mr0 col-xs-6 pdL pdR0">
            <div class="form-group col-xs-12 pdL0 pdR">
              <label class="boldHead">Sales Acc</label>
              <div class="ui-select-container ui-select-bootstrap dropdown ng-valid" ng-class="{open: $select.open}" ng-model="vm.addStockObj.salesAccountDetails.accountUniqueName"
                theme="bootstrap">
                <div class="ui-select-match" ng-hide="$select.open &amp;&amp; $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{'btn-default-focus':$select.focus}"
                  allow-clear="true" placeholder="select sales account"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="Select box activate"
                    ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted ng-binding">select sales account</span>                  <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left ng-hide" ng-class="{'ui-select-allow-clear': $select.allowClear &amp;&amp; !$select.isEmpty()}"
                    ng-transclude="">
                  <span class="ng-binding ng-scope"></span>
                  </span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear &amp;&amp; !$select.isEmpty() &amp;&amp; ($select.disabled !== true)"
                    aria-label="Select box clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right ng-hide"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span>
                </div><input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="Select box" aria-owns="ui-select-choices-8"
                  aria-activedescendant="ui-select-choices-row-8-0" class="form-control ui-select-search ng-pristine ng-untouched ng-valid ng-hide"
                  placeholder="select sales account" ng-model="$select.search" ng-show="$select.searchEnabled &amp;&amp; $select.open"
                  style="width: 10px;">
                <ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu ng-hide" role="listbox" ng-show="$select.open &amp;&amp; $select.items.length > 0"
                  repeat="account.uniqueName as account in vm.salesAccounts | filter:$select.search | limitTo:5" refresh="vm.getSalesAccounts($select.search)">
                  <li class="ui-select-choices-group" id="ui-select-choices-8">
                    <div class="divider ng-hide" ng-show="$select.isGrouped &amp;&amp; $index > 0"></div>
                    <div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header ng-binding ng-hide" ng-bind="$group.name"></div>
                    <!-- ngRepeat: account in $select.items -->
                    <!-- ngIf: $select.open -->
                    <!-- end ngRepeat: account in $select.items -->
                    <!-- ngIf: $select.open -->
                    <!-- end ngRepeat: account in $select.items -->
                    <!-- ngIf: $select.open -->
                    <!-- end ngRepeat: account in $select.items -->
                    <!-- ngIf: $select.open -->
                    <!-- end ngRepeat: account in $select.items -->
                    <!-- ngIf: $select.open -->
                    <!-- end ngRepeat: account in $select.items -->
                  </li>
                </ul>
                <div class="ui-select-no-choice"></div>
                <input ng-disabled="$select.disabled" class="ui-select-focusser ui-select-offscreen ng-scope" type="text" id="focusser-8"
                  aria-label="Select box focus" aria-haspopup="true" role="button"></div>
            </div>



            <div class="row mrB">
              <div class="col-xs-5">
                <label>Unit</label>
              </div>
              <div class="col-xs-5">
                <label>Rate</label>
              </div>
            </div>

            <!-- ngRepeat: item in vm.addStockObj.salesAccountDetails.unitRates track by $index -->
            <div class="row mrB1 ng-scope" ng-repeat="item in vm.addStockObj.salesAccountDetails.unitRates track by $index">
              <div class="col-xs-5">
                <div class="ui-select-container ui-select-bootstrap dropdown ng-valid" ng-class="{open: $select.open}" search-enabled="true"
                  ng-model="item.stockUnitCode" theme="bootstrap" title="Choose Unit">
                  <div class="ui-select-match" ng-hide="$select.open &amp;&amp; $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{'btn-default-focus':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="Choose Unit activate"
                      ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted ng-binding"></span>                    <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left ng-hide" ng-class="{'ui-select-allow-clear': $select.allowClear &amp;&amp; !$select.isEmpty()}"
                      ng-transclude="">
                    <span class="ng-binding ng-scope"></span>
                    </span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear &amp;&amp; !$select.isEmpty() &amp;&amp; ($select.disabled !== true)"
                      aria-label="Choose Unit clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right ng-hide"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span>
                  </div><input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="Choose Unit" aria-owns="ui-select-choices-10"
                    aria-activedescendant="ui-select-choices-row-10-0" class="form-control ui-select-search ng-pristine ng-untouched ng-valid ng-hide"
                    placeholder="" ng-model="$select.search" ng-show="$select.searchEnabled &amp;&amp; $select.open" style="width: 10px;">
                  <ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu ng-hide" role="listbox" ng-show="$select.open &amp;&amp; $select.items.length > 0"
                    repeat="unit.code as unit in vm.customUnits | propsFilter: {name: $select.search, code: $select.search}">
                    <li class="ui-select-choices-group" id="ui-select-choices-10">
                      <div class="divider ng-hide" ng-show="$select.isGrouped &amp;&amp; $index > 0"></div>
                      <div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header ng-binding ng-hide" ng-bind="$group.name"></div>
                      <!-- ngRepeat: unit in $select.items -->
                      <!-- ngIf: $select.open -->
                      <!-- end ngRepeat: unit in $select.items -->
                      <!-- ngIf: $select.open -->
                      <!-- end ngRepeat: unit in $select.items -->
                      <!-- ngIf: $select.open -->
                      <!-- end ngRepeat: unit in $select.items -->
                      <!-- ngIf: $select.open -->
                      <!-- end ngRepeat: unit in $select.items -->
                      <!-- ngIf: $select.open -->
                      <!-- end ngRepeat: unit in $select.items -->
                      <!-- ngIf: $select.open -->
                      <!-- end ngRepeat: unit in $select.items -->
                      <!-- ngIf: $select.open -->
                      <!-- end ngRepeat: unit in $select.items -->
                      <!-- ngIf: $select.open -->
                      <!-- end ngRepeat: unit in $select.items -->
                      <!-- ngIf: $select.open -->
                      <!-- end ngRepeat: unit in $select.items -->
                    </li>
                  </ul>
                  <div class="ui-select-no-choice"></div>
                  <input ng-disabled="$select.disabled" class="ui-select-focusser ui-select-offscreen ng-scope" type="text" id="focusser-10"
                    aria-label="Choose Unit focus" aria-haspopup="true" role="button"></div>
              </div>
              <div class="col-xs-5">
                <input type="number" class="form-control ng-pristine ng-untouched ng-valid" ng-model="item.rate">
              </div>
              <div class="col-xs-2 mutliple_unit">
                <!-- ngIf: $last --><button ng-if="$last" ng-click="vm.addUnitItem(item, 'sArr')" class="ng-scope"><i class="fa fa-plus add_row"></i></button>
                <!-- end ngIf: $last -->
                <button ng-hide="$last &amp;&amp; !$first" ng-click="vm.removeUnitItem(item, 'sArr')"><i class="fa fa-times dlet"></i></button>
              </div>
            </div>
            <!-- end ngRepeat: item in vm.addStockObj.salesAccountDetails.unitRates track by $index -->

          </div>

          <div class="row mrT1">
            <div class="col-xs-12">
              <div class="checkbox">
                <label class="isFsStock" for="isFsStock" ng-click="$event.stopPropagation()">
                  <input type="checkbox" ng-model="vm.addStockObj.isFsStock" id="isFsStock" name="isFsStock" class="ng-pristine ng-untouched ng-valid">Is it a finished stock? <small>(Manufacturing/Combo)</small></label>
              </div>
            </div>
          </div>
        </section>
        <!-- end box -->
      </div>
    </div>
  </section>

  <div class="clearfix"></div>
  <!-- combo code -->
  <section class="col-xs-12">
    <div class="pdL2 pdR2 mrB2">
      <div class="row">
        <!-- ngIf: vm.addStockObj.isFsStock -->
      </div>
    </div>
  </section>
  <!-- combo code end-->
  <div class="clearfix"></div>

  <div class="col-xs-12 col-md-9 col-lg-7">
    <div class="pd pdT0">

      <!-- ngIf: !vm.addStockObj.stockGroup --><button ng-if="!vm.addStockObj.stockGroup" type="submit" class="btn btn-md btn-success mrR1 ng-scope" ng-disabled="addEditStockForm.$invalid"
        ng-click="vm.addStock()" disabled="disabled">Save</button>
      <!-- end ngIf: !vm.addStockObj.stockGroup -->

      <!-- ngIf: vm.addStockObj.stockGroup -->

      <button ng-click="vm.clearAddEditStockForm()" type="reset" class="btn btn-md btn-primary">
        Cancel
      </button>

      <!-- ngIf: vm.addStockObj.stockGroup -->

    </div>
  </div>

</form>
