<section class="h100">
    <div class="clearfix mrB2">
        <button class="btn btn-primary btn-md gico-wrap" (click)="goToManageGroup()">
      <i class="icon-edit" aria-hidden="true"></i> Manage {{ activeGroupName }} Group
      </button>
    </div>
    <form class="form-inline mrB2" name="groupReportForm" novalidate (ngSubmit)="filterFormData()">
        <div class="clearfix pr">
            <div class="form-group">
                <label class="d-block">From - To</label>
                <input type="text" name="daterangeInput" daterangepicker [options]="datePickerOptions" class="form-control date-range-picker" (hideDaterangepicker)="selectedDate($event)" (applyDaterangepicker)="selectedDate($event)" />
            </div>
            <div class="form-group">
                <label class="d-block">Stocks</label>
                <sh-select [(ngModel)]="GroupStockReportRequest.stockUniqueName" name="stockName" [options]="stockList$ | async" [placeholder]="'Type to search stock'" [multiple]="false" [ItemHeight]="33"></sh-select>
            </div>
            <div class="form-group">
                <label class="d-block">Others</label>
                <sh-select [(ngModel)]="GroupStockReportRequest.entity" name="entity" [options]="entityFilterDropDown$ | async" [placeholder]="'-- select --'" [multiple]="false" [ItemHeight]="33"></sh-select>
            </div>
            <div class="form-group">
                <label class="d-block">&nbsp;</label>
                <sh-select [(ngModel)]="GroupStockReportRequest.value" name="value" [options]="valueFilterDropDown$ | async" [placeholder]="'-- select --'" [multiple]="false" [ItemHeight]="33"></sh-select>
            </div>
            <div class="form-group">
                <label class="d-block">&nbsp;</label>
                <sh-select [(ngModel)]="GroupStockReportRequest.condition" name="condition" [options]="comparisonFilterDropDown$ | async" [placeholder]="'-- select --'" [multiple]="false" [ItemHeight]="33"></sh-select>
            </div>
            <div class="form-group">
                <label class="d-block">&nbsp;</label>
                <input [(ngModel)]="GroupStockReportRequest.number" name="number" type="text" class="form-control" />
            </div>
            <div class="form-group">
                <label class="d-block">&nbsp;</label>
                <button type="submit" class="btn btn-success">Go</button>
            </div>
        </div>
    </form>

    <section style="margin-bottom: 40px">
        <table class="table basic">
            <thead>
                <tr>
                    <th rowspan="2" colspan="2" class="bdrR">Stock name</th>
                    <th class="text-center bdrR bdrB" colspan="2">Opening stock</th>
                    <th class="text-center bdrR bdrB" colspan="2">Inwards</th>
                    <th class="text-center bdrR bdrB" colspan="2">Outwards</th>
                    <th class="text-center bdrB" colspan="2">Closing Stock</th>
                </tr>
                <tr class="bdrT">
                    <th>Quantity</th>
                    <th class="text-right bdrR">Value</th>
                    <th>Quantity</th>
                    <th class="text-right bdrR">Value</th>
                    <th>Quantity</th>
                    <th class="text-right bdrR">Value</th>
                    <th>Quantity</th>
                    <th class="text-right">Value</th>
                </tr>
            </thead>
            <tbody>
                <!-- <tr>
                    <td>Stock 1</td>
                    <td>25 kg</td>
                    <td class="text-right bdrR">30000.00</td>
                    <td>25 kg</td>
                    <td class="text-right bdrR">30000.00</td>
                    <td>25 kg</td>
                    <td class="text-right bdrR">30000.00</td>
                    <td>25 kg</td>
                    <td class="text-right bdrR">30000.00</td>
                </tr> -->
                <tr *ngFor="let txn of (groupStockReport$ | async)?.stockReport">
                    <ng-container *ngIf="txn.openingBalance || txn.inwards || txn.outwards || txn.closingBalance">
                        <td class="bdrR" colspan="2">{{txn.stockName}}</td>
                        <td>{{txn.openingBalance?.quantity}} {{txn.openingBalance?.stockUnit}}</td>
                        <td class="text-right bdrR">{{txn.openingBalance?.amount}}</td>
                        <td>{{txn.inwards?.quantity}} {{txn.inwards?.stockUnit}}</td>
                        <td class="text-right bdrR">{{txn.inwards?.amount}}</td>
                        <td>{{txn.outwards?.quantity}} {{txn.outwards?.stockUnit}}</td>
                        <td class="text-right bdrR">{{txn.outwards?.amount}}</td>
                        <td>{{txn.closingBalance?.quantity}} {{txn.closingBalance?.stockUnit}}</td>
                        <td class="text-right">{{txn.closingBalance?.amount}}</td>
                    </ng-container>

                    <!--td>{{txn.account?.name}}</td>
                    <td class="text-right">
                        <span *ngIf="txn.type == 'dr'">
                  {{txn.quantity}}&nbsp;{{txn.stockUnit}}
                  </span>
                        <span *ngIf="txn.type == 'cr'">-</span>
                    </td>
                    <td class="text-right">
                        <span *ngIf="txn.type == 'cr'">
                  {{txn.quantity}}&nbsp;{{txn.stockUnit}}
                  </span>
                        <span *ngIf="txn.type == 'dr'">-</span>
                    </td>
                    <td class="text-right" [ngClass]="txn.type === 'cr'? 'cr' : 'dr' ">{{txn.rate}}</td>
                    <td class="text-right" [ngClass]="txn.type === 'cr'? 'cr' : 'dr' ">
                        {{txn.amount}}
                    </td>
                    <td class="text-right">
                        {{txn.closingQuantity}}&nbsp;{{(groupStockReport$ | async)?.stockUnit}}
                    </td> -->
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="14">
                        <div class="pagination pull-right">
                            <ul class="list-inline">
                                <li>
                                    <button class="btn btn-default" (click)="prevPage()" [disabled]="(groupStockReport$ | async)?.page === 1">Prev
                          </button>
                                </li>
                                <li>{{(groupStockReport$ | async)?.page}}/{{(groupStockReport$ | async)?.totalPages}}</li>
                                <li>
                                    <button class="btn btn-default" (click)="nextPage()" [disabled]="(groupStockReport$ | async)?.page === (groupStockReport$ | async)?.totalPages">Next
                          </button>
                                </li>
                            </ul>
                        </div>
                    </td>
                </tr>
            </tfoot>
        </table>
    </section>
</section>