<div id="design" class="tabcontent pdT2 pdB2" [hidden]="!design" [attachOutsideOnClick]="true"
     (clickOutside)="clickedOutside()" (click)="$event.stopPropagation()">


  <div class="clearfix">
    <div class="col-xs-9">
      <div class="row">
        <label><input type="text" class="form-control" placeholder="My Template Name" name="templateName"
                      [(ngModel)]="customTemplate.name" (ngModelChange)="onValueChange(null, null)"/></label>
      </div>
    </div>
  </div>

  <!-- <img src="" height="200" alt="Image preview...">


  <button type="button" class="start-upload-btn" (click)="startUpload()">
  Start Upload
</button> {{imagePreview}} -->
  <div class="clearfix scrollAuto">
    <ul class="designTool">
      <li [hidden]="templateUISectionVisibility.templates" (click)="onChangeVisibility('templates')">
        <i class="ico-template"></i> <label>Change up to template</label>
      </li>
      <li [hidden]="!templateUISectionVisibility.templates">
        <i class="ico-template"></i> <label>Change up to template</label>
        <div class="clearfix">
          <ul class="templateView">
            <!-- {{ sampleTemplates | json}} -->
            <ng-container *ngFor="let template of sampleTemplates">
              <li (click)="onDesignChange('uniqueName', template.uniqueName)" *ngIf="template.type === 'invoice' && templateType === 'invoice'">
                <img src="./assets/images/templates/{{template.templateType}}.png" alt=""/>
              </li>
              <li (click)="onDesignChange('uniqueName', template.uniqueName)" *ngIf="template.type === 'voucher' &&  templateType === 'voucher'">
                <img src="./assets/images/templates/{{template.templateType}}.png" alt=""/>
              </li>
            </ng-container>
            <!-- <li (click)="onDesignChange('uniqueName', 'gst_template_a')">
                <img src="./assets/images/template1.jpg" alt="" />
            </li> -->
            <!-- <li (click)="onDesignChange('uniqueName', 'gst_template_b')">
                <img src="./assets/images/template1.jpg" alt="" />
            </li>
            <li (click)="onDesignChange('uniqueName', 'gst_template_c')">
                <img src="./assets/images/template1.jpg" alt="" />
            </li>
            <li (click)="onDesignChange('uniqueName', 'gst_template_d')">
                <img src="./assets/images/template1.jpg" alt="" />
            </li>
            <li (click)="onDesignChange('uniqueName', 'gst_template_e')">
                <img src="./assets/images/template1.jpg" alt="" />
            </li>
            <li (click)="onDesignChange('uniqueName', 'gst_template_f')">
                <img src="./assets/images/template1.jpg" alt="" />
            </li>
            <li (click)="onDesignChange('uniqueName', 'gst_template_g')">
                <img src="./assets/images/template1.jpg" alt="" />
            </li>
            <li (click)="onDesignChange('uniqueName', 'gst_template_h')">
                <img src="./assets/images/template1.jpg" alt="" />
            </li>
            <li (click)="onDesignChange('uniqueName', 'gst_template_i')">
                <img src="./assets/images/template1.jpg" alt="" />
            </li> -->
          </ul>
        </div>
      </li>
      <li [hidden]="templateUISectionVisibility.logo" (click)="onChangeVisibility('logo')">
        <i class="ico-edit"></i> <label>Make logo edit</label>
      </li>
      <li [hidden]="!templateUISectionVisibility.logo">
        <i class="ico-edit"></i> <label>Make logo edit</label>
        <div class="clearfix mrT1">
          <div class="logoTool">
                        <span class="logo-preview">
                            <label class="upload-button" for="logo-edit" [hidden]="logoAttached">
                                <input type="file" accept="image/png, image/jpeg" id="logo-edit"
                                       [options]="fileUploadOptions" ngFileSelect
                                       (uploadOutput)="onUploadMyFileOutput($event)" [uploadInput]="uploadInput">
                                <small>Upload Your Logo</small>
                            </label>
                            <label for="logo-edit">
                                <img src="" alt="" id="logoImage" [hidden]="!logoAttached"/>
                            </label>
                        </span>
            <button *ngIf="!isFileUploaded" type="button" class="start-upload-btn btn btn-success"
                    (click)="startUpload()" tooltip="Clicking on Upload, will Upload image on server"
                    [hidden]="!logoAttached || isFileUploadInProgress">Upload
            </button>
            <span class="start-upload-btn" *ngIf="isFileUploadInProgress"><b>Uploading...</b></span>
            <button *ngIf="isFileUploaded" type="button" class="start-upload-btn btn btn-danger" (click)="deleteLogo()"
                    tooltip="Clicking on this, will delete image from server" [hidden]="!logoAttached">Delete
            </button>
            <div class="pull-left mrL1 mrT1">
              <p>Size</p>
              <ul>
                <li (click)="onValueChange('logoSize', '40')">S</li>
                <li (click)="onValueChange('logoSize', '50')">M</li>
                <li (click)="onValueChange('logoSize', '60')">L</li>
              </ul>
              <a href="javascript:void(0);" class="primary_clr" [hidden]="!logoAttached"
                 (click)="toogleLogoVisibility()"><span [hidden]="showLogo">Show</span><span
                [hidden]="!showLogo">Hide</span> logo</a>
            </div>
          </div>
        </div>
      </li>

      <li [hidden]="templateUISectionVisibility.color" (click)="onChangeVisibility('color')">
        <i class="ico-swatch"></i> <label>Try other colour</label>
      </li>
      <!--<li *ngIf="ifColorSelected">-->
      <li [hidden]="!templateUISectionVisibility.color">
        <i class="ico-swatch"></i> <label>Try other colour</label>
        <!-- edit color  start -->
        <div class="clearfix mrT1">
          <div class="swatch text-center">
                        <span class="swatch-preview"><span class=""
                                                           [ngStyle]="{ 'background-color': customTemplate.templateColor}"></span> {{customTemplate.templateColor}}
                        </span>
            <div class="mrL1 pull-left">
              <ul>
                <li class="" (click)="changeColor('#bdbdbd', '#fcfcfc')"></li>
                <li class="" (click)="changeColor('#636363', '#f7f7f7')"></li>
                <li class="" (click)="changeColor('#000000', '#f2f2f2')"></li>
                <li class="" (click)="changeColor('#e34818', '#f2f3f4')"></li>
                <li class="" (click)="changeColor('#7889a1', '#f8f9fa')"></li>
                <li class="" (click)="changeColor('#48565f', '#f6f6f7')"></li>
                <li class="" (click)="changeColor('#79bd58', '#f8fcf6')"></li>
                <li class="" (click)="changeColor('#0e909a', '#f3f9fa')"></li>
                <li class="" (click)="changeColor('#202e5a', '#f4f4f7')"></li>
                <li class="" (click)="changeColor('#96bc2d', '#fafcf4')"></li>
                <li class="" (click)="changeColor('#2a651d', '#f4f7f3')"></li>
                <li class="" (click)="changeColor('#004254', '#f2f5f6')"></li>
                <li class="" (click)="changeColor('#ff8c00', '#fffaf3')"></li>
                <li class="" (click)="changeColor('#82001d', '#f9f2f3')"></li>
                <li class="" (click)="changeColor('#6b1438', '#f7f3f5')"></li>
                <li class="" (click)="changeColor('#f4749b', '#fef8fa')"></li>
                <li class="" (click)="changeColor('#950069', '#faf2f7')"></li>
                <li class="" (click)="changeColor('#542852', '#f6f4f6')"></li>
              </ul>
            </div>
          </div>
        </div>
        <!-- edit color end -->
      </li>

      <li [hidden]="templateUISectionVisibility.font" (click)="onChangeVisibility('font')">
        <i class="ico-txt"></i> <label>Select different fonts</label>
      </li>
      <li [hidden]="!templateUISectionVisibility.font">
        <i class="ico-txt"></i> <label>Select different fonts</label>
        <div class="col-xs-9 font-selector mrT1 form-group">
          <div class="row">
            <sh-select [options]="presetFonts" (selected)="onFontSelect($event)" [placeholder]="'Choose font'"
                       [multiple]="false" [ItemHeight]="33"></sh-select>
            <!-- <div class="form-control" fxLayout="column" (fontPickerChange)='onFontSelect(font)' fxLayoutAlign="center center" fxFlex [(fontPicker)]="font" [fpWidth]="'auto'" [fpSizeSelect]='false' [fpStyleSelect]='false' [fpPosition]="'bottom'" [fpPositionOffset]="'0%'"
                [fpPositionRelativeToArrow]="false" [fpPresetLabel]="'Preset fonts'" [fpPresetFonts]="presetFonts">
                {{font.family}}
                <i class="glyphicon glyphicon-triangle-bottom pull-right"></i>
            </div> -->
          </div>
        </div>
      </li>
      <li [hidden]="templateUISectionVisibility.print" (click)="onChangeVisibility('print')">
        <i class="ico-print"></i> <label>Edit print setting</label>
      </li>
      <li [hidden]="!templateUISectionVisibility.print">
        <i class="ico-print"></i> <label>Edit print setting</label>

        <div class="clearfix mrT1">
          <div class="printTool pos-rel">
            <p>Page margins (in pixel)</p>
            <table class="table mr0">
              <thead>
              <tr>
                <th>Top</th>
                <th>Left</th>
                <th>Bottom</th>
                <th>Right</th>
              </tr>
              </thead>
              <tbody>
              <tr>
                <td><input type="text" decimalDigitsDirective [DecimalPlaces]="1" class="form-control"
                           [(ngModel)]='customTemplate.topMargin'
                           (keyup)='onValueChange(null, null);validatePrintSetting(customTemplate.topMargin, 0, "topMargin")'
                /></td>
                <td><input type="text" decimalDigitsDirective [DecimalPlaces]="1" class="form-control"
                           [(ngModel)]='customTemplate.leftMargin'
                           (keyup)='onValueChange(null, null);validatePrintSetting(customTemplate.leftMargin, 1, "leftMargin")'
                /></td>
                <td><input type="text" decimalDigitsDirective [DecimalPlaces]="1" class="form-control"
                           [(ngModel)]='customTemplate.bottomMargin'
                           (keyup)='onValueChange(null, null);validatePrintSetting(customTemplate.bottomMargin, 2, "bottomMargin")'
                /></td>
                <td><input type="text" decimalDigitsDirective [DecimalPlaces]="1" class="form-control"
                           [(ngModel)]='customTemplate.rightMargin'
                           (keyup)='onValueChange(null, null);validatePrintSetting(customTemplate.rightMargin, 3, "rightMargin")'
                /></td>
                <td><a href="javascript:void(0);" class="pdR1" (click)="resetPrintSetting()">Reset</a></td>
              </tr>
              </tbody>
            </table>

          </div>
        </div>

      </li>
    </ul>
  </div>
</div>
