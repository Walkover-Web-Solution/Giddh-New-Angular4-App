<div class="clearfix pt-2">
    <div class="col-xs-8">

    </div>
    <div class="col-xs-4 text-right">
        <button type="button" class="btn btn-blue">+ New E-way</button>
    </div>
</div>

<div class="mt-2 clearfix">
    <div class="col-md-12">
        <div class="table-responsive">
            <table class="table basic table-bordered">
                <thead class="t-h-bg1">
                    <tr>
                        <th style="width:50px">#</th>
                        <th class="nowrap">
                            DATE
                        </th>

                        <th class="td_in_searchBox nowrap">

                            <div [hidden]="showParticularSearch">
                                <span> INVOICE NO.</span>
                                <i class="icon-search" (click)="toggleSearch('particular')"></i>
                            </div>

                            <div class="input-container" [hidden]="!showParticularSearch">
                                <input type="text" placeholder="Search Particular" class="w100" [formControl]="particularInput" #particularSearch/>
                                <!--<i class="icon-search" (click)="showParticularSearch = false;"></i>-->
                            </div>

                        </th>

                        <th style="width:20%" class="td_in_searchBox nowrap">

                            <div [hidden]="showParticularSearch">
                                <span> CUSTOMER NAME</span>
                                <i class="icon-search" (click)="toggleSearch('particular')"></i>
                            </div>

                            <div class="input-container" [hidden]="!showParticularSearch">
                                <input type="text" placeholder="Search Particular" class="w100" [formControl]="particularInput" #particularSearch/>
                                <!--<i class="icon-search" (click)="showParticularSearch = false;"></i>-->
                            </div>

                        </th>

                        <th class="nowrap">
                            <div class="d-flex">
                                <div class="flex-fill">CUSTOMER GSTIN</div>
                                <div class="icon-pointer">

                                    <div class="glyphicon glyphicon-triangle-top text-light-2 d-block font-xxs"></div>
                                    <div class="glyphicon glyphicon-triangle-bottom text-light-2 d-block font-xxs"></div>
                                </div>
                            </div>
                        </th>

                        <th class="nowrap">

                            <div class="d-flex">
                                <div class="flex-fill">E-WAY BILL#</div>
                                <div class="icon-pointer">

                                    <div class="glyphicon glyphicon-triangle-top text-light-2 d-block font-xxs"></div>
                                    <div class="glyphicon glyphicon-triangle-bottom text-light-2 d-block font-xxs"></div>
                                </div>
                            </div>

                        </th>

                        <th class="nowrap">
                            <div class="d-flex">
                                <div class="flex-fill">E-WAY BILL DATE</div>
                                <div class="icon-pointer">

                                    <div class="glyphicon glyphicon-triangle-top text-light-2 d-block font-xxs"></div>
                                    <div class="glyphicon glyphicon-triangle-bottom text-light-2 d-block font-xxs"></div>
                                </div>
                            </div>
                        </th>

                        <th class="nowrap">

                            <div class="d-flex">
                                <div class="flex-fill">TOTAL</div>
                                <div class="icon-pointer">

                                    <div class="glyphicon glyphicon-triangle-top text-light-2 d-block font-xxs"></div>
                                    <div class="glyphicon glyphicon-triangle-bottom text-light-2 d-block font-xxs"></div>
                                </div>
                            </div>

                        </th>
                        <th>STATUS</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of EwaybillLists?.results; let i = index">
                        <td>{{ i+1 }}</td>
                        <td class="nowrap">{{item?.invoiceDate}}</td>
                        <td class="nowrap download-arrow"><a href="#" class="d-inline-block">{{item?.docNumber}}</a>
                            <a (click)="onSelectEwayDownload(item)"> <i class="icon-download1 cursor-pointer pull-right"></i></a>
                        </td>
                        <td>{{item?.customerName}}</td>
                        <td>{{item?.customerGstin}}</td>
                        <td>
                            <div>
                                <!-- <a href="javascript:void(0);" class="btn-link-2" (click)="onSelectEwayDownload(item)">{{item?.ewbNo}}</a> -->
                                {{item?.ewbNo}}
                                <br>
                                <small *ngIf="item?.isManuallyGenerated" class="cp btn-link text-green">MANUALLY GENERATED</small></div>
                        </td>
                        <td class="nowrap">{{item?.ewayBillDate}}</td>
                        <td class="nowrap">â‚¹ {{item?.totalValue}}</td>
                        <td>
                            <div class="btn-group pull-left" dropdown>
                                <!-- <button type="button" class="btn btn-primary dropdown-toggle"
                                    aria-controls="dropdown-basic">
                                Button dropdown <span class="caret"></span>
                            </button> -->
                                <a href="javascript:void(0)" class="dropdown-toggle" id="button-basic" dropdownToggle>Actions <i class="caret"></i></a>
                                <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu dropdown-left" role="menu" aria-labelledby="button-basic">
                                    <li role="menuitem"><a class="dropdown-item" href="javascript:void(0)" (click)="openModal(template)">add vehicle details</a></li>
                                    <!-- <li role="menuitem"><a class="dropdown-item" href="javascript:void(0)" (click)="onSelectEwayDetailedDownload(item)">Download detailed eway </a></li> -->
                                    <li role="menuitem"><a class="dropdown-item" href="#">Cancel</a></li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                </tbody>





            </table>
            <div class="no-data" *ngIf="EwaybillLists?.results?.length === 0 && !(isGetAllEwaybillRequestInProcess$ | async)">
                <h1>No entries found within given criteria.</h1>
                <h1>Do search with some other dates</h1>
            </div>
        </div>
    </div>

</div>

<ng-template #template>
    <div class="modal-header">
        <h3 class="modal-title pull-left">Add vehicle</h3>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
    </div>
    <div class="modal-body">

        <div class="row d-flex e-way-body ">
            <div class="col-md-4 col-lg-4 col-sm-12 mt-2 text-right">
                <label>Mode of Transportation</label>
            </div>

            <div class="col-md-8 col-lg-8 col-sm-12 mt-2 ">

                <ul class="list-icon-group ">
                    <li>
                        <input id="transMode1" type="radio" name="transMode" value="1" [(ngModel)]="generateEwayBillform.transMode">
                        <label for="transMode1"><img src="assets/icon/4.svg " /> Road</label>
                    </li>
                    <li>
                        <input id="transMode2" type="radio" name="transMode" value="2" [(ngModel)]="generateEwayBillform.transMode">
                        <label for="transMode2"><img src="assets/icon/3.svg " /> Rail</label>
                    </li>
                    <li>
                        <input id="transMode3" type="radio" name="transMode" value="3" [(ngModel)]="generateEwayBillform.transMode">
                        <label for="transMode3"><img src="assets/icon/1.svg " /> Air</label>
                    </li>
                    <li>
                        <input id="transMode4" type="radio" name="transMode" value="4" [(ngModel)]="generateEwayBillform.transMode">
                        <label for="transMode4"><img src="assets/icon/2.svg " /> Ship</label>
                    </li>

                </ul>

            </div>
        </div>

        <div class="row d-flex e-way-body ">
            <div class="col-md-4 col-lg-4 col-sm-12 mt-2 text-right">
                <label>Vehicle Type</label>
            </div>

            <div class="col-md-8 col-lg-8 col-sm-12 mt-2 ">

                <!-- <span class="mr-1 ">  <input type="radio "class="radio_theme " style="margin-right: 10px "/> Regular</span>
            <span>  <input type="radio "class="radio_theme " style="margin-right: 10px "/> Over Dimensional Cargo</span> -->
                <label class="radio-inline pd0"><input class="radio_theme cp ml0" name="vehicleType"   value="R" [(ngModel)]="generateEwayBillform.vehicleType" type="radio" />Regular </label>

                <label class="radio-inline pd0"><input class="radio_theme cp ml0" name="vehicleType"  value="O" [(ngModel)]="generateEwayBillform.vehicleType" type="radio"/>Over Dimensional Cargo</label>

            </div>
        </div>

        <div class="row d-flex e-way-body ">
            <div class="col-md-4 col-lg-4 col-sm-12 mt-2 text-right">
                <label>Vehicle No.*</label>
            </div>

            <div class="col-md-8 col-lg-8 col-sm-12 mt-2 ">

                <input type="text" name="vehicleNo" required placeholder="Mention Number " maxlength="15" minlength="7" [(ngModel)]="generateEwayBillform.vehicleNo" class="form-control input " />

            </div>
        </div>

    </div>
</ng-template>