<div class="modal-header">
    <span aria-hidden="true" class="close" data-dismiss="modal" (click)="onCancel()">Ã—</span>
    <!-- <i class="fa fa-times text-right close_modal" data-dismiss="modal" aria-hidden="true"  aria-label="Close"></i> -->
    <h3 class="">Connect Banks</h3>
</div>
<div id="myFrame" class="modal-body clearfix">
    <div class="" *ngIf="step === 1">
        <div class="form-group">
            <label>Search Provider</label>
            <input [ngbTypeahead]="dataSource" type="text" [(ngModel)]="selectedProvider.name" name="providers" [resultTemplate]="rt" (selectItem)="typeaheadOnSelect($event)" class="form-control" autocomplete="off" required maxlength="50" placeholder="Search Provider"
                pattern="^[^\s]+(\s+[^\s]+)*$">

            <ng-template #rt let-r="result" let-t="term">
                <span (keyup.enter)="typeaheadOnSelect(r)">{{ r.name }}</span>
            </ng-template>
        </div>
        <button class="btn btn-success btn-sm" (click)="onSelectProvider()" [disabled]="!selectedProvider.name">Next</button>
    </div>

    <div class="" *ngIf="step === 2">
        <form #formDiv name="loginForm" [formGroup]="loginForm" novalidate="" autocomplete="off">
            <div formArrayName="row">
                <div *ngFor="let item of loginForm.get('row')['controls']; let i=index;let f = first; let l = last">
                    <div [formGroupName]="i" class="form-group">
                        <label> {{item.get('label').value}}</label>
                        <ng-container formArrayName="field">
                            <ng-container *ngFor="let field of item.get('field').controls; let idx=index;">
                                <ng-container [formGroupName]="idx">
                                    <input type="text" class="form-control" formControlName="value" />
                                </ng-container>
                            </ng-container>
                        </ng-container>
                    </div>
                </div>
            </div>



        </form>
    </div>
    <!-- <p class="text-center" *ngIf="isIframeLoading; else frame">Loading...</p>
    <ng-template #frame>
        <iframe id="player" *ngIf="url" class="embed-responsive-item" [src]="url" frameborder="0"></iframe>
    </ng-template> -->
</div>