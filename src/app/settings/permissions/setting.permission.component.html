<div class="container-fluid pdT2 pdB2">
  <h3 class="mrB1"><strong>Give Permission to:</strong></h3>
  <setting-permission-form [userdata]="null" [isLblShow]="false" [isUpdtCase]="false" [isHorizntl]="true" (onSubmitForm)="submitPermissionForm($event)"></setting-permission-form>
</div>

<div class="container-fluid">
  <div class="row box">
    <div *ngFor="let usrGrp of usersList">
      <div class="lead mrB1">{{usrGrp.name}}</div>
      <div class="mrB1"><i class="fa fa-user"></i> {{usrGrp.rows[0].userUniqueName}}</div>
      <table width="100%" class="table bdrB">
        <tbody>
          <tr *ngFor="let user of usrGrp.rows; let i = index">
            <td width="30%">&nbsp;</td>
            <td width="16%">
              <input class="form-control" [value]="user.roleName">
            </td>
            <td width="22%">
              <input *ngIf="user.from && user.to" class="form-control" value="{{user.from}} - {{user.to}}" />
              <input *ngIf="user.period && user.duration" class="form-control" value="Past &nbsp;{{user.duration}} &nbsp; {{user.period}}S" />
            </td>
            <td width="22%">
              <input *ngIf="user.ipsStr" class="form-control" [value]="user.ipsStr">
              <input *ngIf="user.cidrsStr" class="form-control" [value]="user.cidrsStr">
            </td>
            <td width="10%" class="alC">
              <i class="fa fa-pencil cp mrR1" (click)="showModalForEdit(user)"></i>
              <i (click)="onRevokePermission(user.email, user.roleName)" class="fa fa-trash cp"></i>
            </td>
          </tr>
        </tbody>
      </table>
      </div>
  </div>
</div>

<!-- create Ac modal -->

<div bsModal #editUserModal="bs-modal" class="modal fade" role="dialog" [config]="modalConfig" *ngIf="showEditUserModal">
  <div class="modal-dialog modal-md">
    <div class="modal-content">
      <div class="modal-header pd2 pdL2 pdR2 clearfix">
        <h3 class="modal-title bg" id="modal-title">Edit User</h3>
        <i class="fa fa-times text-right close_modal" aria-hidden="true" (click)="closeEditUserModal()"></i>
      </div>
      <div class="modal-body">
        <setting-permission-form [userdata]="selectedUser" [isLblShow]="true" [isUpdtCase]="true" [isHorizntl]="false" (onSubmitForm)="submitPermissionForm($event)"></setting-permission-form>
      </div>
    </div>
  </div>
</div>

