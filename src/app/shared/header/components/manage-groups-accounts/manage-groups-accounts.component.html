<div id="getGroupModal" ng-controller="groupController as gc" class="">

  <div class="modal-header themeBg">
    <button type="button" class="close" data-dismiss="modal" (click)="closePopupEvent()" aria-label="Close"><span aria-hidden="true">×</span></button>
    <h3 class="modal-title">Manage Groups &amp; Accounts</h3>
  </div>
  <!-- end header -->

  <div class="modal-body pd0">
    <div class="clearfix">

      <div class="col-xs-3  greyBg">
        <div>

          <div class="mrT1 mrB1 form-inline">
            <div class="form-group">

              <div class="input-group">

                <div class="input-group-addon">
                  <i class="glyphicon glyphicon-search"></i>
                </div>

                <input type="text" name="grpSrch" class="form-control ng-pristine ng-untouched ng-valid" ng-model="keyWord" placeholder="Search groups"
                  ng-keyup="setScrollToTop(grpSrch, 'addMngGrpScrBar')" trial-accordion="search" ng-model-options="{debounce:1000}">


              </div>
            </div>
          </div>
          <!-- searchbar end -->
          <div class="search-loading0" *ngIf="!showListGroupsNow">
            <span class="spinner small"></span> Loading…
          </div>

          <perfect-scrollbar id="addMngGrpScrBar" class="scrClass" [config]="psConfig">
          <!-- <div id="addMngGrpScrBar" class="scrClass ps-container" wheel-propagation="true" wheel-speed="1" min-scrollbar-length="20"
            suppressscrollx="false" usebothwheelaxes="false" suppressscrolly="true"> -->
            <div ng-transclude="">
              <!-- ngIf: showListGroupsNow -->
              <div *ngIf="showListGroupsNow">
                <groups-recursive-list [groupList]="groupList$ | async"></groups-recursive-list>
              </div>
              <!-- end ngIf: showListGroupsNow -->
            </div>
            <!-- <div class="ps-scrollbar-x-rail" style="width: 0px; display: none; left: 0px; bottom: 0px;">
              <div class="ps-scrollbar-x" style="left: 0px; width: 0px;"></div>
            </div>
            <div class="ps-scrollbar-y-rail" style="top: 0px; height: 380px; display: none; right: 0px;">
              <div class="ps-scrollbar-y" style="top: 0px; height: 0px;"></div>
            </div> -->
          <!-- </div> -->
          </perfect-scrollbar>
        </div>
      </div>
      <script type="text/ng-template" id="childGroupList">
        <section class="row row-2" ng-repeat="grp in grp.groups">
          <div class="row" trial-accordion>
            <div class="col-xs-12 group" ng-style="{'padding-left':padLeft + 10}" ng-if="grp.isVisible"><span id="subGrp_{{grp.name}}" ng-bind-html="grp.name | capitalize" ng-click="selectItem(grp)" uib-tooltip="{{grp.synonyms}}"
                tooltip-placement="right"></span></div>
          </div>
          <section class="subGroups isHidden" ng-if="grp.groups.length" ng-style="{'padding-left':padLeft + 10}">
            <div ng-include="'childGroupList'"></div>
          </section>
        </section>
      </script>

      <!-- middle body -->
      <div class="col-xs-7  pos-rel">
        <div class="bdrR bdrL row " id="middleBody">

          <!-- ngIf: showGroupDetails -->

          <!-- ngIf: showAccountDetails -->

        </div>

        <!-- ngIf: showAccountDetails || showGroupDetails -->
      </div>

      <!-- right side -->
      <div class="col-xs-2" id="right">
        <div class="row pr">

          <div class="form-group pdL1 pdT1 pdR1">
            <div class="input-group">
              <div class="input-group-addon">
                <i class="glyphicon glyphicon-search"></i>
              </div>
              <input type="text" name="accountsSearch" ng-model="search.flataccount" class="form-control ng-pristine ng-untouched ng-valid"
                placeholder="Search accounts" ng-change="searchAccountsC5(search.flataccount)" ng-model-options="{debounce:1000}">
            </div>
          </div>

          <section class="pr" style="height: 378px">
            <div class="search-loading ng-hide" ng-hide="showAccountListDetails || showListGroupsNow || fltAccntListcount5.length > 0">
              <span class="spinner small"></span> Loading…
            </div>
            <!-- ngIf: showAccountListDetails -->

            <!-- ngIf: search.flataccount.length > 0 || isEmptyObject(selectedGroup) -->
            <group-account-list [accountsList]="[]"></group-account-list>
            <!-- <div ng-if="search.flataccount.length > 0 || isEmptyObject(selectedGroup)" class="">

            </div> -->
            <!-- end ngIf: search.flataccount.length > 0 || isEmptyObject(selectedGroup) -->
            <!-- uib-tooltip="{{value.parentGroups[0].name}}"tooltip-placement="bottom" ng-if="value.parentGroups[0].name!=selectedGroup.name" -->
          </section>

        </div>
      </div>
      <!-- right side end -->
    </div>

  </div>
  <!-- end modal body -->


</div>
