<label *ngIf="label !== ''">
  {{label}}
</label>
<div #selection [attr.tabindex]="disabled ? null : 0" [ngClass]="{'open': isOpen, 'focus': hasFocus, 'below': isBelow, 'disabled': disabled}"
  (click)="onSelectContainerClick($event)" (focus)="onSelectContainerFocus()" (keydown)="onSelectContainerKeydown($event)">

  <div class="single" *ngIf="!multiple && !isTypeAheadMode">
    <div class="value" *ngIf="optionList.hasSelected">
      <ng-template [ngOutletContext]="{option: optionList.selection[0], onDeselectOptionClick: onDeselectOptionClick}" [ngTemplateOutlet]="optionTemplate"></ng-template>
      <span *ngIf="!optionTemplate">{{optionList.selection[0].label}}</span>
    </div>
    <div class="placeholder" *ngIf="!optionList.hasSelected">
      {{placeholderView}}
    </div>
    <div class="clear" *ngIf="allowClear && optionList.hasSelected" (click)="onClearSelectionClick($event)">
      &#x2715;
    </div>
    <div class="toggle" *ngIf="isOpen">
      <span class="glyphicon glyphicon-triangle-top"></span>
    </div>
    <div class="toggle" *ngIf="!isOpen">
      <span class="glyphicon glyphicon-triangle-bottom"></span>
    </div>
  </div>

  <div class="multiple" *ngIf="multiple">
    <div class="option" *ngFor="let option of optionList.selection">
      <span class="deselect-option" (click)=onDeselectOptionClick(option)>
        &#x2715;
      </span> {{option.label}}
    </div>
    <div class="placeholder" *ngIf="!filterEnabled && !optionList.hasSelected">
      {{placeholderView}}
    </div>
    <input *ngIf="filterEnabled" #filterInput autocomplete="off" tabindex="-1" [placeholder]="placeholderView" [ngStyle]="{'width.px': filterInputWidth}"
      (input)="onFilterInput($event.target.value)" (keydown)="onMultipleFilterKeydown($event)" (focus)="onMultipleFilterFocus()"
    />

  </div>

  <div class="single" *ngIf="isTypeAheadMode">
    <div class="option" style="width:100%;">
      <ng-container *ngIf="optionList.hasSelected  && !showTypeAheadInput"> {{optionList.selection[0].label}}</ng-container>
      <input *ngIf="filterEnabled" [ngStyle]="{'display': showTypeAheadInput ? 'block':'none'}" #filterInput autocomplete="off" tabindex="-1" [placeholder]="placeholderView"
        (input)="onFilterInput($event.target.value)" (keydown)="onMultipleFilterKeydown($event)" (focus)="onMultipleFilterFocus()"
        class="form-control"  />
      <ng-container *ngIf="optionList.hasSelected && !showTypeAheadInput">
        <span class="deselect-option" (click)=onDeselectOptionClick(optionList.selection[0])>
          &#x2715;
        </span>
      </ng-container>
    </div>

  </div>

</div>
<select-dropdown *ngIf="isOpen" #dropdown [multiple]="multiple" [isTypeAheadMode]="isTypeAheadMode" [optionList]="optionList"
  [notFoundMsg]="notFoundMsg" [highlightColor]="highlightColor" [highlightTextColor]="highlightTextColor" [filterEnabled]="filterEnabled"
  [noResultLinkEnabled]="notFoundLink" [placeholder]="filterPlaceholder" [width]="width" [top]="top" [left]="left" [optionTemplate]="optionTemplate"
  (noResultClicked)="onNoResultClicked()" (optionClicked)="onDropdownOptionClicked($event)" (optionsListClick)="onOptionsListClick()"
  (singleFilterClick)="onSingleFilterClick()" (singleFilterFocus)="onSingleFilterFocus()" (singleFilterInput)="onFilterInput($event)"
  (singleFilterKeydown)="onSingleFilterKeydown($event)"></select-dropdown>
