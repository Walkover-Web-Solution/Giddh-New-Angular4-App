<div class="container-fluid">
  <div class="top_bar clearfix">
    <div class="form-inline">
      <div class="pull-left">
        <div class="form-group mrR1 max500">
          <sh-select placeholder="Search Year..." [multiple]='false' name="names" [(ngModel)]="selectedYear"
                     [options]="yearOptions"></sh-select>
        </div>
        <div class="form-group mrR1 max500">
          <sh-select placeholder="Search type..." [multiple]='false' name="names" [(ngModel)]="selectedType"
                     [options]="GetTypeOptions"></sh-select>
        </div>
        <div class="form-group mrR1 max500" *ngIf="selectedType==='month'">
          <sh-select placeholder="Search Month..." [multiple]='false' name="names" [(ngModel)]="selectedmonth"
                     [options]="monthOptions"></sh-select>
        </div>
        <div class="form-group mrR1 max500" *ngIf="selectedType==='quater'">
          <sh-select placeholder="Search Quater..." [multiple]='false' name="names" [(ngModel)]="selectedQuater"
                     [options]="quaterOptions"></sh-select>
        </div>
        <div class="btn-group">
          <button class="btn btn-success" type="button" (click)="go()">
            Go
          </button>
        </div>
      </div>

    </div>
  </div>

  <table class="table basic table-bordered">
    <thead>
    <tr>
      <th colspan="2">Total</th>
      <th colspan="4">{{columnName}}(New Customer)</th>
      <th>Carried</th>
    </tr>
    <tr>
      <th [style.width.%]="10">Amt</th>
      <th [style.width.%]="10">Inv Count</th>
      <th [style.width.%]="20">Amt</th>
      <th [style.width.%]="10">Inv</th>
      <th [style.width.%]="10">Amt</th>
      <th [style.width.%]="10">Inv</th>
      <th [style.width.%]="20">Month</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngIf="selectedType==='month'">
      <th [hidden]="!(carriedData$ | async)?.totalSales" [style.width.%]="10"    style="vertical-align: top!important;">{{(carriedData$ |
        async)?.totalSales.total}}
      </th>
      <th [hidden]="!(carriedData$ | async)?.totalSales" [style.width.%]="10" style="vertical-align: top!important;">{{(carriedData$ |
        async)?.totalSales.invoiceCount}}
      </th>
      <th [hidden]="!(carriedData$ | async)?.newSales" [style.width.%]="20" style="vertical-align: top!important;">
        {{(carriedData$ | async)?.newSales.total}}
      </th>
      <th [hidden]="!(carriedData$ | async)?.newSales" [style.width.%]="10" style="vertical-align: top!important;">{{(carriedData$ |
        async)?.newSales.invoiceCount}}
      </th>
      <th [hidden]="!(carriedData$ | async)?.carriedSales" [style.width.%]="40" colspan="3" style="vertical-align: top!important;">
        <table [style.width.%]="100">
          <tr>
            <td [style.width.%]="30">{{(carriedData$ | async)?.carriedSales[0]?.total}}</td>
            <td [style.width.%]="30">{{(carriedData$ | async)?.carriedSales[0]?.invoiceCount}} </td>
            <td [style.width.%]="40"> {{(carriedData$ | async)?.carriedSales[0]?.month}}</td>
          </tr>
          <tr>
            <td [style.width.%]="30"> {{(carriedData$ | async)?.carriedSales[1]?.total}}</td>
            <td [style.width.%]="30"> {{(carriedData$ | async)?.carriedSales[1]?.invoiceCount}}</td>
            <td [style.width.%]="40"> {{(carriedData$ | async)?.carriedSales[1]?.month}}</td>
          </tr>
          <tr>
            <td [style.width.%]="30"> {{(carriedData$ | async)?.carriedSales[2]?.total}}</td>
            <td [style.width.%]="30"> {{(carriedData$ | async)?.carriedSales[2]?.invoiceCount}}</td>
            <td [style.width.%]="40"> {{(carriedData$ | async)?.carriedSales[2]?.month}}</td>
          </tr>
          <tr>
            <td [style.width.%]="30"> {{(carriedData$ | async)?.carriedSales[3]?.total}}</td>
            <td [style.width.%]="30"> {{(carriedData$ | async)?.carriedSales[3]?.invoiceCount}}</td>
            <td [style.width.%]="40"> {{(carriedData$ | async)?.carriedSales[3]?.month}}</td>
          </tr>
          <tr>
            <td [style.width.%]="30"> {{(carriedData$ | async)?.carriedSales[4]?.total}}</td>
            <td [style.width.%]="30"> {{(carriedData$ | async)?.carriedSales[4]?.invoiceCount}}</td>
            <td [style.width.%]="40"> {{(carriedData$ | async)?.carriedSales[4]?.month}}</td>
          </tr>
          <tr style="height: 22px;"></tr>
          <tr style="border-top: 1px solid gainsboro;">
            <td [style.width.%]="30">{{ crdTotal }}</td>
            <td [style.width.%]="30"> {{ invTotal }}</td>
            <td [style.width.%]="40">Total</td>
          </tr>
        </table>
      </th>
    </tr>

    <tr *ngIf="selectedType==='quater'">
      <th [hidden]="!(carriedData$ | async)?.totalSales" [style.width.%]="10"    style="vertical-align: top!important;">{{(carriedData$ |
        async)?.totalSales.total}}
      </th>
      <th [hidden]="!(carriedData$ | async)?.totalSales" [style.width.%]="10" style="vertical-align: top!important;">{{(carriedData$ |
        async)?.totalSales.invoiceCount}}
      </th>
      <th [hidden]="!(carriedData$ | async)?.newSales" [style.width.%]="20" style="vertical-align: top!important;">
        {{(carriedData$ | async)?.newSales.total}}
      </th>
      <th [hidden]="!(carriedData$ | async)?.newSales" [style.width.%]="10" style="vertical-align: top!important;">{{(carriedData$ |
        async)?.newSales.invoiceCount}}
      </th>
      <th [hidden]="!(carriedData$ | async)?.carriedSales" [style.width.%]="40" colspan="3" style="vertical-align: top!important;">
        <table [style.width.%]="100">
          <tr>
            <td [style.width.%]="30">{{(carriedData$ | async)?.carriedSales[0]?.total}}</td>
            <td [style.width.%]="30">{{(carriedData$ | async)?.carriedSales[0]?.invoiceCount}} </td>
            <td [style.width.%]="40"> {{(carriedData$ | async)?.carriedSales[0]?.month}}</td>
          </tr>
          <tr>
            <td [style.width.%]="30"> {{(carriedData$ | async)?.carriedSales[1]?.total}}</td>
            <td [style.width.%]="30"> {{(carriedData$ | async)?.carriedSales[1]?.invoiceCount}}</td>
            <td [style.width.%]="40"> {{(carriedData$ | async)?.carriedSales[1]?.month}}</td>
          </tr>
          <tr>
            <td [style.width.%]="30"> {{(carriedData$ | async)?.carriedSales[2]?.total}}</td>
            <td [style.width.%]="30"> {{(carriedData$ | async)?.carriedSales[2]?.invoiceCount}}</td>
            <td [style.width.%]="40"> {{(carriedData$ | async)?.carriedSales[2]?.month}}</td>
          </tr>
          <tr style="height: 22px;"></tr>
          <tr style="border-top: 1px solid gainsboro;">
            <td [style.width.%]="30">{{ crdTotal }}</td>
            <td [style.width.%]="30"> {{ invTotal }}</td>
            <td [style.width.%]="40">Total</td>
          </tr>
        </table>
      </th>
    </tr>
  </table>
</div>
