<div id="ember2408" class="fill body scroll-y noscroll-x scrollbox ember-view">
    <div class="filter-band">
        <div class="row font-small">
            <div class="col-md-12">
                <div class="filter-row back-button">
                    <a href="javascript:void(0)" (click)="goBack()">
                        <img src="{{imgPath}}back.svg" class="icon icon-sm text-top back-ico" /> Back
                    </a>
                </div>
                <div class="filter-row ember-view">
                    <div class="name">Transaction Type: </div>

                    <div class="btn-group filter" dropdown>
                        <button id="button-basic" dropdownToggle type="button" class="btn btn-primary dropdown-toggle" aria-controls="dropdown-basic">
                            {{filterParam.entityType}} <span class="caret"></span>
                        </button>
                        <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-basic">
                            <li *ngFor="let entity of entityType"><a class="dropdown-item" href="javascript:void(0)" (click)="viewFilteredTxn('entityType', entity.value)">{{entity.label}}</a></li>
                        </ul>
                    </div>
                </div>

                <div class="filter-row ember-view" *ngIf="filterParam.entityType !== 'invoices' || !filterParam.entityType">
                    <div class="name">{{filterParam.entityType}} Type: </div>

                    <div class="btn-group filter" dropdown>
                        <button id="button-basic" dropdownToggle type="button" class="btn btn-primary dropdown-toggle" aria-controls="dropdown-basic">
                            {{filterParam.type}} <span class="caret"></span>
                        </button>
                        <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-basic">
                            <li *ngFor="let type of otherEntityType"><a class="dropdown-item" href="javascript:void(0)" (click)="viewFilteredTxn('type', type.value)">{{type.label}}</a></li>
                        </ul>
                    </div>
                </div>


                <div class="filter-row ember-view" *ngIf="filterParam.entityType === 'invoices'">
                    <div class="name">{{filterParam.entityType}} Type: </div>

                    <div class="btn-group filter" dropdown>
                        <button id="button-basic" dropdownToggle type="button" class="btn btn-primary dropdown-toggle" aria-controls="dropdown-basic">
                            {{filterParam.type}} <span class="caret"></span>
                        </button>
                        <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-basic">
                            <li *ngFor="let type of invoiceType"><a class="dropdown-item" href="javascript:void(0)" (click)="viewFilteredTxn('type', type.value)">{{type.label}}</a></li>
                        </ul>
                    </div>
                </div>

                <div class="filter-row ember-view">
                    <div class="name">Status: </div>

                    <div class="btn-group filter" dropdown>
                        <button id="button-basic" dropdownToggle type="button" class="btn btn-primary dropdown-toggle" aria-controls="dropdown-basic">
                            {{filterParam.status}} <span class="caret"></span>
                        </button>
                        <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-basic">
                            <li *ngFor="let item of status"><a class="dropdown-item" href="javascript:void(0)" (click)="viewFilteredTxn('status', item.value)">{{item.label}}</a></li>
                        </ul>
                    </div>
                </div>

                <!-- commented due to not avail in API
                <div id="ember2441" class="filter-row ember-view">
                    <div class="name">Action on GSTN: </div>
                    <div class="filter"><button type="button" data-toggle="dropdown" class="btn btn-primary btn-sm dropdown-toggle "> All <span class="caret"></span></button>
                        <ul class="dropdown-menu">
                            <li><a data-ember-action="" data-ember-action-2442="2442">All</a></li>
                            <li><a data-ember-action="" data-ember-action-2443="2443">To be Added</a></li>
                            <li><a data-ember-action="" data-ember-action-2444="2444">To be Updated</a></li>
                            <li><a data-ember-action="" data-ember-action-2445="2445">To be Deleted</a></li>
                        </ul>
                    </div>
                </div>
                 -->
            </div>
        </div>
    </div>
    <div class="table-responsive scroll-x">
        <table class="transactions-table table-striped  table zi-table table-hover ember-view" *ngIf="(viewTransaction$ | async) && (viewTransaction$ | async)?.totalItems">
            <thead>
                <tr>
                    <th style="" class="text-left ember-view">
                        <div style="position: relative">
                            <div class="pull-left over-flow"> Invoice Date
                            </div>
                        </div>
                    </th>
                    <th style="" class="text-left ember-view">
                        <div style="position: relative">
                            <div class="pull-left over-flow"> Invoice #
                            </div>
                        </div>
                    </th>
                    <th style="" class="text-left ember-view">
                        <div style="position: relative">
                            <div class="pull-left over-flow"> Customer GSTIN
                            </div>
                        </div>
                    </th>
                    <th style="" class="text-left ember-view">
                        <div style="position: relative">
                            <div class="pull-left over-flow"> Customer Name
                            </div>
                        </div>
                    </th>
                    <th style="" class="text-left ember-view">
                        <div style="position: relative">
                            <div class="pull-left over-flow"> Status
                            </div>
                        </div>
                    </th>
                    <th style="" class="text-left ember-view">
                        <div style="position: relative">
                            <div class="pull-left over-flow"> Action on GSTN
                            </div>
                        </div>
                    </th>
                    <th style="" class="text-left ember-view">
                        <div style="position: relative">
                            <div class="pull-left over-flow"> Place of supply
                            </div>
                        </div>
                    </th>
                    <th style="" class="text-left ember-view">
                        <div style="position: relative">
                            <div class=" over-flow"> Reverse Charge
                            </div>
                        </div>
                    </th>
                    <th style="" class="text-right ember-view">
                        <div style="position: relative">
                            <div class=" over-flow"> Taxable Amount
                            </div>
                        </div>
                    </th>

                    <th style="" class="text-right ember-view">
                        <div style="position: relative">
                            <div class=" over-flow"> IGST
                            </div>
                        </div>
                    </th>

                    <th style="" class="text-right ember-view">
                        <div style="position: relative">
                            <div class=" over-flow"> SGST
                            </div>
                        </div>
                    </th>

                    <th style="" class="text-right ember-view">
                        <div style="position: relative">
                            <div class=" over-flow"> CESS
                            </div>
                        </div>
                    </th>

                    <th style="" class="text-right ember-view">
                        <div style="position: relative">
                            <div class=" over-flow"> Total Amount
                            </div>
                        </div>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="cursor-pointer" *ngFor="let item of (viewTransaction$ | async).results">
                    <td>{{item.voucherDate}}</td>
                    <td class="btn-link" (click)="onSelectInvoice(item)">{{item.voucherNumber}}</td>
                    <td>
                        {{item.accountGstin}}
                    </td>
                    <td>{{item.accountName}}</td>
                    <td>{{item.status}}</td>
                    <td>{{item.actionOnGstin}}</td>
                    <td>
                        {{item.pos}}
                    </td>
                    <td>{{item.reverseCharge}}</td>
                    <td align="right">₹{{item.taxableAmount | number: '1.2-2'}}</td>
                    <td align="right">₹{{item.igstAmount | number: '1.2-2'}}</td>
                    <td align="right">₹{{item.sgstAmount | number: '1.2-2'}}</td>
                    <td align="right">₹{{item.cessAmount | number: '1.2-2'}}</td>
                    <td align="right">₹{{item.totalAmount | number: '1.2-2'}}</td>
                </tr>
            </tbody>
        </table>
        <!--  -->
        <div class="text-center" *ngIf="(viewTransaction$ | async)?.totalPages > 1">
            <pagination [maxSize]="5" [totalItems]="(viewTransaction$ | async)?.totalItems" (pageChanged)="pageChanged($event)" class="pagination-sm" [boundaryLinks]="true" [rotate]="false"></pagination>
        </div>

        <div class="filings-empty-state" *ngIf="(viewTransaction$ | async) && !(viewTransaction$ | async)?.results?.length">
            <img src="../assets/images/nofound.svg" [style.max-width.px]="150" />
            <div class="empty-msg"><span>  No records found.  </span></div>
        </div>
    </div>
</div>


<!-- Download or Send Invoice on mail -->
<div bsModal #downloadOrSendMailModel="bs-modal" class="modal fade" role="dialog" [config]="modalConfig">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div element-view-container-ref #downloadOrSendMailComponent=elementviewcontainerref>
            </div>
        </div>
    </div>
</div>

<!-- modal dialog -->
<div bsModal #invoiceGenerateModel="bs-modal" class="modal fade" role="dialog" [config]="modalConfig">
    <div class="modal-dialog gray modal-liquid">
        <div class="modal-content">
            <!-- <invoice-generate-model (closeEvent)="closeInvoiceModel($event)"></invoice-generate-model> -->
        </div>
    </div>
</div>