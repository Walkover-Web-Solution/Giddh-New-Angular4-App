<div class="column content-column gst-filing-container navs-list">

  <div class="tax-engine">

    <div class="column list-column expanded-list-column transactions-list">

      <div class="scroll-y noscroll-x body fill">

        <div class="reconciliation-type-band">

          <tabset class="sub-filter-nav-band " #staticTabs>

            <tab (select)="reconcileTabChanged('notfoundonportal')">

              <ng-template tabHeading>
                Missing in GSTN <span class="count">{{'(' + (gstNotFoundOnPortalData$ | async)?.count + ')'}}</span>
              </ng-template>

              <ng-container
                *ngTemplateOutlet="commonTableTemplate;context:{ $implicit: (gstNotFoundOnPortalData$ | async)}"></ng-container>

              <ng-container *ngIf="!(gstNotFoundOnPortalData$ | async)?.count">
                <div class="filings-empty-state">
                  <img src="{{imgPath}}nofound.svg" [style.max-width.px]="110"/>
                  <div class="empty-msg"><span>All transactions in Giddh Books whose vendor GSTIN, invoice number,&nbsp; invoice date, invoice amount and tax amount are same as the transactions in GSTN are displayed in this section.</span>
                  </div>
                </div>
              </ng-container>

            </tab>

            <tab (select)="reconcileTabChanged('notfoundongiddh')">
              <ng-template tabHeading>
                Missing in Giddh <span class="count">{{'(' + (gstNotFoundOnGiddhData$ | async)?.count + ')'}}</span>
              </ng-template>

              <ng-container
                *ngTemplateOutlet="commonTableTemplate;context:{ $implicit: (gstNotFoundOnGiddhData$ | async)}"></ng-container>

              <ng-container *ngIf="!(gstNotFoundOnGiddhData$ | async)?.count">
                <div class="filings-empty-state">
                  <img src="{{imgPath}}nofound.svg" [style.max-width.px]="110"/>
                  <div class="empty-msg"><span>All transactions in Giddh Books whose vendor GSTIN, invoice number,&nbsp; invoice date, invoice amount and tax amount are same as the transactions in GSTN are displayed in this section.</span>
                  </div>
                </div>
              </ng-container>
            </tab>

            <tab (select)="reconcileTabChanged('partiallymatched')">

              <ng-template tabHeading>
                Partially Matched <span class="count">{{'(' + (gstPartiallyMatchedData$ | async)?.count + ')'}}</span>
              </ng-template>

              <ng-container
                *ngTemplateOutlet="commonTableTemplate;context:{ $implicit: (gstPartiallyMatchedData$ | async)}"></ng-container>

              <ng-container *ngIf="!(gstPartiallyMatchedData$ | async)?.count">
                <div class="filings-empty-state">
                  <img src="{{imgPath}}nofound.svg" [style.max-width.px]="110"/>
                  <div class="empty-msg"><span>All transactions in Giddh Books whose vendor GSTIN, invoice number,&nbsp; invoice date, invoice amount and tax amount are same as the transactions in GSTN are displayed in this section.</span>
                  </div>
                </div>
              </ng-container>
            </tab>

            <tab (select)="reconcileTabChanged('matched')">

              <ng-template tabHeading>
                Matched <span class="count">{{'(' + (gstMatchedData$ | async)?.count + ')'}}</span>
              </ng-template>

              <ng-container
                *ngTemplateOutlet="commonTableTemplate;context:{ $implicit: (gstMatchedData$ | async)}"></ng-container>

              <div class="filings-empty-state">
                <img src="{{imgPath}}nofound.svg" [style.max-width.px]="110"/>
                <div class="empty-msg"><span>All transactions in Giddh Books whose vendor GSTIN, invoice number,&nbsp; invoice date, invoice amount and tax amount are same as the transactions in GSTN are displayed in this section.</span>
                </div>
              </div>
            </tab>

          </tabset>

        </div>

      </div>

    </div>

  </div>

</div>

<!-- region partiallyMatched & matched common table template -->
<ng-template #commonTableTemplate let-list>

  <ng-container *ngIf="list?.count">

    <table class="table zi-table table-fixed reconciliations-table table-hover "
           *ngIf="list?.count">
      <thead>
      <tr>
        <th id="1" class="cursor-pointer bulk-selection-cell "><input type="checkbox"
                                                                      class="cursor-pointer "></th>
        <th style="width:250px" id="4" class="  text-left ">
          <div style="position: relative">
            <div data-test-title="Vendor Details" title="Vendor Details" class="pull-left over-flow"> Vendor
              Details
            </div>
            <!---->
          </div>
        </th>
        <th style="width:155px" class="  text-left ">
          <div style="position: relative">
            <div data-test-title="Transaction Date" title="Transaction Date" class="pull-left over-flow">
              Transaction Date
            </div>
            <!---->
          </div>
        </th>
        <th style="width:130px" class="  text-left ">
          <div style="position: relative">
            <div data-test-title="Place of Supply" title="Place of Supply" class="pull-left over-flow">
              Place of Supply
            </div>
            <!---->
          </div>
        </th>
        <th style="width:140px" class="  text-right ">
          <div style="position: relative">
            <div data-test-title="Taxable Amount" title="Taxable Amount" class=" over-flow"> Taxable
              Amount
            </div>
            <!---->
          </div>
        </th>
        <th style="" class="  text-right ">
          <div style="position: relative">
            <div data-test-title="IGST" title="IGST" class=" over-flow"> IGST</div>
            <!---->
          </div>
        </th>
        <th style="" class="  text-right ">
          <div style="position: relative">
            <div data-test-title="CGST" title="CGST" class=" over-flow"> CGST</div>
            <!---->
          </div>
        </th>
        <th style="" class="  text-right ">
          <div style="position: relative">
            <div data-test-title="SGST" title="SGST" class=" over-flow"> SGST</div>
            <!---->
          </div>
        </th>
        <th style="" class="  text-right ">
          <div style="position: relative">
            <div data-test-title="Cess" title="Cess" class=" over-flow"> Cess</div>
            <!---->
          </div>
        </th>
        <th style="" class="  text-right ">
          <div style="position: relative">
            <div data-test-title="Total Amount" title="Total Amount" class=" over-flow"> Total Amount</div>
            <!---->
          </div>
        </th>
        <!---->
      </tr>
      </thead>

      <tbody>

      <ng-container *ngFor="let item of list?.data?.results">
        <tr class="cursor-pointer ">
          <td class="cursor-pointer bulk-selection-cell "><input type="checkbox" class="cursor-pointer ">
          </td>
          <td class="primary-details">
            <div style="white-space: nowrap;"> {{item.ctin}}<span
              class="text-muted font-xxs"> ({{item.invoiceNumber}})</span>
            </div>
            <!-- not to implement now
        <div class="actions-dropdown">
            <div data-toggle="dropdown" class="btn btn-xs actions-dropdown-btn dropdown-toggle"> Actions <span class="caret"></span></div>
            <ul class="dropdown-menu">
                <li><a>Create &amp; Match</a></li>
                <li><a>Reject</a></li>
                <li><a>Mark as Pending</a></li>
            </ul>
        </div> -->
          </td>
          <td class="">
            <div> -</div>
            <div class="unrecognized-value"> {{ item.invoice_date }} </div>
          </td>
          <td class="">
            <div> -</div>
            <div class="unrecognized-value"> {{item.pos}}</div>
          </td>
          <td class="text-right ">
            <div> -</div>
            <div class="unrecognized-value"> {{item.taxable_amount | giddhCurrency}} </div>
          </td>
          <td class="text-right ">
            <div> -</div>
            <div class="unrecognized-value"> {{item.igst_amount | giddhCurrency}} </div>
          </td>
          <td class="text-right ">
            <div> -</div>
            <div class="unrecognized-value"> {{item.cgst_amount | giddhCurrency}} </div>
          </td>
          <td class="text-right ">
            <div> -</div>
            <div class="unrecognized-value"> {{item.sgst_amount | giddhCurrency}} </div>
          </td>
          <td class="text-right ">
            <div> -</div>
            <div class="unrecognized-value"> {{item.cess_amount | giddhCurrency}} </div>
          </td>
          <td class="text-right ">
            <div> -</div>
            <div class="unrecognized-value"> {{item.grand_total | giddhCurrency}} </div>
          </td>
        </tr>
      </ng-container>
      </tbody>
    </table>
  </ng-container>

</ng-template>
<!--endregion-->
