<div class="welcome-msg">
    <div class="row">
        <div class="col-md-9 col-sm-9 font-14">
            <p class="mr-b1">{{getWelcomeUserText()}}</p>
            <p class="mb-3 plan-msg" [innerHTML]="localeData?.subscription?.money_back_guarantee"></p>
        </div>
        <div class="col-md-3 col-sm-3 text-right" *ngIf="subscriptions && subscriptions.length > 0">
            <a (click)="backClicked()" class="btn btn-cancel pr-3 pl-3 mb-2 mr-0">{{commonLocaleData?.app_back}}</a>
        </div>
    </div>
    <div #topAllPlans>
        <div *ngIf="!isSwitchPlanInProcess" class="choose-ur-plan height-auto">
            <div>
                <div class="main-row-plans">
                    <div class="row">
                        <div class="col-lg-4 col-md-6 col-12" *ngIf="totalMultipleCompanyPlans">
                            <div class="select-plan-block"
                                [ngClass]="{'plan-disabled': showPlans === 'single' || showPlans === 'free'}">
                                <div class="select-plan-head">
                                    <h2>{{localeData?.subscription?.multiple_company}}</h2>
                                </div>
                                <div class="plans-box">
                                    <div class="overall-plans">
                                        <p class="bold total-price">{{localeData?.subscription?.total_plans}}: {{totalMultipleCompanyPlans}}</p>
                                        <div class="your-account">
                                            <div class="inner-your-account"
                                                [ngClass]="{'active': showPlans === 'multiple'}">
                                                <h3 class="plan-heading">
                                                    {{defaultMultipleCompanyPlan?.planDetails?.name}}</h3>
                                                <div
                                                    class="d-flex align-items-center justify-content-between plans-head-top">
                                                    <div class="clearfix">
                                                        <h3 class="bold font-22 mr-b05">
                                                            {{defaultMultipleCompanyPlan?.planDetails?.amount}} /-</h3>
                                                        <p class="font-12">
                                                            {{defaultMultipleCompanyPlan?.planDetails?.duration}}
                                                            {{defaultMultipleCompanyPlan?.planDetails?.durationUnit}} {{defaultMultipleCompanyPlan?.planDetails?.duration !== 1 ? '(s)' : ''}}
                                                        </p>
                                                    </div>
                                                    <img class="guarantee-img" src="assets/images/guarantee.png" alt="">
                                                </div>
                                                <div class="clearfix">
                                                    <ul class="plan-list">
                                                        <li>{{localeData?.subscription?.transactions_limit}}:
                                                            {{defaultMultipleCompanyPlan?.planDetails?.transactionLimit
                                                            | number}}
                                                            <div class="btn-group pull-right transactions-limit-box">
                                                                <button type="button" class="dropdown-toggle close">
                                                                    <i class="icon-info"></i>
                                                                </button>
                                                                <div class="transactions-popup" role="menu"
                                                                    aria-labelledby="button-alignment">
                                                                    <p class="bold mr-b1">{{localeData?.subscription?.transactions_limit}}</p>
                                                                    <p class="font-12 text-gray mr-b1">
                                                                        {{transactionLimitTooltipContent}}</p>
                                                                </div>
                                                            </div>
                                                        </li>
                                                        <li>{{localeData?.subscription?.total_companies}}:
                                                            {{defaultMultipleCompanyPlan?.planDetails?.companiesLimit |
                                                            number}}
                                                        </li>
                                                        <li>{{localeData?.subscription?.unlimited_users}}
                                                            <div class="btn-group pull-right transactions-limit-box">
                                                                <button type="button" class="dropdown-toggle close">
                                                                    <i class="icon-info"></i>
                                                                </button>
                                                                <div class="transactions-popup" role="menu"
                                                                    aria-labelledby="button-alignment">
                                                                    <p class="bold mr-b1">{{localeData?.subscription?.unlimited_users}}</p>
                                                                    <p class="font-12 text-gray mr-b1">
                                                                        {{unlimitedUsersTooltipContent}}</p>
                                                                </div>
                                                            </div>
                                                        </li>
                                                        <li>{{localeData?.subscription?.unlimited_contacts}}
                                                            <div class="btn-group pull-right transactions-limit-box">
                                                                <button type="button" class="dropdown-toggle close">
                                                                    <i class="icon-info"></i>
                                                                </button>
                                                                <div class="transactions-popup" role="menu"
                                                                    aria-labelledby="button-alignment">
                                                                    <p class="bold mr-b1">{{localeData?.subscription?.unlimited_contacts}}
                                                                    </p>
                                                                    <p class="font-12 text-gray mr-b1">
                                                                        {{unlimitedCustomersVendorsTooltipContent}}</p>
                                                                </div>
                                                            </div>
                                                        </li>
                                                        <li>{{localeData?.subscription?.desktop_mobile_app}}
                                                            <div class="btn-group pull-right transactions-limit-box">
                                                                <button type="button" class="dropdown-toggle close">
                                                                    <i class="icon-info"></i>
                                                                </button>
                                                                <div class="transactions-popup" role="menu"
                                                                    aria-labelledby="button-alignment">
                                                                    <p class="bold mr-b1">{{localeData?.subscription?.desktop_mobile_app}}</p>
                                                                    <p class="font-12 text-gray mr-b1">
                                                                        {{desktopMobileAppTooltipContent}}</p>
                                                                </div>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="plan-footer">
                                                    <p><a (click)="allFeaturesModal(AllFeatures)"
                                                            href="javascript:void(0)"
                                                            class="color-primary font-14">{{localeData?.subscription?.check_all_features}}</a></p>
                                                    <button class="btn success-btn btn-round"
                                                        [disabled]="showPlans === 'free' || showPlans === 'single'"
                                                        (click)="buyPlanClicked(defaultMultipleCompanyPlan)"
                                                        [ladda]="this.isUpdateCompanyInProgress$ | async">{{commonLocaleData?.app_buy_plan}}</button>
                                                    <p class="font-12">{{localeData?.subscription?.prices_excluding_tax}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <a href="javascript:void(0)" class="btn btn-green btn-round"
                                        (click)="showPlansByType('multiple'); navigate(allPlans)">{{localeData?.subscription?.see_all_plans}}</a>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-6 col-12" *ngIf="totalSingleCompanyPlans">
                            <div class="select-plan-block single-plan-for-company"
                                [ngClass]="{'plan-disabled': showPlans === 'multiple' || showPlans === 'free'}">
                                <div class="select-plan-head">
                                    <h2>{{localeData?.subscription?.single_company}}</h2>
                                </div>
                                <div class="plans-box">
                                    <div class="overall-plans">
                                        <p class="bold">{{localeData?.subscription?.total_plans}}: {{totalSingleCompanyPlans}}</p>
                                        <div class="your-account">
                                            <div class="inner-your-account popular"
                                                [ngClass]="{'active': showPlans === 'single'}">
                                                <img src="assets/images/popular.svg" class="popular-icon" alt="">
                                                <h3 class="plan-heading">
                                                    {{defaultSingleCompanyPlan?.planDetails?.name}}
                                                    <!-- <small class="font-12 unbold text-blue">(Current
                                                        Plan)</small> -->
                                                </h3>
                                                <div>
                                                    <div
                                                        class="d-flex align-items-center justify-content-between plans-head-top">
                                                        <div class="clearfix">
                                                            <h3 class="bold font-22 mr-b05">
                                                                <!-- <span class="price-cross">₹800</span> -->
                                                                {{defaultSingleCompanyPlan?.planDetails?.amount}} /-
                                                            </h3>
                                                            <p class="font-12">
                                                                {{defaultSingleCompanyPlan?.planDetails?.duration}}
                                                                {{defaultSingleCompanyPlan?.planDetails?.durationUnit}} {{defaultSingleCompanyPlan?.planDetails?.duration !== 1 ? '(s)' : ''}}
                                                            </p>
                                                        </div>
                                                        <img class="guarantee-img" src="assets/images/guarantee.png"
                                                            alt="">
                                                    </div>
                                                </div>
                                                <div class="clearfix">
                                                    <ul class="plan-list">
                                                        <li>{{localeData?.subscription?.transactions_limit}}:
                                                            {{defaultSingleCompanyPlan?.planDetails?.transactionLimit |
                                                            number}}
                                                            <div class="btn-group pull-right transactions-limit-box">
                                                                <button type="button" class="dropdown-toggle close">
                                                                    <i class="icon-info"></i>
                                                                </button>
                                                                <div class="transactions-popup" role="menu"
                                                                    aria-labelledby="button-alignment">
                                                                    <p class="bold mr-b1">{{localeData?.subscription?.transactions_limit}}</p>
                                                                    <p class="font-12 text-gray mr-b1">
                                                                        {{transactionLimitTooltipContent}}</p>
                                                                </div>
                                                            </div>
                                                        </li>
                                                        <li>{{localeData?.subscription?.total_companies}}:
                                                            {{defaultSingleCompanyPlan?.planDetails?.companiesLimit |
                                                            number}}
                                                        </li>
                                                        <li>{{localeData?.subscription?.unlimited_users}}
                                                            <div class="btn-group pull-right transactions-limit-box">
                                                                <button type="button" class="dropdown-toggle close">
                                                                    <i class="icon-info"></i>
                                                                </button>
                                                                <div class="transactions-popup" role="menu"
                                                                    aria-labelledby="button-alignment">
                                                                    <p class="bold mr-b1">{{localeData?.subscription?.unlimited_users}}</p>
                                                                    <p class="font-12 text-gray mr-b1">
                                                                        {{unlimitedUsersTooltipContent}}</p>
                                                                </div>
                                                            </div>
                                                        </li>
                                                        <li>{{localeData?.subscription?.unlimited_contacts}}
                                                            <div class="btn-group pull-right transactions-limit-box">
                                                                <button type="button" class="dropdown-toggle close">
                                                                    <i class="icon-info"></i>
                                                                </button>
                                                                <div class="transactions-popup" role="menu"
                                                                    aria-labelledby="button-alignment">
                                                                    <p class="bold mr-b1">{{localeData?.subscription?.unlimited_contacts}}
                                                                    </p>
                                                                    <p class="font-12 text-gray mr-b1">
                                                                        {{unlimitedCustomersVendorsTooltipContent}}</p>
                                                                </div>
                                                            </div>
                                                        </li>
                                                        <li>{{localeData?.subscription?.desktop_mobile_app}}
                                                            <div class="btn-group pull-right transactions-limit-box">
                                                                <button type="button" class="dropdown-toggle close">
                                                                    <i class="icon-info"></i>
                                                                </button>
                                                                <div class="transactions-popup" role="menu"
                                                                    aria-labelledby="button-alignment">
                                                                    <p class="bold mr-b1">{{localeData?.subscription?.desktop_mobile_app}}</p>
                                                                    <p class="font-12 text-gray mr-b1">
                                                                        {{desktopMobileAppTooltipContent}}</p>
                                                                </div>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="plan-footer">
                                                    <p><a (click)="allFeaturesModal(AllFeatures)"
                                                            href="javascript:void(0)"
                                                            class="color-primary font-14">{{localeData?.subscription?.check_all_features}}</a></p>
                                                    <button class="btn success-btn btn-round"
                                                        [disabled]="showPlans === 'multiple' || showPlans === 'free'"
                                                        (click)="buyPlanClicked(defaultSingleCompanyPlan)"
                                                        [ladda]="this.isUpdateCompanyInProgress$ | async">{{commonLocaleData?.app_buy_plan}}</button>
                                                    <p class="font-12">{{localeData?.subscription?.prices_excluding_tax}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <a href="javascript:void(0)" class="btn btn-green btn-round"
                                        (click)="showPlansByType('single'); navigate(allPlans)">{{localeData?.subscription?.see_all_plans}}</a>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-6 col-12" *ngIf="totalFreePlans">
                            <div class="select-plan-block"
                                [ngClass]="{'plan-disabled': showPlans === 'multiple' || showPlans === 'single'}">
                                <div class="select-plan-head">
                                    <h2>{{localeData?.subscription?.free}}</h2>
                                </div>
                                <div class="plans-box">
                                    <div class="overall-plans">
                                        <p class="bold total-price">{{localeData?.subscription?.total_plans}}: {{totalFreePlans}}</p>
                                        <div class="your-account">
                                            <div class="inner-your-account"
                                                [ngClass]="{'active': showPlans === 'free'}">
                                                <h3 class="plan-heading">{{defaultFreePlan?.planDetails?.name}}</h3>
                                                <div>
                                                    <div class="plans-head-top">
                                                        <h3 class="bold font-22 mr-b05">
                                                            {{defaultFreePlan?.planDetails?.amount}} /-
                                                        </h3>
                                                        <p class="font-12">{{defaultFreePlan?.planDetails?.duration}}
                                                            {{defaultFreePlan?.planDetails?.durationUnit}} {{defaultFreePlan?.planDetails?.duration !== 1 ? '(s)' : ''}}</p>
                                                    </div>
                                                </div>
                                                <div class="clearfix">
                                                    <ul class="plan-list">
                                                        <li>{{localeData?.subscription?.transactions_limit}}:
                                                            {{defaultFreePlan?.planDetails?.transactionLimit | number}}
                                                            <div class="btn-group pull-right transactions-limit-box">
                                                                <button type="button" class="dropdown-toggle close">
                                                                    <i class="icon-info"></i>
                                                                </button>
                                                                <div class="transactions-popup" role="menu"
                                                                    aria-labelledby="button-alignment">
                                                                    <p class="bold mr-b1">{{localeData?.subscription?.transactions_limit}}</p>
                                                                    <p class="font-12 text-gray mr-b1">
                                                                        {{transactionLimitTooltipContent}}</p>
                                                                </div>
                                                            </div>
                                                        </li>
                                                        <li>{{localeData?.subscription?.total_companies}}:
                                                            {{defaultFreePlan?.planDetails?.companiesLimit | number}}
                                                        </li>
                                                        <li>{{localeData?.subscription?.unlimited_users}}
                                                            <div class="btn-group pull-right transactions-limit-box">
                                                                <button type="button" class="dropdown-toggle close">
                                                                    <i class="icon-info"></i>
                                                                </button>
                                                                <div class="transactions-popup" role="menu"
                                                                    aria-labelledby="button-alignment">
                                                                    <p class="bold mr-b1">{{localeData?.subscription?.unlimited_users}}</p>
                                                                    <p class="font-12 text-gray mr-b1">
                                                                        {{unlimitedUsersTooltipContent}}</p>
                                                                </div>
                                                            </div>
                                                        </li>
                                                        <li>{{localeData?.subscription?.unlimited_contacts}}
                                                            <div class="btn-group pull-right transactions-limit-box">
                                                                <button type="button" class="dropdown-toggle close">
                                                                    <i class="icon-info"></i>
                                                                </button>
                                                                <div class="transactions-popup" role="menu"
                                                                    aria-labelledby="button-alignment">
                                                                    <p class="bold mr-b1">{{localeData?.subscription?.unlimited_contacts}}
                                                                    </p>
                                                                    <p class="font-12 text-gray mr-b1">
                                                                        {{unlimitedCustomersVendorsTooltipContent}}</p>
                                                                </div>
                                                            </div>
                                                        </li>
                                                        <li>{{localeData?.subscription?.desktop_mobile_app}}
                                                            <div class="btn-group pull-right transactions-limit-box">
                                                                <button type="button" class="dropdown-toggle close">
                                                                    <i class="icon-info"></i>
                                                                </button>
                                                                <div class="transactions-popup" role="menu"
                                                                    aria-labelledby="button-alignment">
                                                                    <p class="bold mr-b1">{{localeData?.subscription?.desktop_mobile_app}}</p>
                                                                    <p class="font-12 text-gray mr-b1">
                                                                        {{desktopMobileAppTooltipContent}}</p>
                                                                </div>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="plan-footer">
                                                    <p><a (click)="allFeaturesModal(AllFeatures)"
                                                            href="javascript:void(0)"
                                                            class="color-primary font-14">{{localeData?.subscription?.check_all_features}}</a></p>
                                                    <button class="btn success-btn btn-round"
                                                        [disabled]="showPlans === 'multiple' || showPlans === 'single'"
                                                        (click)="choosePlan(defaultFreePlan);"
                                                        [ladda]="this.isUpdateCompanyInProgress$ | async">{{commonLocaleData?.app_buy_plan}}</button>
                                                    <p class="font-12">{{localeData?.subscription?.prices_excluding_tax}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <a href="javascript:void(0)" class="btn btn-green btn-round"
                                        (click)="showPlansByType('free'); navigate(allPlans)">{{localeData?.subscription?.see_all_free_plans}}</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div *ngIf="isSwitchPlanInProcess">
        <giddh-page-loader></giddh-page-loader>
    </div>
    <div #allPlans>
        <div class="box clearfix pd-l3 mr-b15 xs-pd-l15 pd-r3 relative all-plans" *ngIf="showPlans">
            <a class="close close-2" href="javascript:void(0)" (click)="showPlans = ''; navigate(topAllPlans)">
                <i class="icon-cross"></i>
            </a>
            <div class="relative see-all-features">
                <div class="col-sm-6 col-md-4 col-xl-3" *ngFor="let item of subscriptionPlans; let i=index"
                    [hidden]="!(!item.subscriptionId && item?.planDetails?.uniqueName !== defaultTrialPlan && ((showPlans === 'multiple' && item?.planDetails?.amount && item?.planDetails?.companiesLimit > 1) || (showPlans === 'single' && item?.planDetails?.amount && item?.planDetails?.companiesLimit === 1) || (showPlans === 'free' && !item?.planDetails?.amount)))">
                    <div class="inner-your-account"
                        *ngIf="!item.subscriptionId && item?.planDetails?.uniqueName !== defaultTrialPlan && ((showPlans === 'multiple' && item?.planDetails?.amount && item?.planDetails?.companiesLimit > 1) || (showPlans === 'single' && item?.planDetails?.amount && item?.planDetails?.companiesLimit === 1) || (showPlans === 'free' && !item?.planDetails?.amount))"
                        [ngClass]="{'popular': item?.planDetails?.name === defaultPopularPlan}">
                        <img src="assets/images/popular.svg" class="popular-icon"
                            *ngIf="item?.planDetails?.name === defaultPopularPlan">
                        <h3 class="mb-2">{{item?.planDetails?.name}}</h3>
                        <div class="d-flex align-items-center justify-content-between">
                            <div>
                                <h3 class="bold font-22 mr-b05">{{item?.planDetails?.amount | number}} /-</h3>
                                <p class="font-12">{{item?.planDetails?.duration}}
                                    {{item?.planDetails?.durationUnit}} {{item?.planDetails?.duration !== 1 ? '(s)' : ''}}</p>
                            </div>
                            <img class="guarantee-img" src="assets/images/guarantee.png" alt="">
                        </div>
                        <div class="clearfix">
                            <ul class="plan-list">
                                <li>{{localeData?.subscription?.transactions_limit}}: {{item?.planDetails?.transactionLimit | number}}</li>
                                <li>{{localeData?.subscription?.total_companies}}: {{ item?.planDetails?.companiesLimit | number}}</li>
                                <li>{{localeData?.subscription?.unlimited_users}}</li>
                                <li>{{localeData?.subscription?.unlimited_contacts}}</li>
                                <li>{{localeData?.subscription?.desktop_mobile_app}}</li>
                            </ul>
                        </div>
                        <div class="plan-footer">
                            <p><a (click)="allFeaturesModal(AllFeatures)" href="javascript:void(0)"
                                    class="color-primary font-14">{{localeData?.subscription?.check_all_features}}</a></p>
                            <button class="btn success-btn btn-round" *ngIf="!item?.planDetails?.amount"
                                (click)="choosePlan(item);" [ladda]="this.isUpdateCompanyInProgress$ | async">{{commonLocaleData?.app_buy_plan}}</button>
                            <button class="btn success-btn btn-round" *ngIf="item?.planDetails?.amount"
                                (click)="buyPlanClicked(item)" [ladda]="this.isUpdateCompanyInProgress$ | async">{{commonLocaleData?.app_buy_plan}}</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="activation-key-wrapper">
        <div class="box">
            <div class="row">
                <div class="col-md-6 col-sm-12 col-12">
                    <div class="activation-key mr-b1">
                        <h2 class="font-26 text-blue bold mb-3">{{localeData?.subscription?.activation_key}}</h2>
                        <p class="font-14">{{localeData?.subscription?.activation_key_note}}</p>
                        <div class="d-flex">
                            <input type="text" name="licenceKey" required id="licenceKey" [formControl]="licenceKey"
                                class="form-control mr-t1" [placeholder]="localeData?.subscription?.enter_activation_key">
                            <div class="activation-btn mr-l15">
                                <button class="btn success-btn mr-t1 pl-3 pr-3" [disabled]="!licenceKey.value"
                                    (click)="createCompanyViaActivationKey()">
                                    {{localeData?.subscription?.activate}}</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- asid bar start -->
<!-- <div class="aside-overlay"></div>
  <div class="account-aside-menu-state">
    <div class="aside-pane">
      <button id="close" class="btn btn-sm btn-primary" (click)="closeAsidePane($event)">X</button>
      <div class="aside-header mb-">
          <h3 class="aside-title">Payment Log</h3>
      </div>
      <div class="aside-body">
        <div class="select-plan-block pt-2">
          <p class="mb-2">Plan 2 <span class="text-light">(Current Plan)</span></p>
          <div class="your-account">
          <div class="row">
          <div class="col-xs-6">
          <span> Subscription ID </span></div>
          <div class="col-xs-6">
          <p> 8978 </p></div></div>
          <div class="row">
            <div class="col-xs-6">
            <span> Subscription Price </span></div>
            <div class="col-xs-6">
            <p> - 4000/- pa </p></div>
          </div>
          <div class="row">
          <div class="col-xs-6">
          <span> Total Companies </span></div>
          <div class="col-xs-6">
          <p class="">
          2 out of 10 </p></div></div>
          <div class="row">
            <div class="col-xs-6">
            <span> Transactions Limit </span></div>
            <div class="col-xs-6">
            <p> 40,000 </p></div></div>
            <div class="row">
            <div class="col-xs-6">
            <span> Subscription Renewal </span></div>
            <div class="col-xs-6">
            <p> Yearly </p></div></div>
            <div class="row mt-1">
            <div class="col-xs-12">
              <ul class="payment-log-list mt-3">
                <li>17-10-2018, plan subscribed paid $2,000 by 83XXXXXXXXX98</li>
                <li>05-10-2018, amount $2,000 paid by 83XXXXXXXXX98</li>
                <li>27-09-2018, plan subscribed paid $2,000 by 83XXXXXXXXX98</li>
              </ul>
            </div>
            </div>
          </div>
          </div>
      </div>
    </div>
  </div> -->
<!-- asid bar end -->

<!-- All features Modal -->
<ng-template #AllFeatures>
    <all-features (closeEvent)="closeFeaturesModal($event)"></all-features>
</ng-template>
