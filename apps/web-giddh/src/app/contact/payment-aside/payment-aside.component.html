<div class="aside-pane">
    <button id="close" class="btn btn-sm btn-primary" (click)="closeAsidePane($event)"><i class="icon-cross"></i>
    </button>
    <div class="form_header">
        <h3 class="aside-title">Payment</h3>
    </div>
    <div class="aside-body">
        <div class="creditors_detail">
            <p>{{accountDetails?.name}}</p>
            <div class="contactDetails">
                <p class="contactNo">
                    {{accountDetails?.mobileNo}}
                </p>
                <p>{{accountDetails?.uniqueName}}</p>
                <p>{{accountDetails?.addresses[0]?.gstNumber}}</p>
                <div class="row mrB1">
                    <div class="col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label>Account Number</label>
                            <input class="form-control" [value]="accountDetails?.accountBankDetails[0]?.bankAccountNo"
                                   type="text"
                                   disabled>
                        </div>
                    </div>
                    <div class="col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label>IFSC Code</label>
                            <input class="form-control" [value]="accountDetails?.accountBankDetails[0]?.ifsc"
                                   type="text" disabled>
                        </div>
                    </div>
                </div>
                <div class="row mrB1">
                    <div class="col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label>Bank Name</label>
                            <input class="form-control" [value]="accountDetails?.accountBankDetails[0]?.bankName"
                                   type="text"
                                   disabled>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div>
            <div>
                <div class="accountDetils">
                    <div class="selectMode">
                        <form #paymentForm="ngForm" autocomplete="off">
                            <div class="row mrB2">
                                <div class="col-sm-6 col-xs-12">
                                    <div class="form-group custom-select pos-rel">
                                        <label>Select Mode<span class="text-danger">*</span></label>
                                        <div dropdown>
                                            <select class="form-control" [disabled]="OTPsent" [(ngModel)]="mode"
                                                    name="mode" id="mode">
                                                <option *ngFor="let account of registeredAccounts"
                                                        [ngValue]="account">{{account.bank}}
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3 col-xs-12">
                                    <div class="form-group">
                                        <label>Amount<span class="text-danger">*</span></label>
                                        <input class="form-control" name="amount" [(ngModel)]="amount" type="number">
                                    </div>
                                </div>
                            </div>
                            <div class="row mrB2">
                                <div class="form-group">
                                    <div class="col-sm-9 col-xs-12">
                                        <label>Remark<span class="text-danger">*</span></label>
                                        <textarea rows="5" autocomplete="off" type="text" class="form-control"
                                                  placeholder="Remark"
                                                  [(ngModel)]="remarks" name="remarks"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="row mrB1" *ngIf="OTPsent">
                                <div class="col-sm-6 col-xs-12">
                                    <div class="form-group">
                                        <label>Enter OTP</label>
                                        <input class="form-control" name="OTP" [(ngModel)]="OTP" type="number"
                                               maxlength="4">
                                    </div>
                                </div>

                                <div class="col-sm-6 col-xs-12">
                                    <div class="form-group">
                                        <label> </label>
                                        <div style="margin-top: 15px; cursor: pointer"><a (click)="reSendOTP()">Resend
                                            OTP</a></div>
                                    </div>
                                </div>

                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <button *ngIf="!OTPsent" class="btn btn-success"
                                            [disabled]="!mode || amount===0 || remarks === ''"
                                            (click)="sendOTP()">Send OTP
                                    </button>
                                    <button *ngIf="OTPsent" class="btn btn-success"
                                            [disabled]="!mode || amount===0 || remarks === ''"
                                            (click)="confirmOTP()">Confirm
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
