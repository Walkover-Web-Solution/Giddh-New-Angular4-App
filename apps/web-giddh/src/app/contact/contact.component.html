<ng-container
    appTranslate
    [file]="'contact'"
    (localeData)="localeData = $event"
    (commonLocaleData)="commonLocaleData = $event"
    (translationComplete)="translationComplete($event)"
>
    <div class="relative white-bg">
        <hamburger-menu *ngIf="activeTab !== 'vendor'" [pageHeading]="getPageHeading()"></hamburger-menu>
        <hamburger-menu [pageHeading]="localeData?.page_heading" *ngIf="activeTab === 'vendor'"></hamburger-menu>

        <mat-tab-group
            #staticTabs
            class="custom-mat-tabs customer-aging"
            [ngClass]="{ 'hide-header': activeTab === 'vendor' }"
            (selectedTabChange)="tabSelected(activeTab === 'vendor' ? 'vendor' : 'customer')"
            label="First"
        >
            <mat-tab label="{{ localeData?.customer }}" [id]="activeTab !== 'aging-report' ? 'giddh-page-heading' : ''">
                <div class="container-fluid">
                    <div
                        class="top-bar customer-top-bar clearfix"
                        [ngClass]="{ 'vendor-top-bar': activeTab === 'vendor' }"
                    >
                        <div class="customer-form-inline">
                            <div class="wrap-search-entity d-flex">
                                <div class="dis mr-r15 pull-left on-desktop-view">
                                    <div class="btn-group pull-right">
                                        <button
                                            mat-raised-button
                                            *ngIf="activeTab == 'customer'"
                                            class="btn-sky-blue mr-0"
                                            (click)="openAddAndManage('customer')"
                                        >
                                            {{ localeData?.new_customer }}
                                        </button>
                                        <button
                                            mat-raised-button
                                            *ngIf="activeTab == 'vendor'"
                                            class="btn-sky-blue mr-0"
                                            (click)="openAddAndManage('vendor')"
                                        >
                                            {{ localeData?.new_vendor }}
                                        </button>
                                    </div>
                                </div>
                                <div
                                    class="form-group mr-r15 pull-left linked-entities mb-0"
                                    name="currentBranch"
                                    *ngIf="currentCompanyBranches?.length > 2 && currentOrganizationType === 'COMPANY'"
                                >
                                    <div>
                                        <sh-select
                                            [options]="currentCompanyBranches"
                                            [(ngModel)]="currentBranch.uniqueName"
                                            [showClear]="false"
                                            [ItemHeight]="33"
                                            width="100%"
                                            (selected)="handleBranchChange($event)"
                                            [isFilterEnabled]="true"
                                            [placeholder]="commonLocaleData?.app_select_entity"
                                            [fixedValue]="currentBranch?.alias"
                                        >
                                            <ng-template #optionTemplate let-option="option">
                                                <ng-container>
                                                    <a href="javascript:void(0)" class="list-item d-flex">
                                                        <span class="entity-icon">
                                                            <i
                                                                class="icon-branch-icon pull-right"
                                                                *ngIf="!option.isCompany"
                                                                tooltip="{{ commonLocaleData?.app_branch }}"
                                                            ></i>
                                                            <i
                                                                class="icon-company-profile pull-right"
                                                                *ngIf="option.isCompany"
                                                                tooltip="{{ commonLocaleData?.app_company }}"
                                                            ></i>
                                                        </span>
                                                        <span class="entity-details">
                                                            <div class="item giddh-limit single-line-clamp">
                                                                {{ option?.label || "-" }}
                                                            </div>
                                                            <div class="item-unique giddh-limit single-line-clamp">
                                                                {{ option?.name || "-" }}
                                                            </div>
                                                        </span>
                                                    </a>
                                                </ng-container>
                                            </ng-template>
                                        </sh-select>
                                    </div>
                                </div>
                                <form
                                    #invoiceForm="ngForm"
                                    novalidate
                                    class="form-inline input-grp-date-range-picker position-relative"
                                >
                                    <div class="form-group mr-r15 d-flex flex-fill">
                                        <div
                                            class="form-group custom-datepicker mr-r15"
                                            (click)="showGiddhDatepicker($event)"
                                        >
                                            <i class="icon-calender calendar-addon"></i>
                                            <input
                                                matInput
                                                type="text"
                                                name="selectedDateRange"
                                                [value]="selectedDateRangeUi ? selectedDateRangeUi : ''"
                                                class="giddh-datepicker form-control date-range-picker"
                                            />
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <!-- Invoice filter section ends -->
                            <button
                                mat-raised-button
                                class="btn btn-group btn-filter desktop-button-filter"
                                *ngIf="selectedAccountsList?.length > 0"
                                (click)="clearSelectedContacts()"
                            >
                                <span class="icon-cross"></span> {{ commonLocaleData?.app_clear_selected }}
                            </button>

                            <div class="pd-t1-md d-flex justify-content-between">
                                <!-- On company class will show only if we are on company mode and branches length will be less than equal 2 -->
                                <div class="d-flex justify-content-between">
                                    <div
                                        class="pull-left header-left d-none"
                                        [ngClass]="{ 'on-company': currentCompanyBranches?.length >= 2 }"
                                    >
                                        <div
                                            class="form-group max-width-250 search-field mb-0"
                                            *ngIf="activeTab !== 'aging'"
                                        >
                                            <text-field
                                                type="text"
                                                name="searchStr"
                                                [placeholder]="localeData?.name_email_mobile"
                                                [cssClass]="'form-control'"
                                                [ngModel]="searchStr"
                                                (ngModelChange)="searchStr$.next($event)"
                                            ></text-field>
                                            <span class="input-addon">
                                                <i class="icon-search"></i>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="customer-footer-box pull-right">
                                        <button
                                            mat-raised-button
                                            class="btn btn-group btn-filter mobile-button-filter"
                                            *ngIf="selectedAccountsList?.length > 0"
                                            (click)="clearSelectedContacts()"
                                        >
                                            <span class="icon-cross"></span>

                                            <span>{{ commonLocaleData?.app_clear }}</span>
                                        </button>
                                    </div>
                                    <div class="mr-0" *ngIf="activeTab !== 'aging'">
                                        <button
                                            mat-icon-button
                                            [matMenuTriggerFor]="menu"
                                            matTooltipPosition="left"
                                            matTooltip="{{ localeData?.filter_toggle }}"
                                        >
                                            <i class="icon-options"></i>
                                        </button>
                                        <mat-menu #menu="matMenu">
                                            <button mat-menu-item>
                                                <mat-checkbox
                                                    color="primary"
                                                    name="selectAll"
                                                    [(ngModel)]="showFieldFilter.selectAll"
                                                    (ngModelChange)="selectAllColumns($event)"
                                                >
                                                    {{ commonLocaleData?.app_select_all }}</mat-checkbox
                                                >
                                            </button>
                                            <button mat-menu-item>
                                                <mat-checkbox
                                                    color="primary"
                                                    name="field_filter.parentGroup"
                                                    (ngModelChange)="columnFilter($event, 'parentGroup')"
                                                    [(ngModel)]="showFieldFilter.parentGroup"
                                                >
                                                    {{ commonLocaleData?.app_parent_group }}</mat-checkbox
                                                >
                                            </button>
                                            <button mat-menu-item>
                                                <mat-checkbox
                                                    color="primary"
                                                    name="field_filter.openingBalance"
                                                    (ngModelChange)="columnFilter($event, 'openingBalance')"
                                                    [(ngModel)]="showFieldFilter.openingBalance"
                                                >
                                                    {{ localeData?.opening }}
                                                </mat-checkbox>
                                            </button>
                                            <button mat-menu-item>
                                                <mat-checkbox
                                                    color="primary"
                                                    name="field_filter.mobile"
                                                    (ngModelChange)="columnFilter($event, 'mobile')"
                                                    [(ngModel)]="showFieldFilter.contact"
                                                >
                                                    {{ localeData?.contacts }}
                                                </mat-checkbox>
                                            </button>
                                            <button mat-menu-item>
                                                <mat-checkbox
                                                    color="primary"
                                                    name="field_filter.mobile"
                                                    name="field_filter.state"
                                                    (ngModelChange)="columnFilter($event, 'state')"
                                                    [(ngModel)]="showFieldFilter.state"
                                                >
                                                    {{ commonLocaleData?.app_state }}
                                                </mat-checkbox>
                                            </button>
                                            <button mat-menu-item *ngIf="shouldShowTaxFilter">
                                                <mat-checkbox
                                                    color="primary"
                                                    name="field_filter.mobile"
                                                    name="field_filter.gstin"
                                                    (ngModelChange)="columnFilter($event, 'gstin')"
                                                    [(ngModel)]="showFieldFilter.gstin"
                                                >
                                                    {{ commonLocaleData?.app_tax_number }}
                                                </mat-checkbox>
                                            </button>
                                            <button mat-menu-item>
                                                <mat-checkbox
                                                    color="primary"
                                                    name="field_filter.mobile"
                                                    name="field_filter.comment"
                                                    (ngModelChange)="columnFilter($event, 'comment')"
                                                    [(ngModel)]="showFieldFilter.comment"
                                                >
                                                    {{ localeData?.comment }}
                                                </mat-checkbox>
                                            </button>
                                            <ng-container *ngFor="let item of companyCustomFields$ | async">
                                                <button mat-menu-item>
                                                    <mat-checkbox
                                                        color="primary"
                                                        name="field_filter.mobile"
                                                        name="{{ item.uniqueName }}"
                                                        (ngModelChange)="columnFilter($event, item.uniqueName)"
                                                        [(ngModel)]="showFieldFilter[item.uniqueName]"
                                                    >
                                                        {{ item.key | titlecase }}
                                                    </mat-checkbox>
                                                </button>
                                            </ng-container>
                                        </mat-menu>
                                    </div>
                                </div>
                                <div class="btn-group pull-right on-mobile-view mr-t1">
                                    <button
                                        mat-raised-button
                                        *ngIf="activeTab == 'customer'"
                                        class="btn-sky-blue mr-r05 w-100"
                                        (click)="openAddAndManage('customer')"
                                    >
                                        {{ localeData?.new_customer }}
                                    </button>
                                    <button
                                        mat-raised-button
                                        *ngIf="activeTab == 'vendor'"
                                        class="btn-sky-blue w-100"
                                        (click)="openAddAndManage('vendor')"
                                    >
                                        {{ localeData?.new_vendor }}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="top-content">
                        <div
                            class="d-flex w-100 justify-content-between overflow-x-auto"
                            [hidden]="
                                (activeTab === 'customer' && !sundryDebtorsAccounts?.length) ||
                                (activeTab === 'vendor' && !sundryCreditorsAccounts?.length)
                            "
                        >
                            <div
                                class="
                                    total-details-box
                                    mr-r05
                                    d-flex
                                    justify-content-between
                                    count-box
                                    align-items-end
                                "
                                style="position: relative"
                            >
                                <h5>
                                    <ng-container *ngIf="!selectedCheckedContacts?.length">{{
                                        activeTab === "customer" ? localeData?.customers : localeData?.vendors
                                    }}</ng-container>
                                    <ng-container *ngIf="selectedCheckedContacts?.length">{{
                                        activeTab === "customer"
                                            ? localeData?.customers_selected
                                            : localeData?.vendors_selected
                                    }}</ng-container>
                                    <div>
                                        <span *ngIf="!selectedCheckedContacts?.length" class="number-total">{{
                                            activeTab === "customer" ? totalCustomers : totalVendors
                                        }}</span>
                                        <span
                                            *ngIf="selectedCheckedContacts?.length > 0"
                                            class="number-total total-customer-vendor-count"
                                            ><strong>{{ selectedCheckedContacts?.length }}</strong
                                            >/{{ activeTab === "customer" ? totalCustomers : totalVendors }}</span
                                        >
                                    </div>
                                </h5>
                                <div class="more-button align-items-center">
                                    <button
                                        mat-icon-button
                                        style="position: absolute; top: 11px; right: 11px"
                                        [matMenuTriggerFor]="downloadCsvEmail"
                                        *ngIf="selectedCheckedContacts?.length"
                                        id="button-basic"
                                    >
                                        <span class="icon-arrow-down"></span>
                                    </button>
                                    <mat-menu #downloadCsvEmail="matMenu">
                                        <button mat-menu-item (click)="openEmailDialog()">
                                            {{ commonLocaleData?.app_email }}
                                        </button>
                                        <button mat-menu-item (click)="downloadCSV()">
                                            {{ commonLocaleData?.app_download_csv }}
                                        </button>
                                    </mat-menu>
                                </div>
                            </div>
                            <div
                                class="total-details-box mr-r05 border-none opening-box"
                                *ngIf="showFieldFilter.openingBalance"
                            >
                                <h5>
                                    {{ localeData?.opening }}
                                    <div>
                                        <span
                                            class="d-inline-flex number-total"
                                            *ngIf="
                                                activeTab === 'customer' &&
                                                openingBalance?.type === 'CREDIT' &&
                                                formatAmountInCurrency(openingBalance?.amount) > 0
                                            "
                                            >-</span
                                        >
                                        <span
                                            class="d-inline-flex number-total"
                                            *ngIf="
                                                activeTab === 'vendor' &&
                                                openingBalance?.type === 'DEBIT' &&
                                                formatAmountInCurrency(openingBalance?.amount) > 0
                                            "
                                            >-</span
                                        >
                                        <span class="d-inline-flex number-total">
                                            <amount-field
                                                [amount]="openingBalance?.amount"
                                                [currencySymbol]="false"
                                                [currencyCode]="false"
                                            ></amount-field
                                            >/-
                                        </span>
                                    </div>
                                </h5>
                            </div>
                            <div class="total-details-box mr-r05 border-none sales-purchase">
                                <h5>
                                    <span *ngIf="activeTab === 'vendor'">{{ commonLocaleData?.app_purchase }}</span>
                                    <span *ngIf="activeTab === 'customer'">{{ commonLocaleData?.app_sales }}</span>
                                    <div>
                                        <span class="d-inline-flex number-total">
                                            <amount-field
                                                [amount]="totalSales"
                                                [currencySymbol]="false"
                                                [currencyCode]="false"
                                            >
                                            </amount-field
                                            >/-
                                        </span>
                                    </div>
                                </h5>
                            </div>
                            <div class="total-details-box mr-r05 border-none payment-receipt">
                                <h5>
                                    <span *ngIf="activeTab === 'vendor'">{{ commonLocaleData?.app_payment }}</span>
                                    <span *ngIf="activeTab === 'customer'">{{ commonLocaleData?.app_receipt }}</span>
                                    <div>
                                        <span class="d-inline-flex number-total">
                                            <amount-field
                                                [amount]="totalReceipts"
                                                [currencySymbol]="false"
                                                [currencyCode]="false"
                                            >
                                            </amount-field
                                            >/-
                                        </span>
                                    </div>
                                </h5>
                            </div>
                            <div class="total-details-box border-none closing-box">
                                <h5>
                                    {{ localeData?.closing }}
                                    <div>
                                        <span class="d-inline-flex number-total">
                                            <amount-field
                                                [amount]="closingBalance"
                                                [currencySymbol]="false"
                                                [currencyCode]="false"
                                            >
                                            </amount-field
                                            >/-
                                        </span>
                                    </div>
                                </h5>
                            </div>
                        </div>
                    </div>

                    <div class="text-center top-aging-table-top separate-top-aging pd-1 mr-t1" *ngIf="isMobileScreen">
                        <p (click)="showGiddhDatepicker($event)">
                            <strong>{{ commonLocaleData?.app_due_as_on }} </strong>
                            <span *ngIf="selectedDateRangeUi"> {{ selectedDateRangeUi }} </span>
                        </p>
                    </div>

                    <div class="contact-main customer-page on-mobile-view">
                        <div class="pd-b2 mr-b1">
                            <div>
                                <div *ngIf="!isMobileScreen && !isGetAccountsInProcess">
                                    <ng-container *ngTemplateOutlet="mainTable"></ng-container>
                                </div>

                                <giddh-page-loader *ngIf="!isMobileScreen && isGetAccountsInProcess">
                                </giddh-page-loader>

                                <div *ngIf="isMobileScreen">
                                    <ng-container *ngTemplateOutlet="mainTable"></ng-container>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </mat-tab>
            <mat-tab
                label="{{ localeData?.aging_report }}"
                [id]="activeTab === 'aging-report' ? 'giddh-page-heading' : ''"
            >
                <aging-report
                    *ngIf="activeTab === 'aging-report'"
                    [localeData]="localeData"
                    [commonLocaleData]="commonLocaleData"
                    (creteNewCustomerEvent)="openAddAndManage('customer')"
                >
                </aging-report>
            </mat-tab>
        </mat-tab-group>

        <div hidden>
            <!--        <tabset #staticTabs class="custom-tabs customer-aging" [ngClass]="{ 'hide-header': activeTab === 'vendor' }">-->

            <!--            &lt;!&ndash; region Customer/Vendor &ndash;&gt;-->
            <!--            <tab heading="{{ localeData?.customer }}"-->
            <!--                 [id]="activeTab !== 'aging-report' ? 'giddh-page-heading' : ''"-->
            <!--                 (selectTab)="tabSelected(activeTab === 'vendor' ? 'vendor' : 'customer')"-->
            <!--                 [active]="activeTab !== 'aging-report'"-->
            <!--            >-->
            <!--                <div class="container-fluid">-->
            <!--                    <div-->
            <!--                        class="top-bar customer-top-bar clearfix"-->
            <!--                        [ngClass]="{ 'vendor-top-bar': activeTab === 'vendor' }"-->
            <!--                    >-->
            <!--                        <div class="customer-form-inline">-->
            <!--                            <div class="wrap-search-entity d-flex">-->
            <!--                                <div class="dis mr-r15 pull-left on-desktop-view">-->
            <!--                                    <div class="btn-group pull-right">-->
            <!--                                        <button-->
            <!--                                            mat-raised-button-->
            <!--                                            *ngIf="activeTab == 'customer'"-->
            <!--                                            class="btn-sky-blue mr-0"-->
            <!--                                            (click)="openAddAndManage('customer')"-->
            <!--                                        >-->
            <!--                                            {{ localeData?.new_customer }}-->
            <!--                                        </button>-->
            <!--                                        <button-->
            <!--                                            mat-raised-button-->
            <!--                                            *ngIf="activeTab == 'vendor'"-->
            <!--                                            class="btn-sky-blue mr-0"-->
            <!--                                            (click)="openAddAndManage('vendor')"-->
            <!--                                        >-->
            <!--                                            {{ localeData?.new_vendor }}-->
            <!--                                        </button>-->
            <!--                                    </div>-->
            <!--                                </div>-->
            <!--                                <div-->
            <!--                                    class="form-group mr-r15 pull-left linked-entities mb-0"-->
            <!--                                    name="currentBranch"-->
            <!--                                    *ngIf="currentCompanyBranches?.length > 2 && currentOrganizationType === 'COMPANY'"-->
            <!--                                >-->
            <!--                                    <div>-->
            <!--                                        <sh-select-->
            <!--                                            [options]="currentCompanyBranches"-->
            <!--                                            [(ngModel)]="currentBranch.uniqueName"-->
            <!--                                            [showClear]="false"-->
            <!--                                            [ItemHeight]="33"-->
            <!--                                            width="100%"-->
            <!--                                            (selected)="handleBranchChange($event)"-->
            <!--                                            [isFilterEnabled]="true"-->
            <!--                                            [placeholder]="commonLocaleData?.app_select_entity"-->
            <!--                                            [fixedValue]="currentBranch?.alias"-->
            <!--                                        >-->
            <!--                                            <ng-template #optionTemplate let-option="option">-->
            <!--                                                <ng-container>-->
            <!--                                                    <a href="javascript:void(0)" class="list-item d-flex">-->
            <!--                                                        <span class="entity-icon">-->
            <!--                                                            <i-->
            <!--                                                                class="icon-branch-icon pull-right"-->
            <!--                                                                *ngIf="!option.isCompany"-->
            <!--                                                                tooltip="{{ commonLocaleData?.app_branch }}"-->
            <!--                                                            ></i>-->
            <!--                                                            <i-->
            <!--                                                                class="icon-company-profile pull-right"-->
            <!--                                                                *ngIf="option.isCompany"-->
            <!--                                                                tooltip="{{ commonLocaleData?.app_company }}"-->
            <!--                                                            ></i>-->
            <!--                                                        </span>-->
            <!--                                                        <span class="entity-details">-->
            <!--                                                            <div class="item giddh-limit single-line-clamp">-->
            <!--                                                                {{ option?.label || "-" }}-->
            <!--                                                            </div>-->
            <!--                                                            <div class="item-unique giddh-limit single-line-clamp">-->
            <!--                                                                {{ option?.name || "-" }}-->
            <!--                                                            </div>-->
            <!--                                                        </span>-->
            <!--                                                    </a>-->
            <!--                                                </ng-container>-->
            <!--                                            </ng-template>-->
            <!--                                        </sh-select>-->
            <!--                                    </div>-->
            <!--                                </div>-->
            <!--                                <form-->
            <!--                                    #invoiceForm="ngForm"-->
            <!--                                    novalidate-->
            <!--                                    class="form-inline input-grp-date-range-picker position-relative"-->
            <!--                                >-->
            <!--                                    <div class="form-group mr-r15 d-flex flex-fill">-->
            <!--                                        <div-->
            <!--                                            class="input-group custom-datepicker"-->
            <!--                                            (click)="showGiddhDatepicker($event)"-->
            <!--                                        >-->
            <!--                                            <i class="icon-calender calendar-addon"></i>-->
            <!--                                            <input-->
            <!--                                                type="text"-->
            <!--                                                name="selectedDateRange"-->
            <!--                                                [value]="selectedDateRangeUi ? selectedDateRangeUi : ''"-->
            <!--                                                class="giddh-datepicker date-range-picker border-radius-2"-->
            <!--                                            />-->
            <!--                                        </div>-->
            <!--                                    </div>-->
            <!--                                </form>-->
            <!--                            </div>-->
            <!--                            &lt;!&ndash; Invoice filter section ends &ndash;&gt;-->
            <!--                            <button-->
            <!--                                mat-raised-button-->
            <!--                                class="btn btn-group btn-filter desktop-button-filter"-->
            <!--                                *ngIf="selectedAccountsList?.length > 0"-->
            <!--                                (click)="clearSelectedContacts()"-->
            <!--                            >-->
            <!--                                <span class="icon-cross"></span> {{ commonLocaleData?.app_clear_selected }}-->
            <!--                            </button>-->

            <!--                            <div class="pd-t1-md d-flex justify-content-between">-->
            <!--                                &lt;!&ndash; On company class will show only if we are on company mode and branches length will be less than equal 2 &ndash;&gt;-->
            <!--                                <div class="d-flex justify-content-between">-->
            <!--                                    <div-->
            <!--                                        class="pull-left header-left d-none"-->
            <!--                                        [ngClass]="{ 'on-company': currentCompanyBranches?.length >= 2 }"-->
            <!--                                    >-->
            <!--                                        <div-->
            <!--                                            class="form-group max-width-250 search-field mb-0"-->
            <!--                                            *ngIf="activeTab !== 'aging'"-->
            <!--                                        >-->
            <!--                                            <input-->
            <!--                                                type="text"-->
            <!--                                                name="searchStr"-->
            <!--                                                [placeholder]="localeData?.name_email_mobile"-->
            <!--                                                class="form-control"-->
            <!--                                                [(ngModel)]="searchStr"-->
            <!--                                                (ngModelChange)="searchStr$.next($event)"-->
            <!--                                            />-->
            <!--                                            <span class="input-addon">-->
            <!--                                                <i class="icon-search"></i>-->
            <!--                                            </span>-->
            <!--                                        </div>-->
            <!--                                    </div>-->
            <!--                                    <div class="customer-footer-box pull-right">-->
            <!--                                        <button-->
            <!--                                            class="btn btn-group btn-filter mobile-button-filter"-->
            <!--                                            *ngIf="selectedAccountsList?.length > 0"-->
            <!--                                            (click)="clearSelectedContacts()"-->
            <!--                                        >-->
            <!--                                            <span class="icon-cross"></span>-->

            <!--                                            <span>{{ commonLocaleData?.app_clear }}</span>-->
            <!--                                        </button>-->
            <!--                                    </div>-->
            <!--                                    <div-->
            <!--                                        class="advance-icon cursor-pointer align-items-center btn-group mr-0"-->
            <!--                                        *ngIf="activeTab !== 'aging'"-->
            <!--                                        #filterDropDownList="bs-dropdown"-->
            <!--                                        dropdown-->
            <!--                                        [autoClose]="false"-->
            <!--                                        (clickOutside)="hideListItems()"-->
            <!--                                        [tooltip]="localeData?.filter_toggle"-->
            <!--                                        [placement]="'right'"-->
            <!--                                    >-->
            <!--                                        <button mat-icon-button [matMenuTriggerFor]="menu">-->
            <!--                                            <i class="icon-options"></i>-->
            <!--                                        </button>-->
            <!--                                        <mat-menu #menu="matMenu">-->
            <!--                                            <button mat-menu-item>-->
            <!--                                                <mat-checkbox-->
            <!--                                                    color="primary"-->
            <!--                                                    name="selectAll"-->
            <!--                                                    [(ngModel)]="showFieldFilter.selectAll"-->
            <!--                                                    (ngModelChange)="selectAllColumns($event)"-->
            <!--                                                >-->
            <!--                                                    {{ commonLocaleData?.app_select_all }}</mat-checkbox-->
            <!--                                                >-->
            <!--                                            </button>-->
            <!--                                            <button mat-menu-item>-->
            <!--                                                <mat-checkbox-->
            <!--                                                    color="primary"-->
            <!--                                                    name="field_filter.parentGroup"-->
            <!--                                                    (ngModelChange)="columnFilter($event, 'parentGroup')"-->
            <!--                                                    [(ngModel)]="showFieldFilter.parentGroup"-->
            <!--                                                >-->
            <!--                                                    {{ commonLocaleData?.app_parent_group }}</mat-checkbox-->
            <!--                                                >-->
            <!--                                            </button>-->
            <!--                                            <button mat-menu-item>-->
            <!--                                                <mat-checkbox-->
            <!--                                                    color="primary"-->
            <!--                                                    name="field_filter.openingBalance"-->
            <!--                                                    (ngModelChange)="columnFilter($event, 'openingBalance')"-->
            <!--                                                    [(ngModel)]="showFieldFilter.openingBalance"-->
            <!--                                                >-->
            <!--                                                    {{ localeData?.opening }}-->
            <!--                                                </mat-checkbox>-->
            <!--                                            </button>-->
            <!--                                            <button mat-menu-item>-->
            <!--                                                <mat-checkbox-->
            <!--                                                    color="primary"-->
            <!--                                                    name="field_filter.mobile"-->
            <!--                                                    (ngModelChange)="columnFilter($event, 'mobile')"-->
            <!--                                                    [(ngModel)]="showFieldFilter.contact"-->
            <!--                                                >-->
            <!--                                                    {{ localeData?.contacts }}-->
            <!--                                                </mat-checkbox>-->
            <!--                                            </button>-->
            <!--                                            <button mat-menu-item>-->
            <!--                                                <mat-checkbox-->
            <!--                                                    color="primary"-->
            <!--                                                    name="field_filter.mobile"-->
            <!--                                                    name="field_filter.state"-->
            <!--                                                    (ngModelChange)="columnFilter($event, 'state')"-->
            <!--                                                    [(ngModel)]="showFieldFilter.state"-->
            <!--                                                >-->
            <!--                                                    {{ commonLocaleData?.app_state }}-->
            <!--                                                </mat-checkbox>-->
            <!--                                            </button>-->
            <!--                                            <button mat-menu-item *ngIf="shouldShowTaxFilter">-->
            <!--                                                <mat-checkbox-->
            <!--                                                    color="primary"-->
            <!--                                                    name="field_filter.mobile"-->
            <!--                                                    name="field_filter.gstin"-->
            <!--                                                    (ngModelChange)="columnFilter($event, 'gstin')"-->
            <!--                                                    [(ngModel)]="showFieldFilter.gstin"-->
            <!--                                                >-->
            <!--                                                    {{ commonLocaleData?.app_tax_number }}-->
            <!--                                                </mat-checkbox>-->
            <!--                                            </button>-->
            <!--                                            <button mat-menu-item>-->
            <!--                                                <mat-checkbox-->
            <!--                                                    color="primary"-->
            <!--                                                    name="field_filter.mobile"-->
            <!--                                                    name="field_filter.comment"-->
            <!--                                                    (ngModelChange)="columnFilter($event, 'comment')"-->
            <!--                                                    [(ngModel)]="showFieldFilter.comment"-->
            <!--                                                >-->
            <!--                                                    {{ localeData?.comment }}-->
            <!--                                                </mat-checkbox>-->
            <!--                                            </button>-->
            <!--                                            <ng-container *ngFor="let item of companyCustomFields$ | async">-->
            <!--                                                <button mat-menu-item>-->
            <!--                                                    <mat-checkbox-->
            <!--                                                        color="primary"-->
            <!--                                                        name="field_filter.mobile"-->
            <!--                                                        name="{{ item.uniqueName }}"-->
            <!--                                                        (ngModelChange)="columnFilter($event, item.uniqueName)"-->
            <!--                                                        [(ngModel)]="showFieldFilter[item.uniqueName]"-->
            <!--                                                    >-->
            <!--                                                        {{ item.key | titlecase }}-->
            <!--                                                    </mat-checkbox>-->
            <!--                                                </button>-->
            <!--                                            </ng-container>-->
            <!--                                        </mat-menu>-->
            <!--                                    </div>-->
            <!--                                </div>-->
            <!--                                <div class="btn-group pull-right on-mobile-view mr-t1">-->
            <!--                                    <button-->
            <!--                                        mat-raised-button-->
            <!--                                        *ngIf="activeTab == 'customer'"-->
            <!--                                        class="btn-sky-blue mr-r05 w-100"-->
            <!--                                        (click)="openAddAndManage('customer')"-->
            <!--                                    >-->
            <!--                                        {{ localeData?.new_customer }}-->
            <!--                                    </button>-->
            <!--                                    <button-->
            <!--                                        mat-raised-button-->
            <!--                                        *ngIf="activeTab == 'vendor'"-->
            <!--                                        class="btn-sky-blue w-100"-->
            <!--                                        (click)="openAddAndManage('vendor')"-->
            <!--                                    >-->
            <!--                                        {{ localeData?.new_vendor }}-->
            <!--                                    </button>-->
            <!--                                </div>-->
            <!--                            </div>-->
            <!--                        </div>-->
            <!--                    </div>-->

            <!--                    <div class="top-content">-->
            <!--                        <div-->
            <!--                            class="d-flex w-100 justify-content-between overflow-x-auto"-->
            <!--                            [hidden]="-->
            <!--                                (activeTab === 'customer' && !sundryDebtorsAccounts?.length) ||-->
            <!--                                (activeTab === 'vendor' && !sundryCreditorsAccounts?.length)-->
            <!--                            "-->
            <!--                        >-->
            <!--                            <div-->
            <!--                                class="-->
            <!--                                    total-details-box-->
            <!--                                    mr-r05-->
            <!--                                    d-flex-->
            <!--                                    justify-content-between-->
            <!--                                    count-box-->
            <!--                                    align-items-end-->
            <!--                                "-->
            <!--                                style="position: relative"-->
            <!--                            >-->
            <!--                                <h5>-->
            <!--                                    <ng-container *ngIf="!selectedCheckedContacts?.length">{{-->
            <!--                                        activeTab === "customer" ? localeData?.customers : localeData?.vendors-->
            <!--                                        }}</ng-container>-->
            <!--                                    <ng-container *ngIf="selectedCheckedContacts?.length">{{-->
            <!--                                        activeTab === "customer"-->
            <!--                                            ? localeData?.customers_selected-->
            <!--                                            : localeData?.vendors_selected-->
            <!--                                        }}</ng-container>-->
            <!--                                    <div>-->
            <!--                                        <span *ngIf="!selectedCheckedContacts?.length" class="number-total">{{-->
            <!--                                            activeTab === "customer" ? totalCustomers : totalVendors-->
            <!--                                            }}</span>-->
            <!--                                        <span-->
            <!--                                            *ngIf="selectedCheckedContacts?.length > 0"-->
            <!--                                            class="number-total total-customer-vendor-count"-->
            <!--                                        ><strong>{{ selectedCheckedContacts?.length }}</strong-->
            <!--                                        >/{{ activeTab === "customer" ? totalCustomers : totalVendors }}</span-->
            <!--                                        >-->
            <!--                                    </div>-->
            <!--                                </h5>-->
            <!--                                <div class="more-button align-items-center">-->
            <!--                                    <button-->
            <!--                                        mat-icon-button-->
            <!--                                        style="position: absolute; top: 11px; right: 11px"-->
            <!--                                        [matMenuTriggerFor]="downloadCsvEmail"-->
            <!--                                        *ngIf="selectedCheckedContacts?.length"-->
            <!--                                        id="button-basic"-->
            <!--                                    >-->
            <!--                                        <span class="icon-arrow-down"></span>-->
            <!--                                    </button>-->
            <!--                                    <mat-menu #downloadCsvEmail="matMenu">-->
            <!--                                        <button mat-menu-item (click)="openEmailDialog()">-->
            <!--                                            {{ commonLocaleData?.app_email }}-->
            <!--                                        </button>-->
            <!--                                        <button mat-menu-item (click)="downloadCSV()">-->
            <!--                                            {{ commonLocaleData?.app_download_csv }}-->
            <!--                                        </button>-->
            <!--                                        &lt;!&ndash;                                        <button mat-menu-item  (click)="openSmsDialog();"> {{commonLocaleData?.app_sms}}</button>&ndash;&gt;-->
            <!--                                        &lt;!&ndash;                                        <button mat-menu-item  *ngIf="selectedAccountsList.length > 0 && activeTab === 'vendor'"&ndash;&gt;-->
            <!--                                        &lt;!&ndash;                                                (click)="openBulkPaymentModal(template)" > {{ localeData?.bulk_payment }}</button>&ndash;&gt;-->
            <!--                                    </mat-menu>-->
            <!--                                </div>-->
            <!--                            </div>-->
            <!--                            <div-->
            <!--                                class="total-details-box mr-r05 border-none opening-box"-->
            <!--                                *ngIf="showFieldFilter.openingBalance"-->
            <!--                            >-->
            <!--                                <h5>-->
            <!--                                    {{ localeData?.opening }}-->
            <!--                                    <div>-->
            <!--                                        <span-->
            <!--                                            class="d-inline-flex number-total"-->
            <!--                                            *ngIf="-->
            <!--                                                activeTab === 'customer' &&-->
            <!--                                                openingBalance?.type === 'CREDIT' &&-->
            <!--                                                formatAmountInCurrency(openingBalance?.amount) > 0-->
            <!--                                            "-->
            <!--                                        >-</span-->
            <!--                                        >-->
            <!--                                        <span-->
            <!--                                            class="d-inline-flex number-total"-->
            <!--                                            *ngIf="-->
            <!--                                                activeTab === 'vendor' &&-->
            <!--                                                openingBalance?.type === 'DEBIT' &&-->
            <!--                                                formatAmountInCurrency(openingBalance?.amount) > 0-->
            <!--                                            "-->
            <!--                                        >-</span-->
            <!--                                        >-->
            <!--                                        <span class="d-inline-flex number-total">-->
            <!--                                            <amount-field-->
            <!--                                                [amount]="openingBalance?.amount"-->
            <!--                                                [currencySymbol]="false"-->
            <!--                                                [currencyCode]="false"-->
            <!--                                            ></amount-field-->
            <!--                                            >/- -->
            <!--                                        </span>-->
            <!--                                    </div>-->
            <!--                                </h5>-->
            <!--                            </div>-->
            <!--                            <div class="total-details-box mr-r05 border-none sales-purchase">-->
            <!--                                <h5>-->
            <!--                                    <span *ngIf="activeTab === 'vendor'">{{ commonLocaleData?.app_purchase }}</span>-->
            <!--                                    <span *ngIf="activeTab === 'customer'">{{ commonLocaleData?.app_sales }}</span>-->
            <!--                                    <div>-->
            <!--                                        <span class="d-inline-flex number-total">-->
            <!--                                            <amount-field-->
            <!--                                                [amount]="totalSales"-->
            <!--                                                [currencySymbol]="false"-->
            <!--                                                [currencyCode]="false"-->
            <!--                                            >-->
            <!--                                            </amount-field-->
            <!--                                            >/- -->
            <!--                                        </span>-->
            <!--                                    </div>-->
            <!--                                </h5>-->
            <!--                            </div>-->
            <!--                            <div class="total-details-box mr-r05 border-none payment-receipt">-->
            <!--                                <h5>-->
            <!--                                    <span *ngIf="activeTab === 'vendor'">{{ commonLocaleData?.app_payment }}</span>-->
            <!--                                    <span *ngIf="activeTab === 'customer'">{{ commonLocaleData?.app_receipt }}</span>-->
            <!--                                    <div>-->
            <!--                                        <span class="d-inline-flex number-total">-->
            <!--                                            <amount-field-->
            <!--                                                [amount]="totalReceipts"-->
            <!--                                                [currencySymbol]="false"-->
            <!--                                                [currencyCode]="false"-->
            <!--                                            >-->
            <!--                                            </amount-field-->
            <!--                                            >/- -->
            <!--                                        </span>-->
            <!--                                    </div>-->
            <!--                                </h5>-->
            <!--                            </div>-->
            <!--                            <div class="total-details-box border-none closing-box">-->
            <!--                                <h5>-->
            <!--                                    {{ localeData?.closing }}-->
            <!--                                    <div>-->
            <!--                                        <span class="d-inline-flex number-total">-->
            <!--                                            <amount-field-->
            <!--                                                [amount]="closingBalance"-->
            <!--                                                [currencySymbol]="false"-->
            <!--                                                [currencyCode]="false"-->
            <!--                                            >-->
            <!--                                            </amount-field-->
            <!--                                            >/- -->
            <!--                                        </span>-->
            <!--                                    </div>-->
            <!--                                </h5>-->
            <!--                            </div>-->
            <!--                        </div>-->
            <!--                    </div>-->
            <!--                    <div class="text-center top-aging-table-top separate-top-aging pd-1 mr-t1" *ngIf="isMobileScreen">-->
            <!--                        <p (click)="showGiddhDatepicker($event)">-->
            <!--                            <strong>{{ commonLocaleData?.app_due_as_on }} </strong>-->
            <!--                            <span *ngIf="selectedDateRangeUi"> {{ selectedDateRangeUi }} </span>-->
            <!--                        </p>-->
            <!--                    </div>-->

            <!--                    <div class="contact-main customer-page on-mobile-view">-->
            <!--                        <div class="pd-b2 mr-b1">-->
            <!--                            <div>-->
            <!--                                <div *ngIf="!isMobileScreen && !isGetAccountsInProcess">-->
            <!--                                    <ng-container *ngTemplateOutlet="mainTable"></ng-container>-->
            <!--                                </div>-->

            <!--                                <giddh-page-loader *ngIf="!isMobileScreen && isGetAccountsInProcess">-->
            <!--                                </giddh-page-loader>-->

            <!--                                <div *ngIf="isMobileScreen">-->
            <!--                                    <ng-container *ngTemplateOutlet="mainTable"></ng-container>-->
            <!--                                </div>-->
            <!--                            </div>-->
            <!--                        </div>-->
            <!--                    </div>-->
            <!--                </div>-->
            <!--            </tab>-->
            <!--            &lt;!&ndash; endregion &ndash;&gt;-->

            <!--            &lt;!&ndash; region Aging Report &ndash;&gt;-->
            <!--            <tab-->
            <!--                heading="{{ localeData?.aging_report }}"-->
            <!--                [id]="activeTab === 'aging-report' ? 'giddh-page-heading' : ''"-->
            <!--                (selectTab)="tabSelected('aging-report')"-->
            <!--                [active]="activeTab === 'aging-report'"-->
            <!--            >-->
            <!--                <aging-report-->
            <!--                    *ngIf="activeTab === 'aging-report'"-->
            <!--                    [localeData]="localeData"-->
            <!--                    [commonLocaleData]="commonLocaleData"-->
            <!--                    (creteNewCustomerEvent)="openAddAndManage('customer')"-->
            <!--                >-->
            <!--                </aging-report>-->
            <!--            </tab>-->
            <!--            &lt;!&ndash; endregion &ndash;&gt;-->
            <!--        </tabset>-->
        </div>
    </div>

    <!-- region Modal for Mail/SMS for vendore-->
    <ng-template #mailModal *ngIf="activeTab === 'vendor'" tabindex="1">
        <div>
            <div class="modal-header theme-bg pd-l2 pd-r2">
                <h3 class="modal-title bg" id="modal-title-mail-vendor">{{ messageBody.header.set }}</h3>
                <button
                    mat-icon-button
                    aria-hidden="true"
                    class="close"
                    data-dismiss="modal"
                    [attr.aria-label]="commonLocaleData?.app_close"
                    (click)="onNoClick()"
                >
                    ×
                </button>
            </div>
            <div class="modal-body pd-l2 pd-r2 clearfix">
                <h1 class="mr-b1" *ngIf="messageBody.type == 'Email'">{{ localeData?.enter_subject }}:</h1>
                <text-field
                    *ngIf="messageBody.type == 'Email'"
                    [cssClass]="'form-control mr-b1'"
                    #subject
                    [(ngModel)]="messageBody.subject"
                    type="text"
                    [placeholder]="localeData?.enter_subject_placeholder"
                ></text-field>
                <h1 class="mr-b1">{{ localeData?.type_message_body }}:</h1>
                <textarea
                    matInput
                    #messageBox
                    [(ngModel)]="messageBody.msg"
                    class="form-control resize-none"
                    rows="4"
                    [placeholder]="localeData?.type_message_body_placeholder"
                ></textarea>
                <small class="mr-t05 mr-b05 grey">{{ localeData?.tip }}</small>

                <div class="mt-3">
                    <mat-chip-list class="font-12" aria-label="Fish selection">
                        <mat-chip *ngFor="let val of dataVariables" (click)="addValueToMsg(val)">{{
                            val.name
                        }}</mat-chip>
                    </mat-chip-list>
                </div>
                <div class="mr-t4">
                    <button
                        mat-raised-button
                        class="btn-sm btn-success pull-right mr-l1"
                        (click)="send('sundrycreditors')"
                    >
                        {{ messageBody.btn.set }}
                    </button>
                </div>
            </div>
        </div>
    </ng-template>
    <!--endregion-->

    <!--region Modal for Mail/SMS for customer-->
    <ng-template #mailModal *ngIf="activeTab === 'customer'" tabindex="-1">
        <div>
            <div class="modal-header theme-bg pd-l2 pd-r2">
                <h3 class="modal-title bg" id="modal-title-mail-customer">{{ messageBody.header.set }}</h3>
                <button
                    mat-icon-button
                    class="close"
                    [attr.aria-label]="commonLocaleData?.app_close"
                    (click)="onNoClick()"
                >
                    ×
                </button>
            </div>

            <div class="modal-body pd-l2 pd-r2 clearfix">
                <h1 class="mr-b1" *ngIf="messageBody.type == 'Email'">{{ localeData?.enter_subject }}:</h1>
                <text-field
                    *ngIf="messageBody.type == 'Email'"
                    [cssClass]="'form-control mr-b1'"
                    #subject
                    [(ngModel)]="messageBody.subject"
                    type="text"
                    [placeholder]="localeData?.enter_subject_placeholder"
                ></text-field>

                <h1 class="mr-b1">{{ localeData?.type_message_body }}:</h1>
                <textarea
                    matInput
                    #messageBox
                    [(ngModel)]="messageBody.msg"
                    class="form-control resize-none"
                    rows="4"
                    [placeholder]="localeData?.type_message_body_placeholder"
                ></textarea>
                <small class="mr-t05 mr-b05 grey">{{ localeData?.tip }}</small>

                <div class="mt-3">
                    <mat-chip-list class="font-12" aria-label="Fish selection">
                        <mat-chip *ngFor="let val of dataVariables" (click)="addValueToMsg(val)">{{
                            val.name
                        }}</mat-chip>
                    </mat-chip-list>
                </div>

                <div class="mr-t4">
                    <button
                        mat-raised-button
                        class="btn-sm btn-success pull-right mr-l1"
                        (click)="send('sundrydebtors')"
                    >
                        {{ messageBody.btn.set }}
                    </button>
                </div>
            </div>
        </div>
    </ng-template>
    <!--endregion-->

    <div class="aside-overlay" *ngIf="accountAsideMenuState === 'in'"></div>

    <div class="abc" *ngIf="accountAsideMenuState === 'in'">
        <aside-menu-account
            [activeGroupUniqueName]="selectedGroupForCreateAcc"
            [activeAccountDetails]="activeAccountDetails"
            [isUpdateAccount]="isUpdateAccount"
            class="account-aside-menu-state transform-inherit"
            [@slideInOut]="accountAsideMenuState"
            [commonLocaleData]="commonLocaleData"
            (closeAsideEvent)="toggleAccountAsidePane($event)"
            (getUpdateList)="getUpdatedList($event)"
        >
        </aside-menu-account>
    </div>

    <div class="aside-overlay" *ngIf="paymentAsideMenuState === 'in'"></div>
    <div class="abc vendor-pay-now" *ngIf="paymentAsideMenuState === 'in'">
        <payment-aside
            class="account-aside-menu-state transform-inherit"
            [selectedAccForPayment]="selectedAccForPayment"
            [localeData]="localeData"
            [commonLocaleData]="commonLocaleData"
        >
        </payment-aside>
    </div>

    <ng-template #mainTable>
        <div class="mobile-card-wrapper table-responsive vendor-page mt-3">
            <table class="mat-table table on-mobile-view w-100" *ngIf="activeTab === 'customer'">
                <thead class="table-header-fix" [hidden]="!searchStr && !sundryDebtorsAccounts?.length">
                    <tr class="mat-header-row">
                        <th class="td-search-box mat-header-cell">
                            <div class="d-flex" style="align-items: center; padding-left: 30px">
                                <mat-checkbox
                                    style="position: absolute; left: 10px"
                                    color="primary"
                                    type="checkbox"
                                    *ngIf="selectedCheckedContacts?.length"
                                    [(ngModel)]="allSelectionModel"
                                    (ngModelChange)="toggleAllSelection(allSelectionModel)"
                                ></mat-checkbox>
                                <div class="d-flex align-items-center">
                                    <div>
                                        <ng-container
                                            *ngTemplateOutlet="
                                                searchTemplate;
                                                context: {
                                                    $implicit: showNameSearch,
                                                    fieldName: 'name',
                                                    formControl: searchedName,
                                                    title: commonLocaleData?.app_customer_name
                                                }
                                            "
                                        ></ng-container>
                                    </div>
                                    <ng-container
                                        *ngTemplateOutlet="
                                            !showNameSearch ? sortingTemplate : '';
                                            context: { $implicit: 'name' }
                                        "
                                    ></ng-container>
                                </div>
                            </div>
                        </th>

                        <th *ngIf="showFieldFilter.parentGroup" class="mat-header-cell">
                            <div class="d-flex align-items-center">
                                {{ commonLocaleData?.app_parent_group }}
                                <ng-container *ngTemplateOutlet="sortingTemplate; context: { $implicit: 'group' }">
                                </ng-container>
                            </div>
                        </th>

                        <th class="text-right mat-header-cell" *ngIf="showFieldFilter.openingBalance">
                            <div class="d-flex justify-content-end align-items-center">
                                {{ localeData?.opening }}
                                <ng-container
                                    *ngTemplateOutlet="sortingTemplate; context: { $implicit: 'openingBalance' }"
                                >
                                </ng-container>
                            </div>
                        </th>

                        <th class="text-right mat-header-cell">
                            <div class="d-flex justify-content-end align-items-center">
                                {{ commonLocaleData?.app_sales }}
                                <ng-container *ngTemplateOutlet="sortingTemplate; context: { $implicit: 'debitTotal' }">
                                </ng-container>
                            </div>
                        </th>

                        <th class="text-right mat-header-cell">
                            <div class="d-flex justify-content-end align-items-center">
                                {{ commonLocaleData?.app_receipt }}
                                <ng-container
                                    *ngTemplateOutlet="sortingTemplate; context: { $implicit: 'creditTotal' }"
                                >
                                </ng-container>
                            </div>
                        </th>

                        <th class="text-right mat-header-cell">
                            <div class="d-flex justify-content-end align-items-center">
                                {{ localeData?.closing }}
                                <ng-container *ngTemplateOutlet="sortingTemplate; context: { $implicit: 'amountDue' }">
                                </ng-container>
                            </div>
                        </th>

                        <th *ngIf="showFieldFilter.contact" class="mat-header-cell">
                            <div class="d-flex">
                                <div class="flex-fill">
                                    {{ localeData?.contacts }}
                                </div>
                            </div>
                        </th>

                        <th *ngIf="showFieldFilter.gstin && shouldShowTaxFilter" class="mat-header-cell">
                            <div class="d-flex align-items-center">
                                {{ commonLocaleData?.app_tax_number }}
                                <ng-container *ngTemplateOutlet="sortingTemplate; context: { $implicit: 'gstin' }">
                                </ng-container>
                            </div>
                        </th>

                        <th *ngIf="showFieldFilter.state" class="mat-header-cell">
                            <div class="d-flex align-items-center">
                                {{ commonLocaleData?.app_state }}
                                <ng-container *ngTemplateOutlet="sortingTemplate; context: { $implicit: 'state' }">
                                </ng-container>
                            </div>
                        </th>

                        <th *ngIf="showFieldFilter.comment" class="comment-field text-break mat-header-cell">
                            {{ localeData?.comment }}
                        </th>

                        <ng-container *ngFor="let item of companyCustomFields$ | async">
                            <th
                                width="10%"
                                class="mat-header-cell"
                                *ngIf="item?.uniqueName && showFieldFilter[item?.uniqueName]"
                            >
                                {{ item.key | titlecase }}
                            </th>
                        </ng-container>
                    </tr>
                </thead>

                <tbody>
                    <tr class="mat-row" *ngFor="let account of sundryDebtorsAccounts; let idx = index">
                        <td
                            class="position-relative word-wrap cursor-pointer mat-cell"
                            data-title="{{ localeData?.customer }}"
                        >
                            <div class="customer-name-filed">
                                <div style="display: flex; align-items: center">
                                    <mat-checkbox
                                        color="primary"
                                        class="mr-2 checkbox-left-side-in-table"
                                        type="checkbox"
                                        [(ngModel)]="account.isSelected"
                                        (change)="selectAccount($event, account)"
                                    >
                                    </mat-checkbox>

                                    <span>{{ account.name }}</span>
                                </div>

                                <button
                                    mat-icon-button
                                    id="edit-model-basic"
                                    class="table-menu-first-td"
                                    [matMenuTriggerFor]="editModelBasic"
                                >
                                    <span class="icon-dots-three-vertical"></span>
                                </button>

                                <mat-menu #editModelBasic="matMenu">
                                    <div class="account-detail-custom-header" style="width: 260px; margin-top: -8px">
                                        <div class="d-flex p-0">
                                            <div class="account-detail-padding flex-fill border-right-0">
                                                <h3 class="account-detail-custom-title word-break">
                                                    <span (click)="performActions(0, account)">
                                                        {{ account?.name }}
                                                    </span>
                                                </h3>
                                            </div>

                                            <button
                                                mat-icon-button
                                                class="account-detail-padding"
                                                (click)="updateCustomerAcc('customer', account)"
                                            >
                                                <img src="./assets/images/path.svg" />
                                            </button>
                                        </div>
                                        <div class="custom-detail">
                                            <h4>{{ account?.mobileNo }}</h4>
                                            <h4>{{ account?.email }}</h4>
                                            <h4>{{ account?.gstIn }}</h4>
                                        </div>
                                    </div>
                                    <button
                                        mat-menu-item
                                        *ngIf="!isMobileScreen"
                                        class="font-12"
                                        (click)="performActions(1, account)"
                                    >
                                        {{ commonLocaleData?.app_goto_ledger }}
                                    </button>
                                    <button mat-menu-item class="font-12" (click)="performActions(2, account)">
                                        {{ commonLocaleData?.app_generate_invoice }}
                                    </button>
                                    <button mat-menu-item class="font-12" (click)="performActions(4, account, $event)">
                                        {{ commonLocaleData?.app_send_email }}
                                    </button>
                                </mat-menu>
                            </div>
                        </td>
                        <td
                            class="word-wrap mat-cell"
                            [attr.data-title]="commonLocaleData?.app_parent_group"
                            *ngIf="showFieldFilter.parentGroup"
                        >
                            {{ account?.groupUniqueName }}
                        </td>
                        <td
                            class="mat-cell"
                            [ngClass]="{
                                'word-wrap text-right': true,
                                'negative-balance':
                                    account.openingBalance?.type === 'CREDIT' &&
                                    formatAmountInCurrency(account.openingBalance?.amount) > 0
                            }"
                            [attr.data-title]="localeData?.opening"
                            *ngIf="showFieldFilter.openingBalance"
                        >
                            <div class="d-flex justify-content-end">
                                <span
                                    *ngIf="
                                        account.openingBalance?.type === 'CREDIT' &&
                                        formatAmountInCurrency(account.openingBalance?.amount) > 0
                                    "
                                    >-</span
                                >
                                <span>
                                    <amount-field
                                        [amount]="account.openingBalance?.amount"
                                        [currencySymbol]="false"
                                        [currencyCode]="false"
                                    >
                                    </amount-field>
                                </span>
                            </div>
                        </td>
                        <td class="mat-cell word-wrap text-right" [attr.data-title]="commonLocaleData?.app_receipts">
                            <span class="d-flex justify-content-end">
                                <amount-field
                                    [amount]="account.debitTotal"
                                    [currencySymbol]="false"
                                    [currencyCode]="false"
                                >
                                </amount-field>
                            </span>
                        </td>
                        <td class="mat-cell word-wrap text-right" [attr.data-title]="commonLocaleData?.app_sales">
                            <span class="d-flex justify-content-end">
                                <amount-field
                                    [amount]="account.creditTotal"
                                    [currencySymbol]="false"
                                    [currencyCode]="false"
                                >
                                </amount-field>
                            </span>
                        </td>
                        <td
                            class="mat-cell"
                            [ngClass]="{
                                'word-wrap text-right': true,
                                'negative-balance':
                                    account.closingBalance?.type === 'CREDIT' &&
                                    formatAmountInCurrency(account.closingBalance?.amount) > 0
                            }"
                            [attr.data-title]="localeData?.closing"
                        >
                            <div class="d-flex justify-content-end">
                                <span
                                    *ngIf="
                                        account.closingBalance?.type === 'CREDIT' &&
                                        formatAmountInCurrency(account.closingBalance?.amount) > 0
                                    "
                                    >-</span
                                >
                                <span>
                                    <amount-field
                                        [amount]="account.closingBalance?.amount"
                                        [currencySymbol]="false"
                                        [currencyCode]="false"
                                    >
                                    </amount-field>
                                </span>
                            </div>
                        </td>
                        <td
                            class="mat-cell text-lowercase word-wrap font-12"
                            *ngIf="showFieldFilter.contact"
                            [attr.data-title]="commonLocaleData?.app_email"
                        >
                            <div>
                                {{ account.email || "-" }}
                            </div>
                            <div>
                                {{ account.mobileNo || "-" }}
                            </div>
                        </td>
                        <td
                            class="word-wrap mat-cell"
                            *ngIf="showFieldFilter.gstin && shouldShowTaxFilter"
                            [attr.data-title]="commonLocaleData?.app_gstin"
                        >
                            {{ account.gstIn || "-" }}
                        </td>
                        <td
                            class="word-wrap mat-cell"
                            *ngIf="showFieldFilter.state"
                            [attr.data-title]="commonLocaleData?.app_state"
                        >
                            {{ account?.state?.name || "-" }}
                        </td>
                        <td
                            *ngIf="showFieldFilter.comment"
                            (click)="updateCommentIdx = idx"
                            [attr.data-title]="localeData?.comment"
                            class="mat-cell comment-field text-break"
                        >
                            <ng-container *ngIf="updateCommentIdx != idx">
                                {{ account.comment }}
                                <span [class.text-gray]="!account.comment" *ngIf="!account.comment">{{
                                    localeData?.add_comment
                                }}</span>
                            </ng-container>
                            <ng-container *ngIf="updateCommentIdx === idx">
                                <textarea
                                    matInput
                                    class="form-control"
                                    maxlength="100"
                                    autofocus="true"
                                    [placeholder]="localeData?.enter_comment_here"
                                    [(ngModel)]="account.comment"
                                    (blur)="updateComment(account)"
                                ></textarea>
                            </ng-container>
                        </td>
                        <ng-container *ngFor="let item of account?.customFields">
                            <td
                                *ngIf="item.key && showFieldFilter[item?.uniqueName]"
                                class="mat-cell word-wrap"
                                [attr.data-title]="item.key"
                            >
                                {{ item.value || "-" }}
                            </td>
                        </ng-container>
                    </tr>
                </tbody>
            </table>

            <table class="mat-table table on-mobile-view w-100 vendor-tabel" *ngIf="activeTab === 'vendor'">
                <thead class="table-header-fix" [hidden]="!searchStr && !sundryCreditorsAccounts?.length">
                    <tr class="mat-header-row">
                        <th
                            #searchCustomerContainer
                            (clickOutside)="handleClickOutside($event, searchCustomerContainer, 'name')"
                            class="td-search-box mat-header-cell"
                        >
                            <div class="d-flex" style="align-items: center; padding-left: 30px">
                                <mat-checkbox
                                    style="position: absolute; left: 10px"
                                    color="primary"
                                    type="checkbox"
                                    *ngIf="selectedCheckedContacts.length"
                                    [(ngModel)]="allSelectionModel"
                                    (ngModelChange)="toggleAllSelection(allSelectionModel)"
                                ></mat-checkbox>
                                <div class="d-flex align-items-center">
                                    <div>
                                        <ng-container
                                            *ngTemplateOutlet="
                                                searchTemplate;
                                                context: {
                                                    $implicit: showNameSearch,
                                                    fieldName: 'name',
                                                    formControl: searchedName,
                                                    title: commonLocaleData?.app_vendor_name
                                                }
                                            "
                                        ></ng-container>
                                    </div>
                                    <ng-container
                                        *ngTemplateOutlet="
                                            !showNameSearch ? sortingTemplate : '';
                                            context: { $implicit: 'name' }
                                        "
                                    >
                                    </ng-container>
                                </div>
                            </div>
                        </th>

                        <th *ngIf="showFieldFilter.parentGroup" class="mat-header-cell">
                            <div class="d-flex align-items-center">
                                {{ commonLocaleData?.app_parent_group }}
                                <ng-container *ngTemplateOutlet="sortingTemplate; context: { $implicit: 'group' }">
                                </ng-container>
                            </div>
                        </th>

                        <th class="text-right mat-header-cell" *ngIf="showFieldFilter.openingBalance">
                            <div class="d-flex justify-content-end align-items-center">
                                {{ localeData?.opening }}
                                <ng-container
                                    *ngTemplateOutlet="sortingTemplate; context: { $implicit: 'openingBalance' }"
                                >
                                </ng-container>
                            </div>
                        </th>

                        <th class="text-right mat-header-cell">
                            <div class="d-flex justify-content-end align-items-center">
                                {{ commonLocaleData?.app_purchase }}
                                <ng-container
                                    *ngTemplateOutlet="sortingTemplate; context: { $implicit: 'creditTotal' }"
                                >
                                </ng-container>
                            </div>
                        </th>

                        <th class="text-right mat-header-cell">
                            <div class="d-flex justify-content-end align-items-center">
                                {{ commonLocaleData?.app_payment }}
                                <ng-container *ngTemplateOutlet="sortingTemplate; context: { $implicit: 'debitTotal' }">
                                </ng-container>
                            </div>
                        </th>

                        <th class="text-right mat-header-cell">
                            <div class="d-flex justify-content-end align-items-center">
                                {{ localeData?.closing }}
                                <ng-container *ngTemplateOutlet="sortingTemplate; context: { $implicit: 'amountDue' }">
                                </ng-container>
                            </div>
                        </th>

                        <th *ngIf="showFieldFilter.contact" class="mat-header-cell">
                            <div class="d-flex">
                                <div class="flex-fill">
                                    {{ localeData?.contacts }}
                                </div>
                            </div>
                        </th>

                        <th *ngIf="showFieldFilter.gstin && shouldShowTaxFilter" class="mat-header-cell">
                            <div class="d-flex align-items-center">
                                {{ commonLocaleData?.app_tax_number }}
                                <ng-container *ngTemplateOutlet="sortingTemplate; context: { $implicit: 'gstin' }">
                                </ng-container>
                            </div>
                        </th>

                        <th *ngIf="showFieldFilter.state" class="mat-header-cell">
                            <div class="d-flex align-items-center">
                                {{ commonLocaleData?.app_state }}
                                <ng-container *ngTemplateOutlet="sortingTemplate; context: { $implicit: 'state' }">
                                </ng-container>
                            </div>
                        </th>

                        <th *ngIf="showFieldFilter.comment" class="comment-field text-break mat-header-cell">
                            {{ localeData?.comment }}
                        </th>

                        <ng-container *ngFor="let item of companyCustomFields$ | async">
                            <th
                                width="10%"
                                class="mat-header-cell"
                                *ngIf="item?.uniqueName && showFieldFilter[item?.uniqueName]"
                            >
                                {{ item.key | titlecase }}
                            </th>
                        </ng-container>

                        <th width="10%" class="mat-header-cell">
                            {{ commonLocaleData?.app_action }}
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let account of sundryCreditorsAccounts; let idx = index" class="mat-row">
                        <td
                            class="mat-cell position-relative word-wrap cursor-pointer"
                            [attr.data-title]="localeData?.vendor"
                        >
                            <div class="vendor-name-field">
                                <div style="display: flex; align-items: center">
                                    <mat-checkbox
                                        type="checkbox"
                                        color="primary"
                                        class="mr-2 checkbox-left-side-in-table"
                                        (change)="selectAccount($event, account)"
                                        [(ngModel)]="account.isSelected"
                                    ></mat-checkbox>
                                    <span>{{ account.name }}</span>
                                </div>
                                <button
                                    mat-icon-button
                                    id="edit-model-basic2"
                                    class="table-menu-first-td"
                                    [matMenuTriggerFor]="dropdownBasic2"
                                >
                                    <span class="icon-dots-three-vertical"></span>
                                </button>

                                <mat-menu #dropdownBasic2="matMenu">
                                    <div class="account-detail-custom-header" style="width: 260px; margin-top: -8px">
                                        <div class="d-flex p-0">
                                            <div class="account-detail-padding flex-fill border-right-0">
                                                <h3 class="account-detail-custom-title word-break">
                                                    <span (click)="performActions(0, account)">{{
                                                        account?.name
                                                    }}</span>
                                                </h3>
                                            </div>

                                            <button
                                                mat-icon-button
                                                class="account-detail-padding"
                                                (click)="updateCustomerAcc('vendor', account)"
                                            >
                                                <img src="./assets/images/path.svg" />
                                            </button>
                                        </div>
                                        <div class="custom-detail">
                                            <h4>{{ account?.mobileNo }}</h4>
                                            <h4>{{ account?.email }}</h4>
                                            <h4>{{ account?.gstIn }}</h4>
                                        </div>
                                    </div>
                                    <button
                                        mat-menu-item
                                        *ngIf="!isMobileScreen"
                                        class="font-12"
                                        (click)="performActions(1, account)"
                                    >
                                        {{ commonLocaleData?.app_goto_ledger }}
                                    </button>
                                    <button mat-menu-item class="font-12" (click)="performActions(2, account)">
                                        {{ commonLocaleData?.app_record_bill }}
                                    </button>
                                    <button mat-menu-item class="font-12" (click)="performActions(4, account, $event)">
                                        {{ commonLocaleData?.app_send_email }}
                                    </button>
                                </mat-menu>

                                <!--Modal for Mail/SMS-->

                                <ng-template #mailModal>
                                    <div (click)="$event.stopPropagation()">
                                        <div class="modal-header theme-bg pd-l2 pd-r2">
                                            <h3 class="modal-title bg" id="modal-title">
                                                {{ messageBody.header.set }}
                                            </h3>
                                            <button
                                                mat-icon-button
                                                aria-hidden="true"
                                                class="close"
                                                data-dismiss="modal"
                                                [attr.aria-label]="commonLocaleData?.app_close"
                                                (click)="onNoClick()"
                                            >
                                                ×
                                            </button>
                                        </div>

                                        <div class="modal-body pd-l2 pd-r2 clearfix">
                                            <h1
                                                class="mr-b1"
                                                *ngIf="messageBody.type == 'Email'"
                                                style="margin-top: 15px"
                                            >
                                                {{ localeData?.enter_subject }}:
                                            </h1>
                                            <text-field
                                                *ngIf="messageBody.type == 'Email'"
                                                [cssClass]="'form-control mr-b1'"
                                                #subject
                                                [(ngModel)]="messageBody.subject"
                                                type="text"
                                                [placeholder]="localeData?.enter_subject_placeholder"
                                            ></text-field>
                                            <h1 class="mr-b1" style="margin-top: 15px">
                                                {{ localeData?.type_message_body }}:
                                            </h1>
                                            <textarea
                                                matInput
                                                #messageBox
                                                [(ngModel)]="messageBody.msg"
                                                class="form-control"
                                                rows="4"
                                                style="resize: none"
                                                [placeholder]="localeData?.type_message_body_placeholder"
                                            ></textarea>
                                            <small
                                                class="mr-t05 mr-b05 grey"
                                                style="margin-top: 15px; display: block"
                                                >{{ localeData?.tip }}</small
                                            >

                                            <div style="border: unset; margin-top: 20px">
                                                <mat-chip-list class="font-12" aria-label="Fish selection">
                                                    <mat-chip
                                                        *ngFor="let val of dataVariables"
                                                        (click)="addValueToMsg(val)"
                                                        >{{ val.name }}</mat-chip
                                                    >
                                                </mat-chip-list>
                                            </div>
                                            <div class="mr-t4">
                                                <button
                                                    mat-raised-button
                                                    class="btn-sm btn-success pull-right mr-l1"
                                                    (click)="send('sundrycreditors')"
                                                >
                                                    {{ messageBody.btn.set }}
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </ng-template>
                            </div>
                        </td>
                        <td
                            class="word-wrap mat-cell"
                            [attr.data-title]="commonLocaleData?.app_parent_group"
                            *ngIf="showFieldFilter.parentGroup"
                        >
                            <div class="table-email">{{ account?.groupUniqueName }}</div>
                        </td>
                        <td
                            class="mat-cell"
                            [ngClass]="{
                                'word-wrap text-right': true,
                                'negative-balance':
                                    account.openingBalance?.type === 'DEBIT' &&
                                    formatAmountInCurrency(account.openingBalance?.amount) > 0
                            }"
                            [attr.data-title]="localeData?.opening"
                            *ngIf="showFieldFilter.openingBalance"
                        >
                            <div class="d-flex justify-content-end">
                                <span
                                    *ngIf="
                                        account.openingBalance?.type === 'DEBIT' &&
                                        formatAmountInCurrency(account.openingBalance?.amount) > 0
                                    "
                                    >-</span
                                >
                                <span>
                                    <amount-field
                                        [amount]="account.openingBalance?.amount"
                                        [currencySymbol]="false"
                                        [currencyCode]="false"
                                    >
                                    </amount-field>
                                </span>
                            </div>
                        </td>
                        <td class="mat-cell word-wrap text-right" [attr.data-title]="commonLocaleData?.app_purchase">
                            <span class="d-flex justify-content-end">
                                <amount-field
                                    [amount]="account.creditTotal"
                                    [currencySymbol]="false"
                                    [currencyCode]="false"
                                >
                                </amount-field>
                            </span>
                        </td>
                        <td class="mat-cell word-wrap text-right" [attr.data-title]="commonLocaleData?.app_payment">
                            <span class="d-flex justify-content-end">
                                <amount-field
                                    [amount]="account.debitTotal"
                                    [currencySymbol]="false"
                                    [currencyCode]="false"
                                >
                                </amount-field>
                            </span>
                        </td>
                        <td
                            class="mat-cell"
                            [ngClass]="{
                                'word-wrap text-right': true,
                                'negative-balance':
                                    account.closingBalance?.type === 'DEBIT' &&
                                    formatAmountInCurrency(account.closingBalance?.amount) > 0
                            }"
                            [attr.data-title]="localeData?.closing"
                        >
                            <div class="d-flex justify-content-end">
                                <span
                                    *ngIf="
                                        account.closingBalance?.type === 'DEBIT' &&
                                        formatAmountInCurrency(account.closingBalance?.amount) > 0
                                    "
                                    >-</span
                                >
                                <span>
                                    <amount-field
                                        [amount]="account.closingBalance?.amount"
                                        [currencySymbol]="false"
                                        [currencyCode]="false"
                                    >
                                    </amount-field>
                                </span>
                            </div>
                        </td>
                        <td
                            class="mat-cell text-lowercase word-wrap font-12"
                            *ngIf="showFieldFilter.contact"
                            [attr.data-title]="commonLocaleData?.app_email"
                        >
                            <div>
                                {{ account.email || "-" }}
                            </div>
                            <div>
                                {{ account.mobileNo || "-" }}
                            </div>
                        </td>
                        <td
                            class="mat-cell word-wrap"
                            *ngIf="showFieldFilter.gstin && shouldShowTaxFilter"
                            [attr.data-title]="commonLocaleData?.app_gstin"
                        >
                            {{ account.gstIn || "-" }}
                        </td>
                        <td
                            class="mat-cell word-wrap"
                            *ngIf="showFieldFilter.state"
                            [attr.data-title]="commonLocaleData?.app_state"
                        >
                            {{ account?.state?.name || "-" }}
                        </td>
                        <td
                            *ngIf="showFieldFilter.comment"
                            (click)="updateCommentIdx = idx"
                            [attr.data-title]="localeData?.comment"
                            class="mat-cell comment-field text-break"
                        >
                            <ng-container *ngIf="updateCommentIdx != idx">
                                {{ account.comment || "-" }}
                            </ng-container>
                            <ng-container *ngIf="updateCommentIdx === idx">
                                <textarea
                                    matInput
                                    class="form-control"
                                    maxlength="100"
                                    [(ngModel)]="account.comment"
                                    (blur)="updateComment(account)"
                                ></textarea>
                            </ng-container>
                        </td>
                        <ng-container *ngFor="let item of account?.customFields">
                            <td
                                *ngIf="item?.uniqueName && showFieldFilter[item?.uniqueName]"
                                class="word-wrap mat-cell"
                                [attr.data-title]="item.key"
                            >
                                {{ item.value || "-" }}
                            </td>
                        </ng-container>
                        <td class="mat-cell" [attr.data-title]="commonLocaleData?.app_action">
                            <button
                                style="min-width: 137px"
                                mat-raised-button
                                *ngIf="isGetAllIntegratedBankInProgress"
                                class="btn-small btn-light"
                            >
                                {{ commonLocaleData?.app_loading }}
                            </button>
                            <button
                                style="min-width: 137px"
                                mat-raised-button
                                *ngIf="!isGetAllIntegratedBankInProgress && isIciciAccountPendingForApproval"
                                class="btn-small btn-light"
                                (click)="showIntegrationProcess()"
                            >
                                {{ localeData?.pending_approval }}
                            </button>
                            <button
                                style="min-width: 137px"
                                mat-raised-button
                                *ngIf="!isICICIIntegrated && !isGetAllIntegratedBankInProgress"
                                class="btn-small btn-light"
                                [routerLink]="['/pages/settings/integration/payment']"
                            >
                                {{ localeData?.connect_icici_bank }}
                            </button>
                            <ng-container
                                *ngIf="
                                    isICICIIntegrated &&
                                    !isGetAllIntegratedBankInProgress &&
                                    !isIciciAccountPendingForApproval
                                "
                            >
                                <button
                                    style="min-width: 137px"
                                    mat-raised-button
                                    *ngIf="account?.bankPaymentDetails && account?.country?.code === 'IN'"
                                    class="btn-small btn-success"
                                    (click)="openBulkPaymentModal(template, account)"
                                >
                                    {{ commonLocaleData?.app_pay_now }}
                                </button>
                                <button
                                    style="min-width: 137px"
                                    mat-raised-button
                                    *ngIf="!account?.bankPaymentDetails"
                                    class="btn-small btn-light"
                                    (click)="updateCustomerAcc('vendor', account)"
                                >
                                    {{ commonLocaleData?.app_add_bank_details }}
                                </button>
                            </ng-container>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div colspan="100%" class="xs-pl-0 pagination-wrapper">
            <div
                *ngIf="
                    activeTab === 'customer' &&
                    sundryDebtorsAccountsBackup.results &&
                    sundryDebtorsAccountsBackup.results.length &&
                    totalCustomers >= paginationLimit
                "
            >
                <div class="text-center">
                    <pagination
                        [totalItems]="sundryDebtorsAccountsBackup.totalItems"
                        [(ngModel)]="sundryDebtorsAccountsBackup.page"
                        [maxSize]="5"
                        class="pagination-sm"
                        [boundaryLinks]="true"
                        [itemsPerPage]="sundryDebtorsAccountsBackup.count"
                        [rotate]="false"
                        (pageChanged)="pageChanged($event)"
                        [firstText]="commonLocaleData?.app_first"
                        [previousText]="commonLocaleData?.app_previous"
                        [nextText]="commonLocaleData?.app_next"
                        [lastText]="commonLocaleData?.app_last"
                    >
                    </pagination>
                </div>
            </div>

            <div
                *ngIf="
                    activeTab === 'vendor' &&
                    sundryCreditorsAccountsBackup.results &&
                    sundryCreditorsAccountsBackup.results.length &&
                    totalVendors >= paginationLimit
                "
            >
                <div class="text-center">
                    <pagination
                        [totalItems]="sundryCreditorsAccountsBackup.totalItems"
                        [(ngModel)]="sundryCreditorsAccountsBackup.page"
                        [maxSize]="5"
                        class="pagination-sm"
                        [boundaryLinks]="true"
                        [itemsPerPage]="sundryCreditorsAccountsBackup.count"
                        [rotate]="false"
                        (pageChanged)="pageChanged($event)"
                        [firstText]="commonLocaleData?.app_first"
                        [previousText]="commonLocaleData?.app_previous"
                        [nextText]="commonLocaleData?.app_next"
                        [lastText]="commonLocaleData?.app_last"
                    >
                    </pagination>
                </div>
            </div>
        </div>
        <div
            class="no-data"
            *ngIf="
                (activeTab === 'customer' && !sundryDebtorsAccounts?.length) ||
                (activeTab === 'vendor' && !sundryCreditorsAccounts?.length)
            "
        >
            <no-data [secondaryMessageClass]="'p-0'"></no-data>
        </div>
    </ng-template>

    <!-- region sorting template -->
    <ng-template #sortingTemplate let-col>
        <div class="icon-pointer cp">
            <div
                class="icon-sort-asc text-light-2 d-block font-xxs"
                (click)="sort(col, 'asc')"
                *ngIf="key !== col"
                [ngClass]="{ 'active-text-color': key === col && order === 'asc' }"
            ></div>

            <div
                class="icon-sort-asc text-light-2 d-block font-xxs"
                (click)="sort(col, 'desc')"
                *ngIf="key === col && order === 'asc'"
                [ngClass]="{ 'active-text-color': key === col && order === 'asc' }"
            ></div>

            <div
                class="icon-sort-asc text-light-2 d-block font-xxs"
                *ngIf="key === col && order === 'desc'"
                (click)="sort(col, 'asc')"
                [ngClass]="{ 'active-text-color': key === col && order === 'desc' }"
            ></div>
        </div>
    </ng-template>
    <!-- endregion bank integration from by bank name:  ui/bank/integration/form?bankName=ICICI&= -->

    <ng-template #template>
        <payment-aside
            *ngIf="isBulkPaymentShow"
            [selectedAccountsForBulkPayment]="selectedAccountsList"
            [selectedAccForPayment]="selectedAccForPayment"
            [localeData]="localeData"
            [commonLocaleData]="commonLocaleData"
            (closeModelEvent)="closeBulkPaymentModel($event)"
        ></payment-aside>
    </ng-template>
    <!-- endregion -->

    <ng-template #datepickerTemplate>
        <div class="datepicker-modal">
            <div class="modal-body">
                <app-datepicker-wrapper
                    [inputStartDate]="selectedDateRange?.startDate"
                    [inputEndDate]="selectedDateRange?.endDate"
                    [alwaysShowCalendars]="true"
                    [ranges]="datePickerOptions"
                    [selectedRangeLabel]="selectedRangeLabel"
                    [showCustomRangeLabel]="true"
                    [showClearButton]="false"
                    [showCancel]="true"
                    [linkedCalendars]="true"
                    [showDropdowns]="true"
                    (rangeClicked)="selectedDate($event)"
                    (datesUpdated)="selectedDate($event)"
                    [keepCalendarOpeningWithRange]="false"
                    [showRangeLabelOnInput]="false"
                    [dateFieldPosition]="dateFieldPosition"
                ></app-datepicker-wrapper>
            </div>
        </div>
    </ng-template>

    <ng-template
        #searchTemplate
        let-show
        let-title="title"
        let-placeholder="placeholder"
        let-fieldName="fieldName"
        let-formControl="formControl"
    >
        <div class="align-items-center d-flex" [hidden]="show">
            <button mat-icon-button (click)="toggleSearch(fieldName, searchBox)">
                <span class="icon-search"></span>
            </button>

            <span class=""> {{ title }}</span>
        </div>
        <div class="align-items-center d-flex" [hidden]="!show">
            <text-field
                type="text"
                [placeholder]="getSearchFieldText(fieldName)"
                [cssClass]="'form-control'"
                #searchBox
                [formControl]="formControl"
            ></text-field>
        </div>
    </ng-template>
</ng-container>
