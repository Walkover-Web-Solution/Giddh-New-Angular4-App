<div class="pd-b1 upper-layer row clearfix">
    <div class="col-md-12 clearfix">
        <div class="btn-group" dropdown>
            <button id="button1-basic" dropdownToggle type="button" class="btn more-btn-dropdown dropdown-toggle"
                aria-controls="dropdown-basic">
                {{selectedPageLabel}}
                <span class="caret" *ngIf="!isUpdateMode"></span>
            </button>
            <ul id="dropdown1-basic" *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-basic">
                <ng-container *ngIf="!isUpdateMode">
                    <li role="menuitem" (click)="pageChanged(item.value, item.additional.label)"
                        *ngFor="let item of pageList">
                        <a class="dropdown-item cp">{{ item.additional?.label }}</a>
                    </li>
                </ng-container>
            </ul>
        </div>
        <!-- <label>Select Type</label> -->
        <!-- <sales-sh-select [width]="'150px'" [showLabelOnly]="true" [showClear]="false" [options]="pageList" [placeholder]="'Select Invoice Type'" (selected)="pageChanged()" name="selectedPage" [(ngModel)]="selectedPage"></sales-sh-select> -->

    </div>
</div>

<ng-container *ngIf="isUpdateDataInProcess">

    <div class="loader-class">
        <giddh-page-loader></giddh-page-loader>
    </div>

</ng-container>

<div [hidden]="isUpdateMode && isUpdateDataInProcess" [ngClass]="{'animated': showAnimation, 'fadeIn': showAnimation}">
    <form #invoiceForm="ngForm" (ngSubmit)="onSubmitInvoiceForm(invoiceForm)" novalidate autocomplete="off"
        [ngClass]="{ ' customer-invoice-form ' : !invFormData.voucherDetails.customerName , 'customer-invoice-form-purchase': isPurchaseInvoice } ">
        <div class="clearfix sales-invoice-content ">

            <div class="upper-layer" [ngClass]="{' first-table' : !invFormData.voucherDetails.customerName }">
                <div class="clearfix row">
                    <div class="col-md-9 p-0">
                        <div class="customer-name row" [hidden]="isPurchaseInvoice">
                            <div class="col-sm-2">
                                <label>Customer Name</label>
                            </div>
                            <div class="col-sm-5">
                                <ng-container *ngIf="!isCashInvoice">
                                    <sales-sh-select class="width-100 float-left" name="voucherDetails.customerName"
                                        [options]="customerAcList$ | async"
                                        [(ngModel)]="invFormData.voucherDetails.tempCustomerName"
                                        [customFilter]="customMoveGroupFilter"
                                        (noOptionsFound)="noResultsForCustomer($event)"
                                        (selected)="onSelectCustomer($event)" [placeholder]="'Select Customer'"
                                        [notFoundLink]="true" [doNotReset]="true"
                                        [forceClearReactive]="forceClear$ | async" [isFilterEnabled]="true"
                                        (noResultsClicked)="toggleAccountAsidePane($event)" [multiple]="false"
                                        [ItemHeight]="80" [notFoundLinkText]="'Add Customer'"
                                        (keyup)="resetCustomerName($event)" (onClear)="resetCustomerName(null)"
                                        [showClear]="!isUpdateMode" [disabled]="isUpdateMode">
                                        <ng-template #optionTemplate let-option="option">
                                            <a href="javascript:void(0)" class="list-item bd-rb">
                                                <div class="item">{{ option.label }}</div>
                                                <div class="item-unique">{{ option.value }}</div>
                                            </a>
                                        </ng-template>
                                        <ng-template #notFoundLinkTemplate>
                                            <a href="javascript:void(0)" class="list-item width-100 d-flex justify-content-between" [keyboardShortcut]="'alt+c'"
                                                (onShortcutPress)="toggleAccountAsidePane()">
                                                <div class="item">Add Customer</div>
                                                <div class="item">Alt+C</div>
                                            </a>
                                        </ng-template>
                                    </sales-sh-select>
                                </ng-container>

                                <ng-container *ngIf="isCashInvoice">
                                    <input type="text" #cashInvoiceInput name="voucherDetails.customerName"
                                        class="form-control cash-invoice-input"
                                        [(ngModel)]="invFormData.voucherDetails.customerName" [readOnly]="isUpdateMode">
                                </ng-container>

                            </div>


                        </div>
                        <div class="vendor-name row" [hidden]="!isPurchaseInvoice">
                            <div class="col-sm-2">
                                <label>Vendor Name</label>
                            </div>
                            <div class="col-sm-5">
                                <div class="flex-row-child">
                                    <div class="form-group no-margin">

                                        <!-- [useInBuiltFilterForIOptionTypeItems]="true" -->
                                        <!--  -->
                                        <sales-sh-select class="width-100" name="voucherDetails.customerName"
                                            [options]="customerAcList$ | async"
                                            [(ngModel)]="invFormData.voucherDetails.tempCustomerName"
                                            [customFilter]="customMoveGroupFilter"
                                            (noOptionsFound)="noResultsForCustomer($event)"
                                            (selected)="onSelectCustomer($event)" [placeholder]="'Select Vendor'"
                                            [notFoundLink]="true" [doNotReset]="true"
                                            [forceClearReactive]="forceClear$ | async" [isFilterEnabled]="true"
                                            (noResultsClicked)="toggleAccountAsidePane($event)" [multiple]="false"
                                            [ItemHeight]="67" [notFoundLinkText]="'Add Vendor'"
                                            (keyup)="resetCustomerName($event)" (onClear)="resetCustomerName(null)"
                                            [showClear]="!isUpdateMode">
                                            <ng-template #optionTemplate let-option="option">
                                                <a href="javascript:void(0)" class="list-item bd-rb">
                                                    <div class="item">{{ option.label }}</div>
                                                    <div class="item-unique">{{ option.value }}</div>
                                                </a>
                                            </ng-template>
                                        </sales-sh-select>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="row">
                        <div class="col-sm-10 col-sm-offset-2">
                            <ng-container>
                                <section class="form-inline">
                                    <div class="wrap-billing-address clearfix">
                                        <ng-container *ngIf="isSalesInvoice || isPurchaseInvoice">
                                            <img src="assets/images/new/search_customer.svg"
                                                class="img-responsive search-arrow-image "
                                                *ngIf="!invFormData.voucherDetails.customerName" />
                                        </ng-container>
                                        <ng-container *ngIf="isCashInvoice">
                                            <img src="assets/images/new/search_customer_Cash Invoice.svg"
                                                class="img-responsive search-arrow-image "
                                                *ngIf="!invFormData.voucherDetails.customerName"
                                                [ngClass]="{'cash-invoice-tip-img' : isCashInvoice}" />
                                        </ng-container>
                                        <div class="row">
                                            <div class="col-6">
                                                <div class="form-group">
                                                    <label>Billing Address</label>
                                                    <div class="billing-address clearfix">
                                                        <textarea name="billingDetails.address"
                                                            (keyup)="autoFillShippingDetails()" class="form-control"
                                                            [(ngModel)]="invFormData.accountDetails.billingDetails.address[0]"
                                                            rows="3" autocomplete="off" autofocus="off"
                                                            aria-autocomplete="none"></textarea>
                                                        <div>
                                                            <div class="col-sm-6 pd">
                                                                <!-- <label>Country</label> -->

                                                                <label class="sales-country-label">
                                                                    {{ customerCountryName }}
                                                                </label>

                                                            </div>
                                                            <div class="col-sm-6 pd state-field">
                                                                <!-- <label>State</label> -->
                                                                <!-- remove disabled after api changes -->
                                                                <sales-sh-select [disabled]="isUpdateMode"
                                                                    [placeholder]="'State'" class="select-bdr-bottom"
                                                                    (selected)="autoFillShippingDetails()"
                                                                    #statesBilling [showBottomBorderOnly]="true"
                                                                    [options]="statesSource$ | async"
                                                                    name="billingDetails.stateCode"
                                                                    [(ngModel)]="invFormData.accountDetails.billingDetails.state.code">
                                                                </sales-sh-select>
                                                                <!-- <ng-select (selected)="autoFillShippingDetails()" #statesBilling class="splSales" name="billingDetails.stateCode" [options]="statesSource$ | async"
[(ngModel)]="invFormData.accountDetails.billingDetails.stateCode"></ng-select> -->
                                                            </div>
                                                            <div class="col-sm-12 pd">
                                                                <!-- <label>GSTIN</label> -->
                                                                <!-- remove disabled after api changes -->
                                                                <input [disabled]="isUpdateMode" maxLength="15"
                                                                    type="text" name="billingDetails.gstNumber"
                                                                    class="form-control input-custom"
                                                                    [(ngModel)]="invFormData.accountDetails.billingDetails.gstNumber"
                                                                    (keyup)="getStateCode('billingDetails', statesBilling); autoFillShippingDetails()"
                                                                    placeholder="GSTIN" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="form-group p-0 width-100">
                                                    <label>
                                                        <input type="checkbox" (change)="autoFillShippingDetails()"
                                                            name="autoFillShipping" [attr.checked]="true"
                                                            [(ngModel)]="autoFillShipping"> Shipping Address Same as
                                                        Billing
                                                        Address</label>
                                                    <div class="billing-address"
                                                        [ngClass]="{'disabled': autoFillShipping}">
                                                        <textarea [readonly]="autoFillShipping"
                                                            name="shippingDetails.address" class="form-control"
                                                            [(ngModel)]="invFormData.accountDetails.shippingDetails.address[0]"
                                                            rows="3" autocomplete="off"></textarea>
                                                        <div class="clearfix">
                                                            <div class="form-group">
                                                                <div class="col-sm-6 pd">
                                                                    <div class="form-group">

                                                                        <label class="sales-country-label">
                                                                            {{ customerCountryName }}
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-sm-6 pd state-field">
                                                                    <!-- <label>State</label> -->
                                                                    <!-- <ng-select [disabled]="autoFillShipping" #statesShipping class="splSales" name="shippingDetails.stateCode" [options]="statesSource$ | async" [(ngModel)]="invFormData.accountDetails.shippingDetails.stateCode"></ng-select> -->
                                                                    <!-- (selected)="autoFillShippingDetails()" -->

                                                                    <!-- use this after api changes [disabled]="autoFillShipping"  -->
                                                                    <sales-sh-select [disabled]="isUpdateMode"
                                                                        [placeholder]="'State'"
                                                                        class="select-bdr-bottom" #statesShipping
                                                                        [showBottomBorderOnly]="true"
                                                                        [options]="statesSource$ | async"
                                                                        name="shippingDetails.stateCode"
                                                                        [(ngModel)]="invFormData.accountDetails.shippingDetails.state.code">
                                                                    </sales-sh-select>
                                                                </div>
                                                                <div class="col-sm-12 pd">
                                                                    <!-- <label>GSTIN</label> -->
                                                                    <!-- remove disabled after api changes and add [readonly]="autoFillShipping" -->
                                                                    <input [disabled]="isUpdateMode" maxLength="15"
                                                                        type="text" name="shippingDetails.gstNumber"
                                                                        class="form-control input-custom"
                                                                        [(ngModel)]="invFormData.accountDetails.shippingDetails.gstNumber"
                                                                        (keyup)="getStateCode('shippingDetails', statesShipping)"
                                                                        placeholder="GSTIN" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                    </div>

                                </section>
                            </ng-container>
                        </div>
                        </div>
                    </div>
                    <div class="col-md-3 balance-due">
                        <div class="text-right" *ngIf="invFormData.voucherDetails.customerName && !isCashInvoice"
                            [hidden]="isPurchaseInvoice">
                            <p *ngIf="toggleFieldForSales" class="font-20 b">
                                <span class="balance-due">Balance Due: </span>

                                <span class="sp-rupees">Rs
                                    {{invFormData.voucherDetails.balanceDue | number:'1.2-2'}}</span>

                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div>
                <div class="col-md-9 p-0">
                    <div class="attention-to clearfix row">
                        <div class="col-sm-2">
                            <label>Attention to</label>
                        </div>
                        <div class="col-sm-5">
                            <div class="form-group">
                                <!--col-xs-3 -->
                                <input type="text" name="accountDetails.attention" placeholder="Attention to"
                                    class="form-control attention-to"
                                    [(ngModel)]="invFormData.accountDetails.attentionTo" />
                            </div>
                        </div>


                    </div>
                    <div class="email-id clearfix row">
                        <div class="col-sm-2">
                            <label>Email Id</label>
                        </div>
                        <div class="col-sm-5">
                            <div class="form-group">
                                <!--col-xs-3 -->
                                <input type="email" placeholder="someone@example.com" name="accountDetails.email"
                                    class="form-control attention-to" [(ngModel)]="invFormData.accountDetails.email" />
                            </div>
                        </div>


                    </div>
                    <div class="mobile-number clearfix row">
                        <div class="col-sm-2">
                            <label>Mobile Number</label>
                        </div>
                        <div class="col-sm-5">
                            <div class="form-group">
                                <input digitsOnlyDirective placeholder="9198XXXXXXXX" type="text"
                                    name="accountDetails.mobileNumber" class="form-control attention-to"
                                    [(ngModel)]="invFormData.accountDetails.contactNumber" />
                            </div>
                        </div>


                    </div>
                    <div class="invoice-purchase-invoice row" [ngClass]="{'forPurchase': isPurchaseInvoice}">
                        <div class="col-sm-2">
                            <label> {{ !isPurchaseInvoice ? 'Invoice No.' : 'Purchase Invoice No.' }}</label>
                        </div>
                        <div class="col-sm-5">
                            <input type="text" name="accountDetails.invoiceNum"
                                class="form-control invoice-date attention-to"
                                [ngClass]="{'date-invoice': !isPurchaseInvoice }"
                                [disabled]="isUpdateMode  || !useCustomInvoiceNumber"
                                [(ngModel)]="invFormData.voucherDetails.voucherNumber" />
                        </div>
                        <div class="col-sm-5 invoice-date-due-date">
                            <div class="form-inline ">
                                <div class="form-group mr-r15">
                                    <!--col-xs-2-->
                                    <label>{{isPurchaseInvoice ? 'Bill Date' : 'Invoice Date' }} </label>

                                    <input type="text" [placeholder]="giddhDateFormat" #voucherDate="ngModel"
                                        name="voucherDate" class="form-control date-invoice" bsDatepicker
                                        [bsConfig]="{ dateInputFormat: giddhDateFormat }"
                                        [(ngModel)]="invFormData.voucherDetails.voucherDate" [disabled]="isUpdateMode"
                                        [class.invalid-inp]="voucherDate.errors && (voucherDate.dirty || voucherDate.touched)" />
                                    <p class="text-danger"
                                        *ngIf="voucherDate.errors && (voucherDate.dirty || voucherDate.touched)">
                                        Invalid Date
                                    </p>


                                </div>
                                <div class="form-group  m-l-5" *ngIf="isSalesInvoice || isPurchaseInvoice">
                                    <label> {{isPurchaseInvoice ? ' Due Date' : 'Due Date'}}</label>

                                    <input type="text" [placeholder]="giddhDateFormat" #dueDate="ngModel" name="dueDate"
                                        class="form-control date-invoice" bsDatepicker
                                        [bsConfig]="{ dateInputFormat: giddhDateFormat }"
                                        [(ngModel)]="invFormData.voucherDetails.dueDate"
                                        [class.invalid-inp]="dueDate.errors && (dueDate.dirty || dueDate.touched)" />
                                    <p class="text-danger" *ngIf="dueDate.errors && (dueDate.dirty || dueDate.touched)">
                                        Invalid Date</p>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <ng-container>

                            <section
                                class="static-invoice-table sales-invoice-table clearfix mr-b2 white-bg container-fluid ng-tns-c8-0 ">
                                <div class="table-width-small">
                                    <table class="table table-custom-invoice basic">
                                        <thead>
                                            <tr>

                                                <th *ngFor="let item of theadArrReadOnly;"
                                                    attr.data-field="{{item.label}}" [hidden]="!item.display">


                                                    {{item.label}}

                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody
                                            *ngFor="let entry of invFormData.entries; let entryIdx = index; let first = first; let last = last">
                                            <ng-container *ngFor="let transaction of entry.transactions;">
                                                <tr (click)="setActiveIndx($event, entryIdx, true)"
                                                    *ngIf="activeIndx !== entryIdx">
                                                    <td>{{ entryIdx + 1 }}</td>
                                                    <td>
                                                        <div class="product-name">
                                                            <label *ngIf="!transaction.accountName"
                                                                class="select-account-label">Click to Select
                                                                Account</label> {{transaction.accountName}}
                                                            <span
                                                                *ngIf="transaction.stockDetails?.uniqueName">({{transaction.stockDetails?.name}}
                                                                )</span>

                                                        </div>
                                                        <div class="sku-number">
                                                            <label>SKU:</label>Number
                                                        </div>
                                                        <div class="description">
                                                            {{transaction.description}}

                                                        </div>
                                                        <p class="small text-muted"
                                                            *ngIf="transaction.sku_and_customfields">
                                                            {{transaction.sku_and_customfields}}</p>
                                                        <div class="date-hsn-code">
                                                            <div class="row">
                                                                <div class="col-6" *ngIf="entry.entryDate">
                                                                    <div class="entry-date">
                                                                        <label>Entry Date: </label>
                                                                        {{entry.entryDate | date: 'dd-MM-yyyy'}}
                                                                        <span class="edit-icon" *ngIf="!isUpdateMode">
                                                                            <img
                                                                                src="assets/images/edit-pencilicon.svg">
                                                                        </span>


                                                                    </div>
                                                                </div>
                                                                <div class="col-6"
                                                                    *ngIf="transaction.hsnNumber || transaction.sacNumber">
                                                                    <div class="hsn-code text-right">
                                                                        <label> HSN/SAC:</label>
                                                                        <span>
                                                                            {{transaction.hsnOrSac === 'hsn' ? transaction.hsnNumber : transaction.sacNumber}}
                                                                            <!--                            <span class="edit-icon">-->
                                                                            <!--                              <img src="assets/images/edit-pencilicon.svg">-->
                                                                            <!--                            </span>-->
                                                                        </span>

                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </td>
                                                    <td class="text-right">
                                                        <!-- <input type="number" (keyup)="txnChangeOccurred()"
        (ngModelChange)="transaction.setAmount(entry)" placeholder="Quantity"
        name="transaction.quantity_{{entryIdx}}" class="form-control text-right"
        [(ngModel)]="transaction.quantity"/>

        <select class="form-control" name="transaction.stockUnit_{{entryIdx}}"
        [(ngModel)]="transaction.stockUnit"
        (ngModelChange)="onChangeUnit(transaction, $event);transaction.setAmount(entry)">
        <option *ngFor="let stock of transaction.stockList" [ngValue]="stock.id">{{stock.text}}
        </option>
        </select> -->
                                                        {{transaction.quantity}} {{transaction.stockUnit}}
                                                    </td>
                                                    <td class="text-right">
                                                        <!-- <input type="number" (ngModelChange)="transaction.setAmount(entry)"
        (keyup)="txnChangeOccurred()" placeholder="Rate" name="transaction.rate_{{entryIdx}}"
        class="form-control text-right" [(ngModel)]="transaction.rate"/> -->
                                                        {{transaction.rate | number:'1.2-2'}}
                                                    </td>
                                                    <td class="text-right">
                                                        {{transaction.amount | number:'1.2-2'}}
                                                    </td>
                                                    <td>

                                                        <div class=" text-right">
                                                            {{ entry.discountSum | number:'1.2-2'}}
                                                        </div>


                                                    </td>
                                                    <td class="text-right">{{entry.taxSum}}%</td>
                                                    <td class="text-right">
                                                        <div class="d-flex flex-column">
                                                            <span>{{transaction.total | number:'1.2-2'}}</span>
                                                            <span *ngIf="entry.isOtherTaxApplicable">
                                                                {{ entry.otherTaxModal?.appliedOtherTax?.name }} :
                                                                {{ entry.otherTaxSum }}
                                                            </span>
                                                        </div>
                                                    </td>
                                                    <td class="text-center" width="3%">
                                                        <span class="cp" (click)="removeTransaction(entryIdx)"
                                                            *ngIf="!isUpdateMode || (isUpdateMode && entry.isNewEntryInUpdateMode)">
                                                            <i class="icon-trash" aria-hidden="true"></i>
                                                        </span>
                                                    </td>
                                                </tr>
                                                <tr *ngIf="activeIndx === entryIdx">
                                                    <td>{{ entryIdx + 1 }}</td>
                                                    <td>
                                                        <div class="product-name">
                                                            <div class="ng-select-wrap">
                                                                <sh-select [options]="salesAccounts$ | async"
                                                                    [(ngModel)]="transaction.fakeAccForSelect2"
                                                                    name="transaction.fakeAccForSelect2_{{entryIdx}}"
                                                                    (selected)="onSelectSalesAccount($event,transaction,entryIdx, entry)"
                                                                    [placeholder]="'Select A/cc'" [notFoundLink]="true"
                                                                    [forceClearReactive]="forceClear$ | async"
                                                                    (onClear)="onClearSalesAccount(transaction)"
                                                                    (noResultsClicked)="onNoResultsClicked(entryIdx)"
                                                                    [multiple]="false" [ItemHeight]="67"
                                                                    [useInBuiltFilterForFlattenAc]="true">

                                                                    <ng-template #optionTemplate let-option="option">
                                                                        <ng-container *ngIf="!option.additional?.stock">
                                                                            <a href="javascript:void(0)"
                                                                                class="list-item bd-rb">
                                                                                <div class="item">{{ option.label }}
                                                                                </div>
                                                                                <div class="item-unique">
                                                                                    {{ option.additional?.uniqueName }}
                                                                                </div>
                                                                            </a>
                                                                        </ng-container>
                                                                        <ng-container *ngIf="option.additional?.stock">
                                                                            <a href="javascript:void(0)"
                                                                                class="list-item bd-rb">
                                                                                <div class="item">{{ option.label }}
                                                                                </div>
                                                                                <div class="item-unique">
                                                                                    {{ option.additional?.uniqueName }}
                                                                                </div>
                                                                                <div class="item-stock">Stock:
                                                                                    {{ option.additional?.stock.uniqueName }}
                                                                                </div>
                                                                            </a>
                                                                        </ng-container>
                                                                    </ng-template>
                                                                </sh-select>
                                                            </div>

                                                        </div>
                                                        <div *ngIf="transaction.fakeAccForSelect2">
                                                            <div class="sku-number">
                                                                <label>SKU:</label>Number
                                                            </div>
                                                            <div class="description">
                                                                <textarea type="text" placeholder="Add Description"
                                                                    name="transaction.description_{{entryIdx}}"
                                                                    class="form-control"
                                                                    [(ngModel)]="transaction.description"></textarea>
                                                                <p class="small text-muted"
                                                                    *ngIf="transaction.sku_and_customfields">
                                                                    {{transaction.sku_and_customfields}}</p>
                                                            </div>
                                                            <div class="date-hsn-code">
                                                                <div class="row">
                                                                    <div class="col-6">
                                                                        <div class="entry-date">
                                                                            <label>Entry Date: </label>
                                                                            <span *ngIf="!isUpdateMode">
                                                                                <input type="text"
                                                                                    [placeholder]="giddhDateFormat"
                                                                                    bsDatepicker
                                                                                    name="transaction.date_{{entryIdx}}"
                                                                                    class="form-control text-left"
                                                                                    [(ngModel)]="entry.entryDate"
                                                                                    [disabled]="isUpdateMode"
                                                                                    [bsConfig]="{ dateInputFormat: giddhDateFormat }"
                                                                                    #dp="bsDatepicker" />
                                                                                <span class="edit-icon"
                                                                                    (click)="dp.toggle()"
                                                                                    [attr.aria-expanded]="dp.isOpen">
                                                                                    <img
                                                                                        src="assets/images/edit-pencilicon.svg">
                                                                                </span>
                                                                            </span>

                                                                            <span *ngIf="isUpdateMode">
                                                                                {{ entry.entryDate | date: 'dd-MM-yyyy' }}
                                                                            </span>

                                                                        </div>
                                                                    </div>
                                                                    <div class="col-6">
                                                                        <div class="wrap-hsn-box">
                                                                            <div class="hsn-code text-right"
                                                                                (click)="$event.stopPropagation();hsnDropdownShow=!hsnDropdownShow">
                                                                                <label>HSN/SAC:</label>
                                                                                <span>
                                                                                    <!-- <input type="text" [hidden]="transaction.hsnOrSac !== 'hsn'" maxLength="10" placeholder="HSN Number"
                              name="transaction.hsnNumber_{{entryIdx}}" class="form-control text-right"
                              [(ngModel)]="transaction.hsnNumber"/> -->
                                                                                    {{transaction.hsnOrSac === 'hsn' ? transaction.hsnNumber : transaction.sacNumber }}
                                                                                    <span
                                                                                        *ngIf="!transaction.hsnNumber && !transaction.sacNumber"
                                                                                        class="update-text cp">Update
                                                                                    </span>
                                                                                    <span class="edit-icon">
                                                                                        <img
                                                                                            src="assets/images/edit-pencilicon.svg">
                                                                                    </span>
                                                                                </span>

                                                                            </div>


                                                                            <div class="hsn-code-dropdown"
                                                                                *ngIf="hsnDropdownShow">
                                                                                <label>HSN/SAC:</label>
                                                                                <input type="text" maxLength="10"
                                                                                    placeholder="HSN/SAC Number"
                                                                                    name="transaction.hsnNumber_{{entryIdx}}"
                                                                                    class=""
                                                                                    [(ngModel)]="transaction.hsnNumber"
                                                                                    *ngIf="transaction.hsnOrSac === 'hsn'" />

                                                                                <input type="text" maxLength="10"
                                                                                    placeholder="SAC Number"
                                                                                    name="transaction.sacNumber_{{entryIdx}}"
                                                                                    class=""
                                                                                    [(ngModel)]="transaction.sacNumber"
                                                                                    *ngIf="transaction.hsnOrSac === 'sac'" />
                                                                                <!--                              <a><i class="fa fa-search"></i> </a>-->
                                                                                <div class="btn-group">
                                                                                    <button
                                                                                        class="btn btn-sm btn-success"
                                                                                        type="button"
                                                                                        (click)="hsnDropdownShow=!hsnDropdownShow">Save
                                                                                    </button>
                                                                                    <button
                                                                                        class="btn btn-sm btn-primary"
                                                                                        type="button"
                                                                                        (click)="hsnDropdownShow=!hsnDropdownShow">Cancel
                                                                                    </button>
                                                                                </div>

                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td class="text-right">
                                                        <input type="number" [disabled]="!transaction.isStockTxn"
                                                            (keyup)="txnChangeOccurred()"
                                                            (ngModelChange)="transaction.setAmount(entry)"
                                                            placeholder="Quantity"
                                                            name="transaction.quantity_{{entryIdx}}"
                                                            class="form-control text-right"
                                                            [(ngModel)]="transaction.quantity" />

                                                        <select class="form-control"
                                                            [disabled]="!transaction.isStockTxn"
                                                            name="transaction.stockUnit_{{entryIdx}}"
                                                            [(ngModel)]="transaction.stockUnit"
                                                            (ngModelChange)="onChangeUnit(transaction, $event);transaction.setAmount(entry)">
                                                            <option *ngFor="let stock of transaction.stockList"
                                                                [ngValue]="stock.id">{{stock.text}}
                                                            </option>
                                                        </select>
                                                    </td>
                                                    <td class="text-right">
                                                        <input type="number" [disabled]="!transaction.isStockTxn"
                                                            (ngModelChange)="transaction.setAmount(entry)"
                                                            (keyup)="txnChangeOccurred()" placeholder="Rate"
                                                            name="transaction.rate_{{entryIdx}}"
                                                            class="form-control transaction-rate text-right"
                                                            [(ngModel)]="transaction.rate" />

                                                    </td>
                                                    <td class="text-right">
                                                        <input type="text" [disabled]="transaction.isStockTxn"
                                                            (ngModelChange)="transaction.setAmount(entry)"
                                                            (keyup)="txnChangeOccurred()" placeholder="Amount"
                                                            name="transaction.amount_{{entryIdx}}"
                                                            class="form-control text-right"
                                                            [(ngModel)]="transaction.amount" decimalDigitsDirective
                                                            [DecimalPlaces]="2" />
                                                    </td>
                                                    <td>

                                                        <div class="text-right">
                                                            <discount-list #discountComponent [isMenuOpen]="false"
                                                                [discountAccountsDetails]="entry.discounts"
                                                                (discountTotalUpdated)="entry.discountSum = $event; selectedDiscountEvent(transaction, entry)"
                                                                [totalAmount]="transaction.amount"></discount-list>
                                                        </div>


                                                    </td>
                                                    <td class="text-right">
                                                        <sales-tax-list class="sales-tax" [showTaxPopup]="false"
                                                            [applicableTaxes]="transaction.applicableTaxes"
                                                            [exceptTaxTypes]="exceptTaxTypes"
                                                            [allowedSelectionOfAType]="[{ type: ['GST', 'commongst', 'InputGST'], count:1 } ]"
                                                            (selectedTaxEvent)="selectedTaxEvent($event)"
                                                            (closeOtherPopupEvent)="closeDiscountPopup()"
                                                            (taxAmountSumEvent)="taxAmountEvent($event)">
                                                        </sales-tax-list>
                                                    </td>
                                                    <td class="text-right">
                                                        <input type="text" name="transaction.total_{{entryIdx}}"
                                                            class="form-control text-right"
                                                            [(ngModel)]="transaction.total" readonly
                                                            decimalDigitsDirective [DecimalPlaces]="2" />

                                                        <div class="wrap-other-tax">
                                                            <input type="checkbox" class="other-taxes-checkbox"
                                                                [(ngModel)]="entry.isOtherTaxApplicable"
                                                                *ngIf="!entry.isOtherTaxApplicable"
                                                                name="entry.isOtherTaxApplicable_{{entryIdx}}"
                                                                id="entry.isOtherTaxApplicable_{{entryIdx}}"
                                                                (ngModelChange)="toggleOtherTaxesAsidePane(entry.isOtherTaxApplicable, entryIdx)">
                                                            <label for="entry.isOtherTaxApplicable_{{entryIdx}}"
                                                                *ngIf="!entry.isOtherTaxApplicable"
                                                                class="other-tax-label font-13">Other
                                                                Tax?</label>
                                                        </div>
                                                        <div *ngIf="entry.isOtherTaxApplicable" class="mr-t1">

                                                            <span>
                                                                <span>
                                                                    <a href="javascript: void 0"
                                                                        (click)="toggleOtherTaxesAsidePane(true, entryIdx, false)">
                                                                        <img src="assets/images/edit-pencilicon.svg">
                                                                    </a>
                                                                </span>
                                                                <input class="text-right other-taxes-input"
                                                                    disabled="disabled" [(ngModel)]="entry.otherTaxSum"
                                                                    name="entry.otherTaxesSum" />
                                                                <p class="mr-t05 font-12 text-capitalize">
                                                                    {{ entry.otherTaxModal?.appliedOtherTax?.name}}</p>
                                                            </span>

                                                        </div>

                                                        <!--                  <ng-container-->
                                                        <!--                    *ngTemplateOutlet="otherTaxSidePane;context: {$implicit: selectedEntry }"></ng-container>-->
                                                    </td>
                                                    <td class="action-panel-td text-center" width="3%">
                                                        <span class="cp" (click)="removeTransaction(entryIdx)"
                                                            *ngIf="!isUpdateMode || (isUpdateMode && entry.isNewEntryInUpdateMode)">
                                                            <i class="icon-trash" aria-hidden="true"></i>
                                                        </span>
                                                    </td>
                                                </tr>

                                            </ng-container>

                                        </tbody>

                                        <div class="p-4 aqua-color add-line-bulk-item width-100">
                                            <a href="javascript:void 0" (click)="addBlankRow(null)">+ Add New
                                                Line</a>
                                        </div>

                                        <tfoot>

                                            <tr>
                                                <td colspan="4">
                                                    <div>
                                                        <div class="collapse-pane clearfix">
                                                            <div class="collapse-pane-heading"
                                                                (click)="isOthrDtlCollapsed = !isOthrDtlCollapsed">
                                                                <div class="ico-box-wrap">
                                                                    <div class="ico-box">
                                                                        <span
                                                                            [ngClass]="isOthrDtlCollapsed ? 'icon-add' : 'icon-minus'"
                                                                            aria-hidden="true"></span>
                                                                    </div>
                                                                </div>
                                                                </div>
                                                            <div class="ico-head">Other Details</div>
                                                            <div [collapse]="isOthrDtlCollapsed"
                                                                class="clearfix max-width-600 pd-l3 m-0">
                                                                <div class="row">
                                                                    <div class="form-group col-4">
                                                                        <!-- <label>Ship Date</label> -->
                                                                        <input type="text" #shippingDate="ngModel"
                                                                            [placeholder]="giddhDateFormat" bsDatepicker
                                                                            name="shippingDate"
                                                                            [(ngModel)]="invFormData.templateDetails.other.shippingDate"
                                                                            class="form-control"
                                                                            [bsConfig]="{ dateInputFormat: giddhDateFormat }"
                                                                            placeholder="Ship Date"
                                                                            [class.invalid-inp]="shippingDate.errors && (shippingDate.dirty || shippingDate.touched)" />
                                                                        <p class="text-danger"
                                                                            *ngIf="shippingDate.errors && (shippingDate.dirty || shippingDate.touched)">
                                                                            Invalid
                                                                            Date
                                                                        </p>
                                                                        <!--[placeholder]="giddhDateFormat"-->
                                                                    </div>
                                                                    <div class="form-group col-4">
                                                                        <!-- <label>Ship Via</label> -->
                                                                        <input type="text" name="shippedVia"
                                                                            [(ngModel)]="invFormData.templateDetails.other.shippedVia"
                                                                            class="form-control"
                                                                            placeholder="Ship Via" />
                                                                    </div>
                                                                    <div class="form-group col-4">
                                                                        <!-- <label>Tracking No.</label> -->
                                                                        <input type="text" name="trackingNumber"
                                                                            [(ngModel)]="invFormData.templateDetails.other.trackingNumber"
                                                                            class="form-control"
                                                                            placeholder="Tracking No." />
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="form-group col-4">
                                                                        <!-- <label>Field 1</label> -->
                                                                        <input type="text" name="customField1"
                                                                            [(ngModel)]="invFormData.templateDetails.other.customField1"
                                                                            class="form-control"
                                                                            placeholder="Field 1" />
                                                                    </div>
                                                                    <div class="form-group col-4">
                                                                        <!-- <label>Field 2</label> -->
                                                                        <input type="text" name="customField2"
                                                                            [(ngModel)]="invFormData.templateDetails.other.customField2"
                                                                            class="form-control"
                                                                            placeholder="Field 2" />
                                                                    </div>
                                                                    <div class="form-group col-4">
                                                                        <!-- <label>Field 3</label> -->
                                                                        <input type="text" name="customField3"
                                                                            [(ngModel)]="invFormData.templateDetails.other.customField3"
                                                                            class="form-control"
                                                                            placeholder="Field 3" />
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="pd-t1 pl-0 max-width-600" *ngIf="!isPurchaseInvoice">
                                                        <label class="mr-b1">Message</label>
                                                        <textarea rows="3" class="form-control"
                                                            name="message2"
                                                            [(ngModel)]="invFormData.templateDetails.other.message2"></textarea>
                                                    </div>
                                                    <!-- commented due to presently attachfile key is not available in request
        -->
                                                    <div class="pd-t1 pl-0 max-width-600 position-relative" *ngIf="isPurchaseInvoice">
                                                        <label class="mr-b1"><i
                                                                class="icon-file-path"></i>
                                                            Attachment</label>
                                                        <label class="custom-file-label form-control cp position-relative"
                                                            for="invoiceFile"> <em *ngIf="!selectedFileName">Drag/Drop
                                                                file or click here</em> <em *ngIf="selectedFileName"
                                                                class="text-success">{{selectedFileName}}</em>
                                                            <span class="text-success"><i class="fa fa-check"
                                                                    *ngIf="selectedFileName"></i></span>
                                                            <input type="file" name="invoiceFile" id="invoiceFile"
                                                                [options]="fileUploadOptions" ngFileSelect
                                                                [uploadInput]="uploadInput"
                                                                (uploadOutput)="onUploadOutput($event)"
                                                                (change)="onFileChange($event.target.files)"
                                                                droppable="true">
                                                        </label>
                                                    </div>
                                                </td>
                                                <td colspan="4">
                                                    <section class="table-sec form-group">
                                                        <div class="table-row">
                                                            <div class="table-cell">Total Amount</div>
                                                            <div class="table-cell figure-cell">
                                                                {{invFormData.voucherDetails.subTotal | number:'1.2-2'}}
                                                            </div>
                                                        </div>
                                                        <div class="table-row">
                                                            <div class="table-cell">Discount</div>
                                                            <div class="table-cell figure-cell">
                                                                -{{invFormData.voucherDetails.totalDiscount | number:'1.2-2'}}
                                                            </div>
                                                        </div>
                                                        <div class="table-row">
                                                            <div class="table-cell">Taxable Value</div>
                                                            <div class="table-cell figure-cell">
                                                                {{invFormData.voucherDetails.totalTaxableValue | number:'1.2-2'}}
                                                            </div>
                                                        </div>

                                                        <div class="table-row">
                                                            <div class="table-cell">Tax</div>
                                                            <div class="table-cell figure-cell">
                                                                {{invFormData.voucherDetails.gstTaxesTotal | number:'1.2-2'}}
                                                            </div>
                                                        </div>

                                                        <div class="table-row">
                                                            <div class="table-cell">CESS</div>
                                                            <div class="table-cell figure-cell">
                                                                {{invFormData.voucherDetails.cessTotal | number:'1.2-2'}}
                                                            </div>
                                                        </div>

                                                        <div class="table-row">
                                                            <div class="table-cell">
                                                                <strong>Total</strong>
                                                            </div>
                                                            <div class="table-cell figure-cell">
                                                                <strong>{{invFormData.voucherDetails.grandTotal | number:'1.2-2'}}</strong>
                                                            </div>
                                                        </div>

                                                        <div class="table-row"
                                                            *ngIf="invFormData.voucherDetails.tcsTotal > 0">
                                                            <div class="table-cell">TCS</div>
                                                            <div class="table-cell figure-cell">
                                                                {{invFormData.voucherDetails.tcsTotal | number:'1.2-2'}}
                                                            </div>
                                                        </div>

                                                        <div class="table-row"
                                                            *ngIf="invFormData.voucherDetails.tdsTotal > 0">
                                                            <div class="table-cell">TDS</div>
                                                            <div class="table-cell figure-cell">
                                                                {{invFormData.voucherDetails.tdsTotal | number:'1.2-2'}}
                                                            </div>
                                                        </div>


                                                        <div class="table-row" *ngIf="isSalesInvoice || isCashInvoice">
                                                            <!-- (clickOutside)="dropdownisOpen=false;" [attachOutsideOnClick]="true" -->
                                                            <div class="table-cell deposit-section">
                                                                <!--
        <div class="btn-group" dropdown #depositDropdown="bs-dropdown" [autoClose]="false">
        -->
                                                                <div class="btn-group">
                                                                    <!-- <button id="depositBoxTrigger" type="button" class="btn btn-default "
            aria-controls="deposit-dropdown">
        {{ isPurchaseInvoice ? 'Payment' : 'Deposit' }}
        </button> -->
                                                                    <div (click)="clickedInside($event)"
                                                                        id="deposit-dropdown" class="form-group pd-1">
                                                                        <p>Deposit</p>
                                                                        <ul>


                                                                            <li role="menuitem">
                                                                                <div>
                                                                            <li role="menuitem" class="mr-t1">
                                                                                <div class="clearfix payment-mode">

                                                                                    <sh-select class="pull-right"
                                                                                        name="depositAccountUniqueName"
                                                                                        [options]="bankAccounts$ | async"
                                                                                        [(ngModel)]="depositAccountUniqueName"
                                                                                        (selected)="onSelectPaymentMode($event)"
                                                                                        [placeholder]="'Select Account'"
                                                                                        [showClear]="false"
                                                                                        [notFoundLink]="false"
                                                                                        [forceClearReactive]="forceClear$ | async"
                                                                                        [multiple]="false"
                                                                                        [ItemHeight]="33"
                                                                                        [useInBuiltFilterForIOptionTypeItems]="true">
                                                                                        <ng-template #optionTemplate1
                                                                                            let-option="option">
                                                                                            <a href="javascript:void(0)"
                                                                                                class="list-item bd-rb">
                                                                                                <div class="item">
                                                                                                    {{ option.label }}
                                                                                                </div>
                                                                                                <div class="item-unique">
                                                                                                    {{ option.value }}
                                                                                                </div>
                                                                                            </a>
                                                                                        </ng-template>
                                                                                    </sh-select>


                                                                                    <label class="pull-right">Payment
                                                                                        Mode</label>
                                                                                </div>
                                                                            </li>
                                                                            <li class="clearfix mr-t1">
                                                                                <input *ngIf="isSalesInvoice"
                                                                                    type="number"
                                                                                    (blur)="txnChangeOccurred()"
                                                                                    placeholder="Amount"
                                                                                    name="depositAmount"
                                                                                    class="form-control amount-field text-right pull-right max-width-100"
                                                                                    [(ngModel)]="depositAmount"
                                                                                    [readonly]='isCashInvoice'
                                                                                    [ngClass]='{"amount-filed-cash": isCashInvoice}' />
                                                                                <span *ngIf="isCashInvoice"
                                                                                    class="amount-field pull-right max-width-100"
                                                                                    [ngClass]='{"amount-filed-cash": isCashInvoice}'>{{invFormData.voucherDetails.balanceDue | number:'1.2-2'}}</span>

                                                                                <label class="pull-right">Amount</label>
                                                                            </li>
                                                                            <li *ngIf="toggleFieldForSales && !isCashInvoice"
                                                                                class="clearfix mr-t1">
                                                                                <strong
                                                                                    class="pull-right balance-due-text">{{invFormData.voucherDetails.balanceDue | number:'1.2-2'}}</strong>
                                                                                <strong class="pull-right">Balance
                                                                                    Due</strong>
                                                                            </li>
                                                                    </div>


                                                                    </ul>
                                                                    <div class="table-row" *ngIf="toggleFieldForSales">
                                                                        <div class="table-cell">

                                                                        </div>
                                                                        <div class="table-cell figure-cell">

                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                </div>
                                <div class="table-row" *ngIf="isPurchaseInvoice">
                                    <div class="table-cell">
                                        <strong>Balance Due </strong>
                                    </div>
                                    <div class="table-cell figure-cell">
                                        <strong>{{invFormData.voucherDetails.balanceDue | number:'1.2-2'}}</strong>
                                    </div>
                                </div>


                            </section>
                            </td>
                            <td></td>
                            </tr>
                            </tfoot>

                            </table>
                    </div>
                    <!-- region dummy data -->
                    <ng-template #template>
                        <div>
                            <div class="modal-header">
                                <h4 class="modal-title pull-left">Add bulk items</h4>
                                <button type="button" class="close pull-right" aria-label="Close"
                                    (click)="modalRef.hide()">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="left-content">
                                            <div class="search-box">
                                                <input type="text" placeholder="Search stock">
                                            </div>
                                            <div class="product-list">
                                                <div class="single-product-wrapper">
                                                    <h5>Sales (100 POLYSTER NON TEXTURED LINING FABRIC)</h5>
                                                    <p>
                                                        <span class="stockSku"><label>SKU: </label>Number</span>
                                                        <span class="rateStock"><label>Rate:</label> </span>$2000/-
                                                    </p>
                                                </div>
                                                <div class="single-product-wrapper">
                                                    <h5>Sales (Dummy text Lorem ipsum)</h5>
                                                    <p>

                                                        <span class="rateStock"><label>Rate:</label> </span>$2000/-
                                                    </p>
                                                </div>
                                                <div class="single-product-wrapper">
                                                    <h5>Sales (100 POLYSTER NON TEXTURED LINING FABRIC)</h5>
                                                    <p>
                                                        <span class="stockSku"><label>SKU: </label>Number</span>
                                                        <span class="rateStock"><label>Rate:</label> </span>$2000/-
                                                    </p>
                                                </div>
                                                <div class="single-product-wrapper">
                                                    <h5>Sales (100 POLYSTER NON LINING FABRIC)</h5>
                                                    <p>
                                                        <span class="stockSku"><label>SKU: </label>Number</span>
                                                        <span class="rateStock"><label>Rate:</label> </span>$2000/-
                                                    </p>
                                                </div>
                                                <div class="single-product-wrapper">
                                                    <h5>Sales (100 POLYSTER NON TEXTURED LINING FABRIC)</h5>
                                                    <p>
                                                        <span class="stockSku"><label>SKU: </label>Number</span>
                                                        <span class="rateStock"><label>Rate:</label> </span>$2000/-
                                                    </p>
                                                </div>
                                                <div class="single-product-wrapper">
                                                    <h5>Sales (100 POLYSTER NON TEXTURED LINING FABRIC)</h5>
                                                    <p>
                                                        <span class="stockSku"><label>SKU: </label>Number</span>
                                                        <span class="rateStock"><label>Rate:</label> </span>$2000/-
                                                    </p>
                                                </div>
                                                <div class="single-product-wrapper">
                                                    <h5>Sales (100 POLYSTER NON)</h5>
                                                    <p>
                                                        <span class="stockSku"><label>SKU: </label>Number</span>
                                                        <span class="rateStock"><label>Rate:</label> </span>$2000/-
                                                    </p>
                                                </div>
                                                <div class="single-product-wrapper">
                                                    <h5>Sales (100 POLYSTER NON TEXTURED LINING FABRIC)</h5>
                                                    <p>
                                                        <span class="stockSku"><label>SKU: </label>Number</span>
                                                        <span class="rateStock"><label>Rate:</label> </span>$2000/-
                                                    </p>
                                                </div>
                                                <div class="single-product-wrapper">
                                                    <h5>Sales (100 POLYSTER NON TEXTURED LINING FABRIC)</h5>
                                                    <p>
                                                        <span class="stockSku"><label>SKU: </label>Number</span>
                                                        <span class="rateStock"><label>Rate:</label> </span>$2000/-
                                                    </p>
                                                </div>
                                                <div class="single-product-wrapper">
                                                    <h5>Sales (Dummy text Lorem ipsum)</h5>
                                                    <p>

                                                        <span class="rateStock"><label>Rate:</label> </span>$2000/-
                                                    </p>
                                                </div>
                                                <div class="single-product-wrapper">
                                                    <h5>Sales (100 POLYSTER NON TEXTURED LINING FABRIC)</h5>
                                                    <p>
                                                        <span class="stockSku"><label>SKU: </label>Number</span>
                                                        <span class="rateStock"><label>Rate:</label> </span>$2000/-
                                                    </p>
                                                </div>
                                                <div class="single-product-wrapper">
                                                    <h5>Sales (100 POLYSTER NON LINING FABRIC)</h5>
                                                    <p>
                                                        <span class="stockSku"><label>SKU: </label>Number</span>
                                                        <span class="rateStock"><label>Rate:</label> </span>$2000/-
                                                    </p>
                                                </div>
                                                <div class="single-product-wrapper">
                                                    <h5>Sales (100 POLYSTER NON TEXTURED LINING FABRIC)</h5>
                                                    <p>
                                                        <span class="stockSku"><label>SKU: </label>Number</span>
                                                        <span class="rateStock"><label>Rate:</label> </span>$2000/-
                                                    </p>
                                                </div>
                                                <div class="single-product-wrapper">
                                                    <h5>Sales (100 POLYSTER NON TEXTURED LINING FABRIC)</h5>
                                                    <p>
                                                        <span class="stockSku"><label>SKU: </label>Number</span>
                                                        <span class="rateStock"><label>Rate:</label> </span>$2000/-
                                                    </p>
                                                </div>
                                                <div class="single-product-wrapper">
                                                    <h5>Sales (100 POLYSTER NON)</h5>
                                                    <p>
                                                        <span class="stockSku"><label>SKU: </label>Number</span>
                                                        <span class="rateStock"><label>Rate:</label> </span>$2000/-
                                                    </p>
                                                </div>
                                                <div class="single-product-wrapper">
                                                    <h5>Sales (100 POLYSTER NON TEXTURED LINING FABRIC)</h5>
                                                    <p>
                                                        <span class="stockSku"><label>SKU: </label>Number</span>
                                                        <span class="rateStock"><label>Rate:</label> </span>$2000/-
                                                    </p>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 pl-0">
                                        <div class="right-content">
                                            <h4>Selected Stocks <span class="selected-stock-number">(4)</span></h4>
                                            <hr>
                                            <div class="wrap-selected-stocks">
                                                <div class="single-selected-stock clearfix">
                                                    <div class="pull-left">
                                                        <div class="stock-name">
                                                            <p>Sales (100 POLYSTER NON TEX)</p>
                                                        </div>

                                                    </div>
                                                    <div class="pull-right">
                                                        <div class="input-group">
                                                            <span class="input-group-btn">
                                                                <button type="button" class="btn btn-default btn-number"
                                                                    data-type="minus" data-field="quant[1]">
                                                                    <span class="fa fa-minus"></span>
                                                                </button>
                                                            </span>
                                                            <input type="text" name="quant[1]"
                                                                class="form-control input-number" value="1" min="1"
                                                                max="10">
                                                            <span class="input-group-btn">
                                                                <button type="button" class="btn btn-default btn-number"
                                                                    data-type="plus" data-field="quant[1]">
                                                                    <span class="icon-plus"></span>
                                                                </button>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="single-selected-stock clearfix">
                                                    <div class="pull-left">
                                                        <div class="stock-name">
                                                            <p>Sales (100 POLYSTER TEX)</p>
                                                        </div>

                                                    </div>
                                                    <div class="pull-right">
                                                        <div class="input-group">
                                                            <span class="input-group-btn">
                                                                <button type="button" class="btn btn-default btn-number"
                                                                    data-type="minus" data-field="quant[1]">
                                                                    <span class="fa fa-minus"></span>
                                                                </button>
                                                            </span>
                                                            <input type="text" name="quant[1]"
                                                                class="form-control input-number" value="1" min="1"
                                                                max="10">
                                                            <span class="input-group-btn">
                                                                <button type="button" class="btn btn-default btn-number"
                                                                    data-type="plus" data-field="quant[1]">
                                                                    <span class="icon-plus"></span>
                                                                </button>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="single-selected-stock clearfix">
                                                    <div class="pull-left">
                                                        <div class="stock-name">
                                                            <p>Sales (text)</p>
                                                        </div>

                                                    </div>
                                                    <div class="pull-right">
                                                        <div class="input-group">
                                                            <span class="input-group-btn">
                                                                <button type="button" class="btn btn-default btn-number"
                                                                    data-type="minus" data-field="quant[1]">
                                                                    <span class="fa fa-minus"></span>
                                                                </button>
                                                            </span>
                                                            <input type="text" name="quant[1]"
                                                                class="form-control input-number" value="1" min="1"
                                                                max="10">
                                                            <span class="input-group-btn">
                                                                <button type="button" class="btn btn-default btn-number"
                                                                    data-type="plus" data-field="quant[1]">
                                                                    <span class="icon-plus"></span>
                                                                </button>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="template-footer">
                                                <hr>
                                                <div class="btn-group bulk-item-btn-group">
                                                    <button class="btn btn-sm btn-success" type="button"
                                                        (click)="hsnDropdownShow=!hsnDropdownShow">
                                                        Save
                                                    </button>
                                                    <button class="btn btn-sm btn-primary" (click)="modalRef.hide()"
                                                        type="button">Cancel
                                                    </button>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-template>
                    <!-- endregion -->

                    </section>

                    <section class="clearfix mr-b2 white-bg container-fluid">
                    </section>


                    </ng-container>
                </div>
            </div>
            <div class="col-md-3"></div>
        </div>


        <div class="clearfix wrapper-customer-table pd-t2">
            <table class="table customer-invoice-table d-none"
                [ngClass]="{' first-table' : !invFormData.voucherDetails.customerName }">
                <tr [hidden]="isPurchaseInvoice">
                    <td width="150px">
                        <label>Customer Name </label>
                    </td>
                    <td width="65%">
                        <div class="clearfix">

                            <ng-container *ngIf="!isCashInvoice">
                                <sales-sh-select class="sh-drop float-left" name="voucherDetails.customerName"
                                    [options]="customerAcList$ | async"
                                    [(ngModel)]="invFormData.voucherDetails.customerName"
                                    [customFilter]="customMoveGroupFilter"
                                    (noOptionsFound)="noResultsForCustomer($event)"
                                    (selected)="onSelectCustomer($event)" [placeholder]="'Select Customer'"
                                    [notFoundLink]="true" [doNotReset]="true" [forceClearReactive]="forceClear$ | async"
                                    [isFilterEnabled]="true" (noResultsClicked)="toggleAccountAsidePane($event)"
                                    [multiple]="false" [ItemHeight]="67" [notFoundLinkText]="'Add Customer'"
                                    (keyup)="resetCustomerName($event)" (onClear)="resetCustomerName(null)"
                                    [showClear]="!isUpdateMode" [disabled]="isUpdateMode">
                                    <ng-template #optionTemplate let-option="option">
                                        <a href="javascript:void(0)" class="list-item bd-rb">
                                            <div class="item">{{ option.label }}</div>
                                            <div class="item-unique">{{ option.value }}</div>
                                        </a>
                                    </ng-template>
                                    <ng-template #notFoundLinkTemplate>
                                        <a href="javascript:void(0)" class="list-item width-100 d-flex justify-content-between" [keyboardShortcut]="'alt+c'"
                                            (onShortcutPress)="toggleAccountAsidePane()">
                                            <div class="item">Add Customer</div>
                                            <div class="item">Alt+C</div>
                                        </a>
                                    </ng-template>
                                </sales-sh-select>
                            </ng-container>

                            <ng-container *ngIf="isCashInvoice">
                                <input type="text" #cashInvoiceInput name="voucherDetails.customerName"
                                    class="form-control cash-invoice-input"
                                    [(ngModel)]="invFormData.voucherDetails.customerName" [readOnly]="isUpdateMode"
                                    autocomplete="notallowedhere">
                            </ng-container>
                            <!-- <a class="copy-invoice" *ngIf="invFormData.voucherDetails.customerName"> <img src="../../assets/images/copy-icon.svg">Copy Previous Invoice</a> -->
                        </div>
                        <!-- <div class="other-options">
  <a href="#">Unregistered Business</a> | <a href="#">Customer Details</a>
</div> -->
                        <!-- flex row child start -->

                        <!--            <div class="flex-row-child add-entry-against mr-l2" *ngIf="!isCustomerSelected">-->
                        <!--              &lt;!&ndash;*ngIf="typeaheadNoResultsOfCustomer"&ndash;&gt;-->
                        <!--              <div class="form-group no-margin">-->
                        <!--                <label>Add Entry Against</label>-->
                        <!--                <sh-select name="accountDetails.uniqueName" [options]="bankAccounts$ | async"-->
                        <!--                           [(ngModel)]="invFormData.accountDetails.uniqueName" (selected)="onSelectBankCash($event)"-->
                        <!--                           [placeholder]="'Cash Account'" [notFoundLink]="false"-->
                        <!--                           [forceClearReactive]="forceClear$ | async"-->
                        <!--                           [multiple]="false" [ItemHeight]="33" [useInBuiltFilterForIOptionTypeItems]="true">-->
                        <!--                  <ng-template #optionTemplate1 let-option="option">-->
                        <!--                    <a href="javascript:void(0)" class="list-item" style="border-bottom: 1px solid #ccc;">-->
                        <!--                      <div class="item">{{ option.label }}</div>-->
                        <!--                      <div class="item-unique">{{ option.value }}</div>-->
                        <!--                    </a>-->
                        <!--                  </ng-template>-->
                        <!--                </sh-select>-->
                        <!--              </div>-->
                        <!--            </div>-->
                        <!-- flex row child end -->
                    </td>
                    <td>
                        <div class="text-right" *ngIf="invFormData.voucherDetails.customerName && !isCashInvoice">
                            <p *ngIf="toggleFieldForSales" class="font-20 b">
                                <span class="balance-due">Balance Due: </span>

                                <span class="sp-rupees">Rs
                                    {{invFormData.voucherDetails.balanceDue | number:'1.2-2'}}</span>
                            </p>
                        </div>
                    </td>
                </tr>
                <tr [hidden]="!isPurchaseInvoice">
                    <td width="150px">
                        <label>Vendor Name</label>
                    </td>
                    <td width="65%">
                        <div class="flex-row-child">
                            <div class="form-group no-margin">

                                <!-- [useInBuiltFilterForIOptionTypeItems]="true" -->
                                <!--  -->
                                <sales-sh-select class="sh-drop" name="voucherDetails.customerName"
                                    [options]="customerAcList$ | async"
                                    [(ngModel)]="invFormData.voucherDetails.tempCustomerName"
                                    [customFilter]="customMoveGroupFilter"
                                    (noOptionsFound)="noResultsForCustomer($event)"
                                    (selected)="onSelectCustomer($event)" [placeholder]="'Select Vendor'"
                                    [notFoundLink]="true" [doNotReset]="true" [forceClearReactive]="forceClear$ | async"
                                    [isFilterEnabled]="true" (noResultsClicked)="toggleAccountAsidePane($event)"
                                    [multiple]="false" [ItemHeight]="67" [notFoundLinkText]="'Add Vendor'"
                                    (keyup)="resetCustomerName($event)" (onClear)="resetCustomerName(null)"
                                    [showClear]="!isUpdateMode">
                                    <ng-template #optionTemplate let-option="option">
                                        <a href="javascript:void(0)" class="list-item bd-rb">
                                            <div class="item">{{ option.label }}</div>
                                            <div class="item-unique">{{ option.value }}</div>
                                        </a>
                                    </ng-template>
                                </sales-sh-select>
                            </div>
                        </div>
                    </td>

                </tr>
                <tr>
                    <td></td>
                    <td>
                        <ng-container>
                            <section class="form-inline">
                                <div class="wrap-billing-address clearfix">
                                    <div class="row">
                                        <div class="col-6">
                                            <div class="form-group">
                                                <label>Billing Address</label>
                                                <div class="billing-address clearfix">
                                                    <textarea name="billingDetails.address"
                                                        (keyup)="autoFillShippingDetails()" class="form-control"
                                                        [(ngModel)]="invFormData.accountDetails.billingDetails.address[0]"
                                                        rows="3" autocomplete="off" autofocus="off"
                                                        aria-autocomplete="none"></textarea>
                                                    <div>
                                                        <div class="col-sm-6 pd">
                                                            <!-- <label>Country</label> -->

                                                            <label class="sales-country-label">
                                                                {{ customerCountryName }}
                                                            </label>

                                                        </div>
                                                        <div class="col-sm-6 pd">
                                                            <!-- <label>State</label> -->
                                                            <!-- remove disabled after api changes -->
                                                            <sales-sh-select [disabled]="isUpdateMode"
                                                                [placeholder]="'State'" class="select-bdr-bottom"
                                                                (selected)="autoFillShippingDetails()" #statesBilling
                                                                [showBottomBorderOnly]="true"
                                                                [options]="statesSource$ | async"
                                                                name="billingDetails.stateCode"
                                                                [(ngModel)]="invFormData.accountDetails.billingDetails.state.code">
                                                            </sales-sh-select>
                                                            <!-- <ng-select (selected)="autoFillShippingDetails()" #statesBilling class="splSales" name="billingDetails.stateCode" [options]="statesSource$ | async"
[(ngModel)]="invFormData.accountDetails.billingDetails.stateCode"></ng-select> -->
                                                        </div>
                                                        <div class="col-sm-12 pd">
                                                            <!-- <label>GSTIN</label> -->
                                                            <!-- remove disabled after api changes -->
                                                            <input [disabled]="isUpdateMode" maxLength="15" type="text"
                                                                name="billingDetails.gstNumber"
                                                                class="form-control input-custom"
                                                                [(ngModel)]="invFormData.accountDetails.billingDetails.gstNumber"
                                                                (keyup)="getStateCode('billingDetails', statesBilling); autoFillShippingDetails()"
                                                                placeholder="GSTIN" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div class="form-group p-0 width-100">
                                                <label>
                                                    <input type="checkbox" (change)="autoFillShippingDetails()"
                                                        name="autoFillShipping" [attr.checked]="true"
                                                        [(ngModel)]="autoFillShipping"> Shipping Address Same as Billing
                                                    Address</label>
                                                <div class="billing-address" [ngClass]="{'disabled': autoFillShipping}">
                                                    <textarea [readonly]="autoFillShipping"
                                                        name="shippingDetails.address" class="form-control"
                                                        [(ngModel)]="invFormData.accountDetails.shippingDetails.address[0]"
                                                        rows="3" autocomplete="off"></textarea>
                                                    <div class="clearfix">
                                                        <div class="form-group">
                                                            <div class="col-sm-6 pd">
                                                                <div class="form-group">

                                                                    <label class="sales-country-label">
                                                                        {{ customerCountryName }}
                                                                    </label>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-6 pd">
                                                                <!-- <label>State</label> -->
                                                                <!-- <ng-select [disabled]="autoFillShipping" #statesShipping class="splSales" name="shippingDetails.stateCode" [options]="statesSource$ | async" [(ngModel)]="invFormData.accountDetails.shippingDetails.stateCode"></ng-select> -->
                                                                <!-- (selected)="autoFillShippingDetails()" -->

                                                                <!-- use this after api changes [disabled]="autoFillShipping"  -->
                                                                <sales-sh-select [disabled]="isUpdateMode"
                                                                    [placeholder]="'State'" class="select-bdr-bottom"
                                                                    #statesShipping [showBottomBorderOnly]="true"
                                                                    [options]="statesSource$ | async"
                                                                    name="shippingDetails.stateCode"
                                                                    [(ngModel)]="invFormData.accountDetails.shippingDetails.state.code">
                                                                </sales-sh-select>
                                                            </div>
                                                            <div class="col-sm-12 pd">
                                                                <!-- <label>GSTIN</label> -->
                                                                <!-- remove disabled after api changes and add [readonly]="autoFillShipping" -->
                                                                <input [disabled]="isUpdateMode" maxLength="15"
                                                                    type="text" name="shippingDetails.gstNumber"
                                                                    class="form-control input-custom"
                                                                    [(ngModel)]="invFormData.accountDetails.shippingDetails.gstNumber"
                                                                    (keyup)="getStateCode('shippingDetails', statesShipping)"
                                                                    placeholder="GSTIN" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </div>

                            </section>
                        </ng-container>
                    </td>
                    <td></td>
                </tr>

            </table>

            <table class="inner-table table customer-invoice-table bg-white d-none">

                <tr>
                    <td>
                        <label>Attention to</label>
                    </td>
                    <td>
                        <div class="form-group pl-0 mr-r15 col-xs-6">
                            <!--col-xs-3 -->

                            <input type="text" name="accountDetails.attention" placeholder="Attention to"
                                class="form-control attention-to" [(ngModel)]="invFormData.accountDetails.attentionTo" />
                        </div>
                    </td>
                    <td></td>
                </tr>

                <tr>
                    <td width="150px">
                        <label>Email Id</label>
                    </td>
                    <td width="65%">
                        <div class="col-xs-6 pl-0">
                            <input type="email" placeholder="someone@example.com" name="accountDetails.email"
                                class="form-control attention-to" [(ngModel)]="invFormData.accountDetails.email" />
                        </div>

                    </td>
                    <td></td>
                </tr>

                <tr>
                    <td>
                        <label>Mobile Number</label>
                    </td>
                    <td>
                        <div class="col-xs-6 pl-0">
                            <input digitsOnlyDirective placeholder="9198XXXXXXXX" type="text"
                                name="accountDetails.mobileNumber" class="form-control attention-to"
                                [(ngModel)]="invFormData.accountDetails.contactNumber" />
                        </div>

                    </td>
                    <td></td>
                </tr>

                <tr>
                    <td>
                        <label> {{ !isPurchaseInvoice ? 'Invoice No.' : 'Purchase Invoice No.' }}</label>
                    </td>
                    <td class="position-relative row">
                        <div class="col-6 pl-0">
                            <input type="text" name="accountDetails.invoiceNum"
                                class="form-control invoice-date attention-to"
                                [ngClass]="{'date-invoice': !isPurchaseInvoice }"
                                [disabled]="isUpdateMode  || !useCustomInvoiceNumber"
                                [(ngModel)]="invFormData.voucherDetails.voucherNumber" />
                        </div>
                        <div class="col-6 invoice-date-due-date">
                            <div class="form-inline">
                                <div class="form-group mr-r15">
                                    <!--col-xs-2-->
                                    <label>Invoice Date</label>

                                    <input type="text" [placeholder]="giddhDateFormat" #voucherDate="ngModel"
                                        name="voucherDate" class="form-control date-invoice" bsDatepicker
                                        [bsConfig]="{ dateInputFormat: giddhDateFormat }"
                                        [(ngModel)]="invFormData.voucherDetails.voucherDate" [disabled]="isUpdateMode"
                                        [class.invalid-inp]="voucherDate.errors && (voucherDate.dirty || voucherDate.touched)" />
                                    <p class="text-danger"
                                        *ngIf="voucherDate.errors && (voucherDate.dirty || voucherDate.touched)">
                                        Invalid Date
                                    </p>


                                </div>
                                <div class="form-group mr-l1 mr-r15" *ngIf="isSalesInvoice || isPurchaseInvoice">
                                    <label> {{isPurchaseInvoice ? 'Bill Due Date' : 'Due Date'}}</label>

                                    <input type="text" [placeholder]="giddhDateFormat" #dueDate="ngModel" name="dueDate"
                                        class="form-control date-invoice" bsDatepicker
                                        [bsConfig]="{ dateInputFormat: giddhDateFormat }"
                                        [(ngModel)]="invFormData.voucherDetails.dueDate"
                                        [class.invalid-inp]="dueDate.errors && (dueDate.dirty || dueDate.touched)" />
                                    <p class="text-danger" *ngIf="dueDate.errors && (dueDate.dirty || dueDate.touched)">
                                        Invalid Date</p>

                                </div>
                            </div>
                        </div>


                    </td>

                </tr>

            </table>

        </div>

</div>


<!-- region submit actions-->
<section class="clearfix">

    <section id="actionPane" class="text-center">

        <div>

            <div class="pull-right position-relative" *ngIf="!isUpdateMode">
                <button type="button" (click)="resetInvoiceForm(invoiceForm)"
                    class="btn btn-danger d-inline-block v-align-middle">Clear
                </button>

                <span class="d-inline-block v-align-middle" *ngIf="isPurchaseInvoice">
                    <button type="button" (click)="triggerSubmitInvoiceForm(invoiceForm, true)" class="btn btn-default"
                        *ngIf="isCustomerSelected">Save &amp; Update A/c
                    </button>
                    <button type="button" (click)="doAction(3);triggerSubmitInvoiceForm(invoiceForm, false)"
                        class="btn btn-default">Save
                    </button>
                </span>

                <span class="d-inline-block v-align-middle" *ngIf="!isPurchaseInvoice">

                    <button type="button" (click)="triggerSubmitInvoiceForm(invoiceForm, true)" class="btn btn-default"
                        *ngIf="isCustomerSelected" [disabled]="invoiceForm.invalid">Generate {{selectedPageLabel}}
                        &amp; Update A/c
                    </button>

                    <div class="btn-group" dropdown [dropup]="true">

                        <button type="button" (click)="doAction(3);triggerSubmitInvoiceForm(invoiceForm, false)"
                            class="btn btn-default" [disabled]="invoiceForm.invalid">Generate {{selectedPageLabel}}
                        </button>

                        <button id="button-split" type="button" dropdownToggle
                            class="btn btn-default dropdown-toggle dropdown-toggle-split" aria-controls="dropdown-split"
                            *ngIf="selectedPage === 'Sales'" [disabled]="invoiceForm.invalid">
                            <span class="caret"></span>
                            <span class="sr-only">Split button!</span>
                        </button>

                        <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu dropdown-menu-right" role="menu"
                            aria-labelledby="button-basic">
                            <li role="menuitem">
                                <a class="dropdown-item cp"
                                    (click)="doAction(1);triggerSubmitInvoiceForm(invoiceForm, false)">Generate
                                    & Close</a>
                            </li>
                            <li role="menuitem" (click)="doAction(2);triggerSubmitInvoiceForm(invoiceForm, false)">
                                <a class="dropdown-item cp">Generate & Recurring</a>
                            </li>
                        </ul>
                    </div>
                </span>

            </div>

            <div class="pull-right position-relative" *ngIf="isUpdateMode">

                <button type="button" class="btn btn-danger d-inline-block v-align-middle"
                    (click)="cancelUpdate()">Cancel
                </button>

                <button type="button" class="btn btn-default"
                    (click)="txnChangeOccurred();submitUpdateForm(invoiceForm)" [disabled]="invoiceForm.invalid">
                    <span>Update {{selectedPageLabel}}</span>
                </button>
            </div>
        </div>
    </section>
</section>
<!-- endregion -->

</form>
</div>

<!--<app-fixed-footer></app-fixed-footer>-->

<!-- open account aside -->
<div class="aside-overlay" *ngIf="accountAsideMenuState === 'in' || asideMenuStateForProductService === 'in'
     || asideMenuStateForRecurringEntry === 'in' || asideMenuStateForOtherTaxes === 'in'"></div>

<sales-aside-menu-account *ngIf="accountAsideMenuState === 'in'" [class]="accountAsideMenuState"
    [@slideInOut]="accountAsideMenuState" (closeAsideEvent)="toggleAccountAsidePane($event)"
    [isPurchaseInvoice]="isPurchaseInvoice" [keyboardShortcut]="{'esc':accountAsideMenuState ==='in'}"
    (onShortcutPress)="toggleAccountAsidePane()"></sales-aside-menu-account>

<!--&lt;!&ndash; open product service aside &ndash;&gt;-->
<!--<aside-menu-product-service [class]="asideMenuStateForProductService" [@slideInOut]="asideMenuStateForProductService"-->
<!--                            (closeAsideEvent)="onNoResultsClicked()"-->
<!--                            (animatePAside)="getActionFromAside($event)"></aside-menu-product-service>-->

<app-aside-recurring-entry [voucherType]="selectedPage" [voucherNumber]="voucherNumber"
    [class]="asideMenuStateForRecurringEntry" [@slideInOut]="asideMenuStateForRecurringEntry"
    (closeAsideEvent)="toggleRecurringAsidePane('out')"></app-aside-recurring-entry>


<!--<ng-template #otherTaxSidePane let-entry>-->
<app-aside-menu-sales-other-taxes *ngIf="asideMenuStateForOtherTaxes === 'in' && selectedEntry"
    [class]="asideMenuStateForOtherTaxes" [taxes]="companyTaxesList$ | async"
    [otherTaxesModal]="selectedEntry.otherTaxModal" [@slideInOut]="asideMenuStateForOtherTaxes"
    (closeModal)="toggleOtherTaxesAsidePane(true, null ,true)"
    (applyTaxes)="calculateOtherTaxes($event);toggleOtherTaxesAsidePane(true, null, true);calculateAffectedThingsFromOtherTaxChanges()">
</app-aside-menu-sales-other-taxes>
<!--</ng-template>-->

<!--&lt;!&ndash; create Group modal &ndash;&gt;-->
<!--<section *ngIf="showCreateGroupModal">-->
<!--  <div bsModal #createGroupModal="bs-modal" class="modal fade" role="dialog" [keyboardShortcut]="'esc'"-->
<!--       (onShortcutPress)="closeCreateGroupModal()" [config]="modalConfig">-->
<!--    <div class="modal-dialog modal-md">-->
<!--      <div class="modal-content">-->
<!--        <sales-add-group-modal (actionFired)="closeCreateGroupModal($event)"></sales-add-group-modal>-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->
<!--</section>-->

<!--&lt;!&ndash; create Ac modal &ndash;&gt;-->
<!--<section *ngIf="showCreateAcModal">-->
<!--  <div bsModal #createAcModal="bs-modal" class="modal fade" role="dialog" [config]="modalConfig">-->
<!--    <div class="modal-dialog modal-md">-->
<!--      <div class="modal-content">-->
<!--        <create-account-modal [gType]="createAcCategory" (actionFired)="closeCreateAcModal()"></create-account-modal>-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->
<!--</section>-->

<!-- modal start -->
<ng-template #template>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Change Template</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <perfect-scrollbar class="scroll-bar-form" [scrollIndicators]="true">
            <form #CreateInvoice="ngForm">

                <div class="row">
                    <div class="col-md-6">
                        <div class="change-template">
                            <img src="assets/images/a.png" class="img-responsive" alt="">
                            <div class="modal-invoice-footer">
                                <ul class="list-inline">
                                    <li>Template A</li>
                                    <li><input type="radio" id="radio-1" name="creatInvoice">
                                        <label for="radio-1" class="btn"><i class="icon-favorite-selected"></i>
                                            Template Default</label>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="change-template">
                            <img src="assets/images/b.png" class="img-responsive" alt="">
                            <div class="modal-invoice-footer">
                                <ul class="list-inline">
                                    <li>Template B</li>
                                    <li><input type="radio" id="radio-2" name="creatInvoice">
                                        <label for="radio-2" class="btn"><i class="icon-favorite-selected"></i>
                                            Template Default</label>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="change-template">
                            <img src="assets/images/c.png" class="img-responsive" alt="">
                            <div class="modal-invoice-footer">
                                <ul class="list-inline">
                                    <li>Template C</li>
                                    <li><input type="radio" id="radio-3" name="creatInvoice">
                                        <label for="radio-3" class="btn"><i class="icon-favorite-selected"></i>
                                            Template Default</label>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="change-template">
                            <img src="assets/images/d.png" class="img-responsive" alt="">
                            <div class="modal-invoice-footer">
                                <ul class="list-inline">
                                    <li>Template D</li>
                                    <li><input type="radio" id="radio-4" name="creatInvoice">
                                        <label for="radio-4" class="btn"><i class="icon-favorite-selected"></i>
                                            Template Default</label>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </form>

        </perfect-scrollbar>

    </div>
</ng-template>
