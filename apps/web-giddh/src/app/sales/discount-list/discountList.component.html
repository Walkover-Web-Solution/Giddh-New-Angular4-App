<span (clickOutside)="hideDiscountMenu()" (click)="$event.stopPropagation()">

    <a id="discount">
        <div class="multi-select adjust">
            <input type="text" decimalDigitsDirective [DecimalPlaces]="2" name=""
                class="form-control text-right cursor-pointer" [(ngModel)]="discountSum" readonly
                (blur)="discountInputBlur($event)" (focus)="toggleDiscountMenu()" />
            <!-- <span class="caret cp" (click)="toggleDiscountMenu()"></span> -->
        </div>
    </a>

    <div class="my-dropdown-menu pd" (click)="$event.stopPropagation()" style="padding: 10px;"
        [ngStyle]="{'display': isMenuOpen ? 'block': 'none'}" #disInptEle>

        <div>

            <div class="d-flex mb-1">

                <label class="mr-1 align-items-center d-flex" style="width: 50px">Percent</label>

                <div class="pos-rel">
                    <input type="text" class="form-control text-right cursor-pointer" [disabled]="!discountFromPer"
                        decimalDigitsDirective [DecimalPlaces]="2" [(ngModel)]="discountPercentageModal"
                        (blur)="discountFromInput('PERCENTAGE', $event.target.value); discountInputBlur($event);"
                        name="discountFromPer" style="width: 100px;padding-right: 20px !important;">
                    <i class="fa fa-percent pos-abs" style="top: 9px;right: 6px;color: #acb0b9;"></i>
                </div>

            </div>

            <div class="d-flex mb-1">
                <label class="mr-1 align-items-center d-flex" style="width: 50px">Value</label>
                <input type="text" class="form-control text-right  cursor-pointer" [disabled]="!discountFromVal"
                    decimalDigitsDirective [DecimalPlaces]="2" [(ngModel)]="discountFixedValueModal"
                    (blur)="discountFromInput('FIX_AMOUNT', $event.target.value)" name="discountFromVal"
                    style="width: 100px">
            </div>

        </div>

        <div class="d-flex flex-col" style="justify-content: center" *ngIf="discountAccountsDetails.length > 1">
            <span class="or-line">AND</span>
        </div>

        <div *ngIf="discountAccountsDetails.length > 1">
            <ul style="list-style: none;overflow: auto;max-height: 100px">

                <ng-container *ngFor="let discount of discountAccountsDetails;trackBy: trackByFn; let idx = index">
                    <li *ngIf="idx > 0" class="customItem cp">
                        <label class="checkbox oh width100 m0" (click)="$event.stopPropagation()">
                            <input class="pull-left" name="tax_{{idx}}" type="checkbox" [(ngModel)]="discount.isActive"
                                (change)="change()" (click)="$event.stopPropagation()" />
                            <span class="pull-left ellp cp">{{discount.name}}</span>
                        </label>
                    </li>
                </ng-container>
            </ul>
        </div>
    </div>

</span>
