<section class="reciptNote" autocomplete="off">
	<div class="reciptNoteHeader d-flex">
		<h3>{{branchTransferMode}} Note</h3>
		<div class="closeRecipt" (click)="closeBranchTransferPopup()">
			<span class="icon-cross"></span>
		</div>
	</div>
	<div class="reciptNoteRadioBtn">
		<span class="mrR1"><input class="radio_theme" name="transferType" id="multipleProducts" style="margin-left: 0px !important;" type="radio" [value]="'products'" [(ngModel)]="transferType"><label for="multipleProducts">Multiple Products</label></span>
		<span><input class="radio_theme" name="transferType" id="multipleSenders" style="margin-left: 0px !important;" type="radio" [value]="'senders'" [(ngModel)]="transferType"><label for="multipleSenders" *ngIf="branchTransferMode === 'receipt'">Multiple Senders</label><label for="multipleSenders" *ngIf="branchTransferMode === 'delivery'">Multiple Receivers</label></span>
	</div>
	<div class="reciptNoteContent">
		<div class="multipleProductsWrapper">
			<div class="multipleProducts clearfix">
				<div class="col-sm-6" *ngIf="branchTransferMode === 'delivery'">
					<div class="row mrB2">
						<div class="col-md-3">
							<label>
								Date of Supply<span class="red-text">*</span>
							</label>
						</div>
						<div class="col-md-4">
							<input type="text" placeholder="Date of Supply" class="form-control" [(ngModel)]="branchTransfer.dateOfSupply" readonly bsDatepicker>
						</div>
					</div>
                    <div *ngIf="transferType === 'senders'" class="row mrB2">
                        <div class="col-md-3">
                            <label>
                                Product's Name<span class="red-text">*</span>
                            </label>
                        </div>
                        <div class="col-md-4">
	                        <sh-select [isFilterEnabled]="true" [options]="stockList" placeholder="Product's Name" class="form-control" [(ngModel)]="branchTransfer.product[0].uniqueName" (selected)="selectProduct($event, branchTransfer.product[0])"></sh-select>
                        </div>
                    </div>
					<div class="row mrB2">
						<div class="col-md-3">
							<label>
								Sender's Name<span class="red-text">*</span>
							</label>
						</div>
						<div class="col-md-4">
							<sh-select [(ngModel)]="branchTransfer.source[0].uniqueName" [isFilterEnabled]="true" [options]="branches$ | async"></sh-select>
						</div>
					</div>
					<div class="row mrB2">
						<div class="col-md-3">
							<label>
								Sender's Warehouse<span class="red-text">*</span>
							</label>
						</div>
						<div class="col-md-4">
							<sh-select [options]="warehouses[branchTransfer.source[0].uniqueName]" [isFilterEnabled]="true" [(ngModel)]="branchTransfer.source[0].warehouse.uniqueName"></sh-select>
						</div>
					</div>
					<div class="row mrB2" *ngIf="formFields && formFields['taxName']">
						<div class="col-md-3">
							<label>
								Sender's {{formFields['taxName'].label}}<span class="red-text">*</span>
							</label>
						</div>
						<div class="col-md-4">
							<sh-select [options]="gstinOptions" [isFilterEnabled]="true" [(ngModel)]="branchTransfer.source[0].warehouse.taxNumber"></sh-select>
						</div>
					</div>
					<div class="row mrB2">
						<div class="col-md-3">
							<label>
								Sender's Address
							</label>
						</div>
						<div class="col-md-4">
							<textarea class="form-control" [(ngModel)]="branchTransfer.source[0].warehouse.address"></textarea>
						</div>
					</div>
					<div class="row mrB2" *ngIf="transferType !== 'senders'">
						<div class="col-md-3">
							<label>
								Receiver's Name<span class="red-text">*</span>
							</label>
						</div>
						<div class="col-md-4">
							<sh-select [(ngModel)]="branchTransfer.destination[0].uniqueName" [isFilterEnabled]="true" [options]="branches$ | async"></sh-select>
						</div>
					</div>
					<div class="row mrB2" *ngIf="transferType !== 'senders'">
						<div class="col-md-3">
							<label>
								Receiver's Warehouse<span class="red-text">*</span>
							</label>
						</div>
						<div class="col-md-4">
							<sh-select [options]="warehouses[branchTransfer.destination[0].uniqueName]" [isFilterEnabled]="true" [(ngModel)]="branchTransfer.destination[0].warehouse.uniqueName"></sh-select>
						</div>
					</div>
					<div class="row mrB2" *ngIf="transferType !== 'senders' && formFields && formFields['taxName']">
						<div class="col-md-3">
							<label>
								Receiver's {{formFields['taxName'].label}}<span class="red-text">*</span>
							</label>
						</div>
						<div class="col-md-4">
							<sh-select [options]="gstinOptions" [isFilterEnabled]="true" [(ngModel)]="branchTransfer.destination[0].warehouse.taxNumber"></sh-select>
						</div>
					</div>
					<div class="row mrB2" *ngIf="transferType !== 'senders'">
						<div class="col-md-3">
							<label>
								Receiver's Address
							</label>
						</div>
						<div class="col-md-4">
							<textarea class="form-control" [(ngModel)]="branchTransfer.destination[0].warehouse.address"></textarea>
						</div>
					</div>
				</div>
				<div class="col-sm-6" *ngIf="branchTransferMode === 'receipt'">
					<div class="row mrB2">
						<div class="col-md-3">
							<label>
								Date of Supply<span class="red-text">*</span>
							</label>
						</div>
						<div class="col-md-4">
							<input type="text" placeholder="Date of Supply" class="form-control" [(ngModel)]="branchTransfer.dateOfSupply" readonly bsDatepicker>
						</div>
					</div>
                    <div *ngIf="transferType === 'senders'" class="row mrB2">
                        <div class="col-md-3">
                            <label>
                                Product's Name<span class="red-text">*</span>
                            </label>
                        </div>
                        <div class="col-md-4">
	                        <sh-select [isFilterEnabled]="true" [options]="stockList" placeholder="Product's Name" class="form-control" [(ngModel)]="branchTransfer.product[0].uniqueName" (selected)="selectProduct($event, branchTransfer.product[0])"></sh-select>
                        </div>
                    </div>
                    <div class="row mrB2" *ngIf="transferType !== 'senders'">
                        <div class="col-md-3">
                            <label>
                                Sender's Name<span class="red-text">*</span>
                            </label>
                        </div>
                        <div class="col-md-4">
                            <sh-select [isFilterEnabled]="true" [(ngModel)]="branchTransfer.source[0].uniqueName" [options]="branches$ | async"></sh-select>
                        </div>
                    </div>
                    <div class="row mrB2" *ngIf="transferType !== 'senders'">
                        <div class="col-md-3">
                            <label>
                                Sender's Warehouse<span class="red-text">*</span>
                            </label>
                        </div>
                        <div class="col-md-4">
                            <sh-select [isFilterEnabled]="true" [options]="warehouses[branchTransfer.source[0].uniqueName]" [(ngModel)]="branchTransfer.source[0].warehouse.uniqueName"></sh-select>
                        </div>
                    </div>
                    <div class="row mrB2" *ngIf="transferType !== 'senders' && formFields && formFields['taxName']">
                        <div class="col-md-3">
                            <label>
                                Sender's {{formFields['taxName'].label}}<span class="red-text">*</span>
                            </label>
                        </div>
                        <div class="col-md-4">
                            <sh-select [isFilterEnabled]="true" [options]="gstinOptions" [(ngModel)]="branchTransfer.source[0].warehouse.taxNumber"></sh-select>
                        </div>
                    </div>
                    <div class="row mrB2" *ngIf="transferType !== 'senders'">
                        <div class="col-md-3">
                            <label>
                                Sender's Address
                            </label>
                        </div>
                        <div class="col-md-4">
							<textarea class="form-control" [(ngModel)]="branchTransfer.source[0].warehouse.address"></textarea>
                        </div>
                    </div>
                    <div class="row mrB2">
                        <div class="col-md-3">
                            <label>
                                Receiver's Name<span class="red-text">*</span>
                            </label>
                        </div>
                        <div class="col-md-4">
                            <sh-select [isFilterEnabled]="true" [(ngModel)]="branchTransfer.destination[0].uniqueName" [options]="branches$ | async"></sh-select>
                        </div>
                    </div>
                    <div class="row mrB2">
                        <div class="col-md-3">
                            <label>
                                Receiver's Warehouse<span class="red-text">*</span>
                            </label>
                        </div>
                        <div class="col-md-4">
                            <sh-select [isFilterEnabled]="true" [options]="warehouses[branchTransfer.destination[0].uniqueName]" [(ngModel)]="branchTransfer.destination[0].warehouse.uniqueName"></sh-select>
                        </div>
                    </div>
                    <div class="row mrB2" *ngIf="formFields && formFields['taxName']">
                        <div class="col-md-3">
                            <label>
                                Receiver's {{formFields['taxName'].label}}<span class="red-text">*</span>
                            </label>
                        </div>
                        <div class="col-md-4">
                            <sh-select [isFilterEnabled]="true" [options]="gstinOptions" [(ngModel)]="branchTransfer.destination[0].warehouse.taxNumber"></sh-select>
                        </div>
                    </div>
                    <div class="row mrB2">
                        <div class="col-md-3">
                            <label>
                                Receiver's Address
                            </label>
                        </div>
                        <div class="col-md-4">
							<textarea class="form-control" [(ngModel)]="branchTransfer.destination[0].warehouse.address"></textarea>
                        </div>
                    </div>
				</div>
				<div class="col-sm-6">
					<div class="rightTotalAmount">
						<p>Total Amount</p>
						<h3>0.00</h3>
					</div>
				</div>
			</div>
			<div class="col-sm-12">
				<table class="table  basic" id="table-recipt">
					<thead *ngIf="transferType === 'products'">
                        <tr>
                            <th>#</th>
                            <th>Product Service Details</th>
                            <th>Qty/Unit</th>
	                        <th>Rate</th>
                            <th>Amount</th>
                            <th>Total</th>
                            <th>&nbsp;</th>
                        </tr>
					</thead>
                    <thead *ngIf="transferType !== 'products'">
                        <tr>
                            <th>#</th>
                            <th *ngIf="branchTransferMode === 'delivery'">Receiver’s Details</th>
                            <th *ngIf="branchTransferMode === 'receipt'">Sender’s Details</th>
                            <th>Qty/Unit</th>
	                        <th>Rate</th>
                            <th>Amount</th>
                            <th>Total</th>
                            <th>&nbsp;</th>
                        </tr>
                    </thead>
					<tbody *ngIf="transferType === 'products'">
                        <tr *ngFor="let product of branchTransfer.product; let i = index;">
                            <td>{{i+1}}.</td>
	                        <td><sh-select [isFilterEnabled]="true" [options]="stockList" [(ngModel)]="product.uniqueName" (selected)="selectProduct($event, product)"></sh-select>
                                <p>SKU:Number</p>
                                <textarea rows="5" cols="5" class="form-control" [(ngModel)]="product.description"></textarea>
                            </td>
	                        <td>
		                        <input type="text" value="2,300" class="form-control" [(ngModel)]="product.stockDetails.quantity">
	                        </td>
	                        <td>{{product.stockDetails.rate}}</td>
	                        <td>
		                        <input type="text" value="2,300" class="form-control" [(ngModel)]="product.stockDetails.amount">
	                        </td>
	                        <td>200</td>
                            <td>
                                <a (click)="removeProduct(i)" *ngIf="branchTransfer.product.length > 1"><i class="fa fa-trash"></i></a>
                            </td>
                        </tr>
					</tbody>
                    <tbody *ngIf="transferType !== 'products' && branchTransferMode === 'delivery'">
                        <tr *ngFor="let destination of branchTransfer.destination; let i = index;">
                            <td>{{i+1}}.</td>
                            <td>
                                <sh-select [(ngModel)]="destination.uniqueName" [options]="branches$ | async"></sh-select>
                                <div class="senderRecivers"><i class="fa fa-user"></i> Receiver's Details</div>
                                <sh-select [options]="warehouses[destination.uniqueName]" [(ngModel)]="destination.warehouse.uniqueName"></sh-select>
                                <sh-select [options]="gstinOptions" *ngIf="formFields && formFields['taxName']" [(ngModel)]="destination.warehouse.taxNumber"></sh-select>
                                <textarea class="form-control" [(ngModel)]="destination.warehouse.address"></textarea>
                            </td>
	                        <td>
		                        <input type="text" value="2,300" class="form-control" [(ngModel)]="destination.warehouse.stockDetails.quantity">
	                        </td>
	                        <td>{{destination.warehouse.stockDetails.rate}}</td>
	                        <td>
		                        <input type="text" value="2,300" class="form-control" [(ngModel)]="destination.warehouse.stockDetails.amount">
	                        </td>
                            <td>200</td>
                            <td>
                                <i (click)="removeReceiver(i)" *ngIf="branchTransfer.destination.length > 1" class="fa fa-trash"></i>
                            </td>
                        </tr>
                    </tbody>
                    <tbody *ngIf="transferType !== 'products' && branchTransferMode === 'receipt'">
                        <tr *ngFor="let source of branchTransfer.source; let i = index;">
                            <td>{{i+1}}.</td>
                            <td>
                                <sh-select [(ngModel)]="source.uniqueName" [options]="branches$ | async"></sh-select>
                                <div class="senderRecivers"><i class="fa fa-user"></i> Sender’s Details</div>
                                <sh-select [options]="warehouses[source.uniqueName]" [(ngModel)]="source.warehouse.uniqueName"></sh-select>
                                <sh-select [options]="gstinOptions" *ngIf="formFields && formFields['taxName']" [(ngModel)]="source.warehouse.taxNumber"></sh-select>
                                <textarea class="form-control" [(ngModel)]="source.warehouse.address"></textarea>
                            </td>
	                        <td>
		                        <input type="text" value="2,300" class="form-control" [(ngModel)]="source.warehouse.stockDetails.quantity">
	                        </td>
	                        <td>{{source.warehouse.stockDetails.rate}}</td>
	                        <td>
		                        <input type="text" value="2,300" class="form-control" [(ngModel)]="source.warehouse.stockDetails.amount">
	                        </td>
	                        <td>200</td>
                            <td>
                                <i (click)="removeSender(i)" *ngIf="branchTransfer.source.length > 1" class="fa fa-trash"></i>
                            </td>
                        </tr>
                    </tbody>
                    <div class="addNewLine mrT1">
                        <a class="multipleRecivers" (click)="addReceiver()" *ngIf="transferType !== 'products' && branchTransferMode === 'delivery'"> + Add Multiple Receivers</a>
                        <a class="multipleRecivers" (click)="addSender()" *ngIf="transferType !== 'products' && branchTransferMode === 'receipt'"> + Add Multiple Senders</a>
                        <a class="multipleRecivers" (click)="addProduct()" *ngIf="transferType === 'products'"> + Add Multiple Products</a>
                    </div>
					<tfoot id="tfoot">
                        <tr>
                            <td colspan="4">
                                <div class="transportation-details pdT2">
                                    <h3 class="mrB1">Transportation Details</h3>
                                    <div class="row">
                                        <div class="col-sm-6 mrB2">
                                            <input type="text" placeholder="Dispatched Date" class="form-control" [(ngModel)]="branchTransfer.transportationDetails.dispatchedDate" readonly bsDatepicker>
                                        </div>
                                        <div class="col-sm-6 mrB2">
                                            <input type="text" placeholder="Transport Company" class="form-control" [(ngModel)]="branchTransfer.transportationDetails.transporterName">
                                        </div>
                                        <div class="col-sm-6 mrB2">
                                            <input type="text" placeholder="Transport Mode" class="form-control" [(ngModel)]="branchTransfer.transportationDetails.transportMode">
                                        </div>
                                        <div class="col-sm-6 mrB2">
                                            <input type="text" placeholder="Vehicle Number" class="form-control" [(ngModel)]="branchTransfer.transportationDetails.vehicleNumber">
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <h3 class="mrB1">Note</h3>
                                            <textarea class="form-control" rows="5" cols="5" [(ngModel)]="branchTransfer.note"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </td>
                            <td colspan="4">
                                <section class="tableSec form-group">
                                    <div class="tableRow ">
                                        <div class="tableCell biggerDollar">
                                            <strong>Total</strong>
                                        </div>
                                        <div class="tableCell figureCell">
                                            0.00
                                        </div>
                                    </div>
                                </section>
                            </td>
                            <td>
                                &nbsp;
                            </td>
                        </tr>
					</tfoot>
				</table>
			</div>
			<section id="actionPane" class="text-center clearfix">
				<div class="col-xs-12">
					<div class="pull-right pr">
						<button type="button" class="btn btn-danger d-inline-block v-align-middle" (click)="closeBranchTransferPopup()">Cancel</button>
						<button type="button" class="btn btn-success-text d-inline-block v-align-middle" (click)="submit()">Create Note</button>
					</div>
				</div>
			</section>
		</div>
	</div>
</section>
<!-- open account aside -->
<div class="aside-overlay" *ngIf="asideMenuState === 'in'"></div>
<!-- hide for recent discuss with reavindrji -->
<aside-sender-receiver-details-pane *ngIf="hideSenderReciverDetails" [class]="asideMenuState"
                                    [@slideInOut]="asideMenuState" (closeAsideEvent)="toggleAsidePane($event)">
</aside-sender-receiver-details-pane>
