<section id="branch-transfer-list" class="p-3 clearfix">
    <!-- page Title -->
    <hamburger-menu *ngIf="false" [pageHeading]="'Branch Transfer List'"></hamburger-menu>

    <!-- form -->
    <div class="col-12 col-sm-12">
        <div class="clearfix">
            <form class="col-12 pl-0 pr-0 mr-b05">
                <div class="row">
                    <div class="d-flex flex-wrap w-100 mb-3">
                        <div>
                            <div class="input-group custom-datepicker" (click)="showGiddhDatepicker($event)">
                                <input
                                    type="text"
                                    name="selectedDateRange"
                                    [value]="''"
                                    class="giddh-datepicker date-range-picker border-radius-2"
                                />
                            </div>
                        </div>

                        <div class="ml-auto mt-auto">
                            <button
                                matTooltip="Advanced Filter"
                                matTooltipPosition="left"
                                type="button"
                                (click)="openAdvanceFilterDialog()"
                                mat-stroked-button
                                color="primary"
                            >
                                Filter
                                <span class="icon-advance-filter"></span>
                            </button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div class="no-data mr-t100 col-12 col-sm-12" *ngIf="false">
        <h1>No entries found within given criteria.</h1>
        <h1>Do search with some other dates</h1>
    </div>

    <section>
        <table mat-table [dataSource]="dataSource" class="w-100">
            <ng-container matColumnDef="s_no">
                <th mat-header-cell *matHeaderCellDef>#</th>
                <td mat-cell *matCellDef="let element; let i = index">{{ i + 1 }}</td>
            </ng-container>

            <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef>Date</th>
                <td mat-cell *matCellDef="let element">{{ element.date }}</td>
            </ng-container>

            <ng-container matColumnDef="voucher_type">
                <th mat-header-cell *matHeaderCellDef>Voucher Type</th>
                <td mat-cell *matCellDef="let element">{{ element.voucher_type }}</td>
            </ng-container>

            <ng-container matColumnDef="voucher_no">
                <th mat-header-cell *matHeaderCellDef>Voucher No.</th>
                <td mat-cell *matCellDef="let element">{{ element.voucher_no }}</td>
            </ng-container>

            <ng-container matColumnDef="sender_receiver">
                <th mat-header-cell *matHeaderCellDef>Sender/Receiver</th>
                <td mat-cell *matCellDef="let element">{{ element.sender_receiver }}</td>
            </ng-container>

            <ng-container matColumnDef="from_warehouse">
                <th mat-header-cell *matHeaderCellDef>From Warehouse</th>
                <td mat-cell *matCellDef="let element">{{ element.from_warehouse }}</td>
            </ng-container>

            <ng-container matColumnDef="to_warehouse">
                <th mat-header-cell *matHeaderCellDef>To Warehouse</th>
                <td mat-cell *matCellDef="let element">{{ element.to_warehouse }}</td>
            </ng-container>

            <ng-container matColumnDef="total_amount">
                <th mat-header-cell *matHeaderCellDef>Total Amount</th>
                <td mat-cell *matCellDef="let element">{{ element.total_amount }}</td>
            </ng-container>

            <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef>Action</th>
                <td mat-cell *matCellDef="let element">
                    <button mat-raised-button [matMenuTriggerFor]="beforeMenu" class="bg-transparent mr-0 px-0">
                        <span class="d-flex align-items-center justify-content-space-between">
                            <span class="text-light-2 pr-2">Select Action</span>
                            <span> <i class="icon-dots-three-vertical"></i></span>
                        </span>
                    </button>
                    <mat-menu #beforeMenu="matMenu" xPosition="before">
                        <button class="no-box-shadow" mat-menu-item>Download</button>
                        <button class="no-box-shadow" mat-menu-item>Edit</button>
                        <button class="no-box-shadow" mat-menu-item>Delete</button>
                    </mat-menu>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>

        <div class="pagination-wrapper">
            <pagination
                [totalItems]="500"
                [maxSize]="5"
                class="pagination-sm"
                [boundaryLinks]="true"
                [itemsPerPage]="paginationLimit"
                [rotate]="false"
                [firstText]="'First'"
                [previousText]="'Previous'"
                [nextText]="'Next'"
                [lastText]="'Last'"
            ></pagination>
        </div>
    </section>
</section>

<!--Mat Dialog for Advance Filter-->

<ng-template #advanceFilterDialog>
    <div class="advance-search-dialog">
        <div class="modal-header theme-bg pd-l2 pd-r2">
            <h3 class="modal-title bg" id="modal-title">Advanced Filter</h3>
            <i mat-dialog-close class="icon-cross color-white"></i>
        </div>

        <div class="modal-body clearfix">
            <form class="col-md-12 pl-0 pr-0 mr-b05">
                <div class="row mt-2">
                    <div class="col-md-4 col-sm-12">
                        <label>Voucher Type</label>
                    </div>
                    <div class="col-md-8 col-sm-12">
                        <select-field
                            [cssClass]="'form-control mat-field-border'"
                            [name]="''"
                            [placeholder]="'Select Voucher Type'"
                            [options]="product"
                            [defaultValue]=""
                        >
                        </select-field>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-md-4 col-sm-12">
                        <label>Total Amount</label>
                    </div>
                    <div class="col-md-8 col-sm-12">
                        <div class="row">
                            <div class="col-6">
                                <select-field
                                    [cssClass]="'form-control mat-field-border'"
                                    [name]="''"
                                    [placeholder]="'Select Condition'"
                                    [options]="product"
                                    [defaultValue]=""
                                >
                                </select-field>
                            </div>
                            <div class="col-6">
                                <text-field
                                    [cssClass]="'form-control mat-field-border'"
                                    [type]="'number'"
                                    [placeholder]="'0'"
                                    [name]="'total'"
                                ></text-field>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-end mt-4">
                    <div class="mr-2">
                        <button type="button" class="mr-0" mat-raised-button color="primary">Search</button>
                    </div>
                    <div class="ml-2">
                        <button type="button" mat-dialog-close class="mr-0" mat-stroked-button color="primary">
                            Cancel
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</ng-template>

<!-- Date Picker  -->

<ng-template #datepickerTemplate>
    <div class="datepicker-modal">
        <div class="modal-body">
            <app-datepicker-wrapper
                [inputStartDate]="selectedDateRange?.startDate"
                [inputEndDate]="selectedDateRange?.endDate"
                [alwaysShowCalendars]="true"
                [ranges]="datePickerOption"
                [selectedRangeLabel]="selectedRangeLabel"
                [showCustomRangeLabel]="true"
                [showClearButton]="false"
                [showCancel]="true"
                [linkedCalendars]="true"
                [showDropdowns]="true"
                (rangeClicked)="dateSelectedCallback($event)"
                (datesUpdated)="dateSelectedCallback($event)"
                [keepCalendarOpeningWithRange]="false"
                [showRangeLabelOnInput]="false"
                [dateFieldPosition]="dateFieldPosition"
            >
            </app-datepicker-wrapper>
        </div>
    </div>
</ng-template>
