<ng-container
    appTranslate
    [file]="'inventory/unit'"
    (commonLocaleData)="commonLocaleData = $event"
    (localeData)="localeData = $event"
>
    <div class="mat-grid-wrapper">
        <div class="mat-list-wrap">
            <mat-grid-list cols="10" rowHeight="500px">
                <mat-grid-tile [colspan]="2" class="border-grid">
                    <mat-list class="item-list group-list">
                        <strong class="pb-2 list-font pd-l15">{{ commonLocaleData?.app_group }}</strong>
                        <giddh-page-loader *ngIf="isGroupListLoading"></giddh-page-loader>
                    </mat-list>
                </mat-grid-tile>
                <mat-grid-tile [colspan]="3" class="border-grid">
                    <mat-list class="item-list">
                        <strong class="pb-2 list-font pd-l15">{{ commonLocaleData?.app_unit }}</strong>
                        <mat-divider></mat-divider>
                        <giddh-page-loader *ngIf="isUnitListLoading"></giddh-page-loader>
                        <ng-container *ngIf="!isUnitListLoading">
                            <ng-container *ngIf="!unitMappings?.length">
                                <mat-list role="list" class="list-head">
                                    <mat-list-item class="items mat-left">
                                        <strong>{{ commonLocaleData?.app_no_result_found }}</strong>
                                    </mat-list-item>
                                </mat-list>
                            </ng-container>
                            <ng-container *ngIf="unitMappings?.length">
                                <mat-list role="list" class="list-head pd-l15">
                                    <mat-list-item class="items">
                                        <strong>{{ commonLocaleData?.app_name }}</strong>
                                    </mat-list-item>
                                    <mat-list-item class="items map-item pd-r2">
                                        <strong>{{ localeData?.mapped_unit }}</strong>
                                    </mat-list-item>
                                </mat-list>
                                <cdk-virtual-scroll-viewport
                                    class="virtual-group-list overflow-x-hidden"
                                    [itemSize]="38"
                                    [minBufferPx]="400"
                                    [maxBufferPx]="800"
                                >
                                    <ng-container *cdkVirtualFor="let mapping of unitMappings; let i = index">
                                        <mat-divider></mat-divider>
                                        <mat-list
                                            role="list"
                                            class="list-head cursor-pointer"
                                            (click)="selectedUnitIndex = i; editUnit(mapping?.stockUnitX?.uniqueName)"
                                            [ngClass]="{
                                                'selected-unit': selectedUnitIndex === i
                                            }"
                                        >
                                            <mat-list-item class="items mat-left">
                                                <a href="javascript:void(0);"
                                                    >{{ mapping?.stockUnitX?.name }} ({{
                                                        mapping?.stockUnitX?.code
                                                    }})</a
                                                >
                                            </mat-list-item>
                                            <mat-list-item class="items map-item mat-gap">
                                                <a href="javascript:void(0);"
                                                    >{{ mapping?.quantity }} {{ mapping?.stockUnitY?.name }}
                                                    <span *ngIf="mapping?.stockUnitY?.code"
                                                        >({{ mapping?.stockUnitY?.code }})</span
                                                    ><span *ngIf="!mapping?.stockUnitY?.code">-</span></a
                                                >
                                            </mat-list-item>
                                        </mat-list>
                                    </ng-container>
                                </cdk-virtual-scroll-viewport>
                            </ng-container>
                        </ng-container>
                    </mat-list>
                </mat-grid-tile>
                <mat-grid-tile [colspan]="5" class="form-btn">
                </mat-grid-tile>
            </mat-grid-list>
        </div>
    </div>
</ng-container>
