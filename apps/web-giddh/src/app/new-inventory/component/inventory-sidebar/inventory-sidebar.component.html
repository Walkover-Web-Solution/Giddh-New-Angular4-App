<ng-container
    appTranslate
    [file]="'inventory'"
    (commonLocaleData)="commonLocaleData = $event"
    (localeData)="localeData = $event"
    (translationComplete)="translationComplete($event)"
>
    <div class="aside-pane" (clickOutside)="closeAsidePaneIfMobile($event)" asideInventorySidebarMenuState>
        <div class="help-aside-body">
            <div class="back-to-main-slider">
                <a [routerLink]="['/pages/giddh-all-items']">
                    <span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 17.177 15" class="icon-pull-top">
                            <defs>
                                <style>
                                    .a {
                                        fill: var(--color-sidebar-content-text);
                                    }
                                </style>
                            </defs>
                            <g transform="translate(-0.819 -4.83)">
                                <path
                                    class="a"
                                    d="M17.891,11.455a.549.549,0,0,1-.769.124L9.409,6.031,1.7,11.579a.552.552,0,1,1-.645-.9L9.086,4.9h.019a.275.275,0,0,1,.047-.028l.05-.025h.047l.058-.017h.256l.055.019.041.019.055.03h.017l8.036,5.785a.551.551,0,0,1,.124.771Zm-2.27.033a.551.551,0,0,0-.551.551v6.689H11.951V15.37a2.543,2.543,0,1,0-5.085,0v3.358H3.747V12.039a.551.551,0,1,0-1.1,0v7.24a.551.551,0,0,0,.551.551h4.22a.551.551,0,0,0,.551-.551V15.37a1.441,1.441,0,0,1,2.882,0v3.909a.551.551,0,0,0,.551.551h4.22a.551.551,0,0,0,.551-.551v-7.24A.551.551,0,0,0,15.621,11.488Z"
                                />
                            </g>
                        </svg>
                    </span>
                </a>
                <h1 class="heading">{{ localeData?.sidebar?.inventory }}</h1>
            </div>
            <div class="inventory-items">
                <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
                    <mat-tree-node
                        *matTreeNodeDef="let node"
                        matTreeNodePadding
                        class="sub-option"
                        [routerLink]="node?.link"
                        routerLinkActive="active"
                        [ngClass]="{
                            'hide-node': node.onlyBranchMode && isCompany,
                            'active': !node?.link && node.hiddenLink.includes(currentUrl),
                            'mr-t1': (node.name == localeData?.sidebar?.warehouse_balance)
                        }"
                    >
                        <span
                            class="w-100 d-inline-flex"
                            [ngClass]="{ 'align-items-start': (node.name == localeData?.sidebar?.warehouse_balance),
                                         'align-items-center': !(node.name == localeData?.sidebar?.warehouse_balance)}"
                            *ngIf="!(node.onlyBranchMode && isCompany)"
                            (click)="toggleAsidePane($event, node)"
                        >
                            <img src="{{ imgPath }}{{ node.icons }}" [ngClass]="{ 'mt-1': (node.name == localeData?.sidebar?.warehouse_balance)}" class="sidebar-menu-icons" alt="" />
                            <h5>{{ node.name }}</h5>
                        </span>
                    </mat-tree-node>
                    <mat-tree-node
                        *matTreeNodeDef="let node; when: hasChild"
                        matTreeNodePadding
                        matTreeNodeToggle
                        class="list"
                    >
                        <button mat-icon-button disableRipple matTreeNodeToggle class="arrow-btn">
                            <span class="sidebar-list-icon">
                                <i *ngIf="treeControl.isExpanded(node)" class="icon-up mr-l1 font-15 sidebar-icon"></i>
                                <i
                                    *ngIf="!treeControl.isExpanded(node)"
                                    class="icon-down-new mr-l1 font-15 sidebar-icon"
                                ></i>
                            </span>
                        </button>
                        <img src="{{ imgPath }}{{ node.icons }}" class="sidebar-menu-icons" alt="" />
                        <h5>{{ node.name }}</h5>
                    </mat-tree-node>
                </mat-tree>
            </div>
        </div>
    </div>
</ng-container>
<div class="aside-overlay" *ngIf="asideMenuState === 'in'"></div>
<aside-create-new-inventory
    *ngIf="asideMenuState === 'in'"
    [@slideInOut]="asideMenuState"
    (closeAsideEvent)="closeAsideMenu()"
    [class]="asideMenuState"
    [moduleType]="moduleType"
></aside-create-new-inventory>
