<div
    class="relative"
    appTranslate
    [file]="'inventory/stock-group'"
    (localeData)="localeData = $event"
    (commonLocaleData)="commonLocaleData = $event"
>
    <hamburger-menu [pageHeading]="'Create Group'"></hamburger-menu>
    <div class="new-inventory-page-header">
        <label class="page-title-inventory"> Create Stock group </label>

        <div class="inventory-header-right">
            <button mat-icon-button class="ml-3" style="font-size: 25px" [routerLink]="['stock-group/list-group']">
                Ã—
            </button>
        </div>
    </div>
    <form class="form-body" #groupCreateEditForm="ngForm" novalidate autocomplete="off">
        <!-- <form autocomplete="off" novalidate name="groupForm" [formGroup]="groupForm" (ngSubmit)="saveGroup()"> -->
        <div class="container-fluid">
            <div class="create-group-page">
                <div class="row">
                    <div class="col-xl-4 col-lg-6 col-md-6">
                        <div class="create-group-form">
                            <p class="mr-b15 text-gray font-14">
                                Lorem Ipsum dummy text will come here about create stock.
                            </p>
                        </div>
                        <div class="row mr-b15">
                            <div class="col-sm-6">
                                <label>Group Name <span class="red-text">*</span></label>
                            </div>
                            <div class="col-sm-6">
                                <text-field
                                    [cssClass]="'form-control'"
                                    [name]="'productName'"
                                    [placeholder]="'Enter Group Name'"
                                    [type]="'text'"
                                    [(ngModel)]="groupForm.name"
                                    [required]="true"
                                >
                                </text-field>
                            </div>
                        </div>
                        <div class="row mr-b15">
                            <div class="col-sm-6">
                                <label>Unique Name <span class="red-text">*</span></label>
                            </div>
                            <div class="col-sm-6">
                                <text-field
                                    [cssClass]="'form-control'"
                                    [name]="'uniqueName'"
                                    [placeholder]="'Unique Name'"
                                    [type]="'text'"
                                    [(ngModel)]="groupForm.uniqueName"
                                ></text-field>
                            </div>
                        </div>

                        <div class="row mr-b15">
                            <div class="col-sm-6">
                                <mat-radio-group color="primary" name="fileType" [(ngModel)]="groupForm.showCodeType">
                                    <mat-radio-button id="hsn" [value]="'hsn'">HSN Code</mat-radio-button>
                                    <mat-radio-button id="sac" [value]="'sac'">SAC Code</mat-radio-button>
                                </mat-radio-group>
                            </div>
                            <div class="col-sm-6">
                                <div *ngIf="groupForm.showCodeType === 'hsn'">
                                    <text-field
                                        [cssClass]="'form-control'"
                                        [name]="'hsnCode'"
                                        [placeholder]="'Enter HSN Code'"
                                        [type]="'number'"
                                        [(ngModel)]="groupForm.hsnNumber"
                                        maxlength="10"
                                        decimalDigitsDirective
                                    ></text-field>
                                </div>
                                <div *ngIf="groupForm.showCodeType === 'sac'">
                                    <text-field
                                        [cssClass]="'form-control'"
                                        [name]="'sacCode'"
                                        [placeholder]="'Enter SAC Code'"
                                        [type]="'number'"
                                        [(ngModel)]="groupForm.sacNumber"
                                        [max]="10"
                                        [allowDecimalDigitsOnly]="true"
                                    ></text-field>
                                </div>
                            </div>
                        </div>

                        <div class="row mr-t15">
                            <div class="col-sm-6">
                                <label>&nbsp;</label>
                            </div>
                            <div class="col-sm-6">
                                <div class="pd-b2 clearfix">
                                    <label class="w125">Is it a sub group?:</label>
                                    <label class="radio-inline p-0">
                                        <mat-slide-toggle
                                            color="primary"
                                            name="sort"
                                            [(ngModel)]="groupForm.isSubGroup"
                                        >
                                            <span class="pull-left">{{ groupForm.isSubGroup ? "On" : "Off" }}</span>
                                        </mat-slide-toggle>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="row mr-t15">
                            <div class="col-sm-6">
                                <label>Parent Group</label>
                            </div>
                            <div class="col-sm-6">
                                <select-field
                                    [cssClass]="'form-control'"
                                    [name]="'stockGroup'"
                                    [placeholder]="'Select Group'"
                                    [options]="stockGroups"
                                    (selectedOption)="
                                        stockGroupUniqueName = $event?.value; stockGroupName = $event.label
                                    "
                                    [defaultValue]="stockGroupName"
                                ></select-field>
                            </div>
                        </div>
                        <div class="row mr-t15">
                            <div class="col-sm-6">
                                <label>Tax</label>
                            </div>
                            <div class="col-sm-6">
                                <mat-select class="form-control">
                                    <mat-option value="CESS@50">
                                        <mat-checkbox color="primary"> CESS@50 </mat-checkbox>
                                    </mat-option>
                                    <mat-option value="GST12">
                                        <mat-checkbox color="primary">GST12 </mat-checkbox>
                                    </mat-option>
                                    <mat-option value="Gst14">
                                        <mat-checkbox color="primary">Gst14</mat-checkbox>
                                    </mat-option>
                                    <mat-option value="GST18">
                                        <mat-checkbox color="primary">GST18</mat-checkbox>
                                    </mat-option>
                                    <mat-option value="TCS@20">
                                        <mat-checkbox color="primary">TCS@20</mat-checkbox>
                                    </mat-option>
                                    <mat-option value="GST5">
                                        <mat-checkbox color="primary">GST5</mat-checkbox>
                                    </mat-option>
                                    <mat-option value="TCSREC">
                                        <mat-checkbox color="primary">TCSREC</mat-checkbox>
                                    </mat-option>
                                </mat-select>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-7 col-lg-6 col-md-6">
                        <div class="image-group relative">
                            <div class="add-image">
                                <button mat-button role="button" type="button" (click)="groupImage.click()">
                                    <img src="{{ imgPath }}add-image.svg" />
                                </button>

                                <input
                                    #groupImage
                                    type="file"
                                    class="d-none"
                                    name="image"
                                    id="image"
                                    [options]="fileUploadOptions"
                                    ngFileSelect
                                    [uploadInput]="uploadInput"
                                    (uploadOutput)="onUploadOutput($event)"
                                />
                            </div>
                            <div class="group-vector">
                                <img src="{{ imgPath }}create-group-vector.svg" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="other-group mt-3 mb-3">
                    <mat-tab-group dynamicHeight class="mat-tab-them">
                        <mat-tab label="Other">
                            <div class="other-tab-content mt-3">
                                <mat-checkbox
                                    color="primary"
                                    name="out-of-stock-selling"
                                    id="out-of-stock-selling"
                                    formControlName="outOfStockSelling"
                                    >Continue selling when out of stock? (Will be applicable on all the subsequent
                                    group/stock)
                                </mat-checkbox>
                            </div>
                        </mat-tab>
                    </mat-tab-group>
                </div>
            </div>
        </div>
        <div class="create-group-footer sticky-footer">
            <div class="footer-wrapper">
                <div class="button-group">
                    <button
                        *ngIf="!groupUniqueName"
                        id="clear-btn"
                        type="button"
                        mat-raised-button
                        class="btn-primary btn-left-right-round min-width-100"
                        (click)="resetGroupForm()"
                    >
                        Clear
                    </button>
                    <button
                        *ngIf="groupUniqueName"
                        id="clear-btn"
                        mat-raised-button
                        type="button"
                        class="btn-primary btn-left-right-round min-width-100"
                        [routerLink]="'/pages/new-inventory/stock-group/list'"
                    >
                        Cancel
                    </button>
                    <button
                        mat-raised-button
                        id="create-group-btn"
                        [disabled]="groupForm?.invalid || isFileUploading"
                        class="btn-success btn-left-right-round"
                    >
                        {{ groupUniqueName ? "Update Group" : "Create Group" }}
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>
