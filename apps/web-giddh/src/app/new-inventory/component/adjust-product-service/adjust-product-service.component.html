<ng-container appTranslate [file]="'inventory/adjustment'" (commonLocaleData)="commonLocaleData = $event"
    (localeData)="localeData = $event">
    <div class="relative adjust-group-page pd-l15 pd-r15 pd-t1 mt-1">
        <hamburger-menu [pageHeading]="'Adjust Product/Service - Dummy Product Name Furniture'"></hamburger-menu>

        <div class="page-heading mb-4">
            <h2>Group</h2>
        </div>

        <button mat-stroked-button class="pull-right pd cursor-pointer back-to-page mr-t05 mr-r1"
            [routerLink]="['/pages/inventory/v2/adjust-inventory']">
            Back
        </button>
        <div class="adjust-field-wrapper">
            <div class="form-wrapper">
                <form>
                    <div class="row">
                        <div class="col-md-6 col-12 mr-b15">
                            <dropdown-field [name]="'mode'" [label]="'Mode of Adjustment'" [placeholder]="'Select Mode'"
                                [options]="[{ label : 'Quantity', value: true}, { label : 'Value', value: false}]"
                                (selectedOption)="mode = $event.value" [defaultValue]="'Quantity'" [required]="true">
                            </dropdown-field>
                        </div>
                        <div class="col-md-6 col-12 mr-b15">
                            <input-field [name]="'reference-no'" [label]="'Reference Number'"
                                [placeholder]="'Enter Reference Number'" [type]="'text'" [required]="true">
                            </input-field>
                        </div>
                        <div class="col-md-6 col-12 mr-b15">
                            <div class="direct-mat-datepicker">
                                <giddh-datepicker (dateSelected)="selectDate($event)" [minDate]="''" name="date"
                                    [cssClass]="'w-100'" [showToggleIcon]="false" [appearance]="'outline'"
                                    [placeholder]="'Date'" [required]="true">
                                </giddh-datepicker>
                            </div>
                        </div>
                        <div class="col-md-6 col-12 mr-b15">
                            <dropdown-field [name]="'account'" [label]="'Account'" [placeholder]="'Select Account'"
                                [options]="dummyOptions" (selectedOption)="selectAccount($event)" [defaultValue]="''"
                                [required]="true">
                            </dropdown-field>
                        </div>
                        <div class="col-md-6 col-12 mr-b15">
                            <dropdown-field [name]="'reason'" [label]="'Reason'" [placeholder]="'Select Reason'"
                                (createOption)="openCreateReasonAsidepan()" [options]="dummyOptions"
                                (selectedOption)="selectAccount($event)" [defaultValue]="''" [required]="true"
                                [showCreateNew]="true">
                            </dropdown-field>
                        </div>
                        <div class="col-md-6 col-12 mr-b15">
                            <dropdown-field [name]="'warehouse'" [label]="'Warehouse'"
                                [placeholder]="'Select Warehouse'" [options]="dummyOptions"
                                (selectedOption)="selectAccount($event)" [defaultValue]="''" [required]="true">
                            </dropdown-field>
                        </div>
                    </div>
                </form>
            </div>
            <div class="bg-white py-3 mt-4 mb-4">
                <div class="table-responsive">
                    <!-- Table For Stock -->
                    <table class="table giddh-table">
                        <thead>
                            <tr>
                                <th width="auto">Stock</th>
                                <th width="18%">Method</th>
                                <th width="18%" *ngIf="mode">Total Qty</th>
                                <th width="18%" *ngIf="!mode">Total Value</th>
                                <th width="18%" *ngIf="mode">Change in Qty</th>
                                <th width="18%" *ngIf="!mode">Change in Value</th>
                                <th width="18%" *ngIf="mode">New Qty</th>
                                <th width="18%" *ngIf="!mode">New Value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="d-flex mb-2 w-100">
                                        <select-field class="w-100" [cssClass]="'form-control mat-field-border'"
                                            [name]="'fields'" [placeholder]="'Select Stock'" [options]="dummyOptions"
                                            (selectedOption)="selectAccount($event)" [defaultValue]="''">
                                        </select-field>
                                    </div>
                                    <textarea placeholder="Add Description" matInput class="form-control"></textarea>
                                </td>
                                <td>
                                    <text-field [type]="'text'" [cssClass]="'form-control'" [placeholder]="'Method'">
                                    </text-field>
                                </td>
                                <td *ngIf="mode">
                                    <text-field [type]="'text'" [cssClass]="'form-control'" [placeholder]="'Total Qty'">
                                    </text-field>
                                </td>
                                <td *ngIf="!mode">
                                    <text-field [type]="'text'" [cssClass]="'form-control'"
                                        [placeholder]="'Total Value'">
                                    </text-field>
                                </td>
                                <td *ngIf="mode">
                                    <text-field [type]="'text'" [cssClass]="'form-control'"
                                        [placeholder]="'Change in Qty'">
                                    </text-field>
                                </td>
                                <td *ngIf="!mode">
                                    <text-field [type]="'text'" [cssClass]="'form-control'"
                                        [placeholder]="'Change in Value'">
                                    </text-field>
                                </td>
                                <td *ngIf="mode">
                                    <text-field [type]="'text'" [cssClass]="'form-control'" [placeholder]="'New Qty'">
                                    </text-field>
                                </td>
                                <td *ngIf="!mode">
                                    <text-field [type]="'text'" [cssClass]="'form-control'" [placeholder]="'New Value'">
                                    </text-field>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Table For Group -->
                    <table class="table giddh-table">
                        <thead>
                            <tr>
                                <th width="auto">Group</th>
                                <th width="18%">Method</th>
                                <th width="18%" *ngIf="mode">Total Qty</th>
                                <th width="18%" *ngIf="!mode">Total Value</th>
                                <th width="18%" *ngIf="mode">Change in Qty</th>
                                <th width="18%" *ngIf="!mode">Change in Value</th>
                                <th width="18%" *ngIf="mode">New Qty</th>
                                <th width="18%" *ngIf="!mode">New Value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="d-flex mb-2">
                                        <select-field class="w-100" [cssClass]="'form-control mat-field-border'"
                                            [name]="'fields'" [placeholder]="'Select Group'" [options]="dummyOptions"
                                            (selectedOption)="selectAccount($event)" [defaultValue]="''">
                                        </select-field>
                                    </div>
                                    <textarea placeholder="Add Description" matInput class="form-control"></textarea>
                                </td>
                                <td>
                                    <text-field [type]="'text'" [cssClass]="'form-control'" [placeholder]="'Method'">
                                    </text-field>
                                </td>
                                <td *ngIf="mode">
                                    <text-field [type]="'text'" [cssClass]="'form-control'" [placeholder]="'Total Qty'">
                                    </text-field>
                                </td>
                                <td *ngIf="!mode">
                                    <text-field [type]="'text'" [cssClass]="'form-control'"
                                        [placeholder]="'Total Value'">
                                    </text-field>
                                </td>
                                <td *ngIf="mode">
                                    <text-field [type]="'text'" [cssClass]="'form-control'"
                                        [placeholder]="'Change in Qty'">
                                    </text-field>
                                </td>
                                <td *ngIf="!mode">
                                    <text-field [type]="'text'" [cssClass]="'form-control'"
                                        [placeholder]="'Change in Value'">
                                    </text-field>
                                </td>
                                <td *ngIf="mode">
                                    <text-field [type]="'text'" [cssClass]="'form-control'" [placeholder]="'New Qty'">
                                    </text-field>
                                </td>
                                <td *ngIf="!mode">
                                    <text-field [type]="'text'" [cssClass]="'form-control'" [placeholder]="'New Value'">
                                    </text-field>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="action-button-wrapper pd-l15 pd-r15">
            <div class="d-flex justify-content-end column-gap1">
                <button mat-stroked-button class="min-width-100">Clear</button>
                <button mat-stroked-button color="primary" class="min-width-100" disabled>Convert to Adjust</button>
            </div>
        </div>
    </div>
</ng-container>

<!-- Datepicker template -->
<ng-template #datepickerTemplate>
    <div class="datepicker-modal">
        <div class="modal-body">
            <app-datepicker-wrapper [inputStartDate]="selectedDateRange?.startDate"
                [inputEndDate]="selectedDateRange?.endDate" [alwaysShowCalendars]="true" [ranges]="datePickerOption"
                [selectedRangeLabel]="selectedRangeLabel" [showCustomRangeLabel]="true" [showClearButton]="false"
                [showCancel]="true" [linkedCalendars]="true" [showDropdowns]="true"
                (rangeClicked)="dateSelectedCallback($event)" (datesUpdated)="dateSelectedCallback($event)"
                [keepCalendarOpeningWithRange]="false" [showRangeLabelOnInput]="false"
                [dateFieldPosition]="dateFieldPosition"></app-datepicker-wrapper>
        </div>
    </div>
</ng-template>