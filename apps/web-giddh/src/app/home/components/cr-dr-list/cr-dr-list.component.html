<div id="live">
    <div class="panel panel-default">
        <div class="panel-heading clearfix">
            <div class="btn-group gst-dropdown cursor-pointer pull-left" dropdown>
                <span id="button-basic" dropdownToggle class="dropdown-toggle" aria-controls="dropdown-basic">
                    <span class=""> <strong>Top {{showRecords}}</strong> </span> <span class="icon-arrow-down mrL1"></span>
                </span>
                <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-basic">
                    <li role="menuitem"><a class="dropdown-item" (click)="changeShowRecords(5);">Top 5</a></li>
                    <li role="menuitem"><a class="dropdown-item" (click)="changeShowRecords(10);">Top 10 </a></li>
                </ul>
            </div>
            <!-- <span class="this-week pull-right">
                <datepickeroptions [fromDate]="apiFromDate" [toDate]="apiToDate" (filterDates)="getFilterDate($event)"></datepickeroptions>
            </span> -->
            <!-- <div class="this-week pull-right" (click)="showGiddhDatepicker($event)">
                <input type="text" name="selectedDateRange" [value]="(selectedDateRangeUi) ? selectedDateRangeUi : ''" class="giddh-datepicker date-range-picker" />
            </div> -->
            <div class="this-week pull-right" (click)="showGiddhDatepicker($event)">
                <input type="text" name="selectedDateRange" [value]="(selectedDateRangeUi) ? selectedDateRangeUi : ''" class="form-control giddh-datepicker date-range-picker" />
            </div>
        </div>
        <div class="cr-dr-body pos-rel">
            <div class="top-five-cr-dr-table">
                <div class="table-responsive debtors-table">
                    <table class="table basic giddh-table on-mobile-view">
                        <thead>
                            <th width="30%">Debtors (Customers)</th>
                            <th width="10%">Invoiced on</th>
                            <th width="20%" class="text-right">Bill Amount</th>
                            <th width="40%" class="text-right">Due as on {{dueDate | date}}</th>
                        </thead>
                        <tbody>
                            <tr *ngFor="let account of drAccounts">
                                <td data-title="Debtors (Customers)">{{account.name}}</td>
                                <td data-title="Invoiced on"><span *ngIf="account.latestInvoiceDate">{{account.latestInvoiceDate}}</span><span *ngIf="!account.latestInvoiceDate">-</span></td>
                                <td data-title="Bill Amount" class="text-right" *ngIf="account.latestBillAmount">
                                    {{account.latestBillAmount.symbol}} {{account.latestBillAmount.amount | giddhCurrency}}</td>
                                <td data-title="Due as on" class="text-right" *ngIf="!account.latestBillAmount">-</td>
                                <td data-title="Due as on" class="text-right">{{activeCompany.baseCurrencySymbol}} {{ account.closingBalance.amount | giddhCurrency }}</td>
                            </tr>
                            <tr *ngIf="drAccounts.length === 0">
                                <td colspan="4" class="no-entries">
                                    <h1>No Record Found !!</h1>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="table-responsive credtors-table">
                    <table class="table basic giddh-table on-mobile-view">
                        <thead>
                            <th width="30%">Creditors (Vendors)</th>
                            <th width="10%">Invoiced on</th>
                            <th width="20%" class="text-right">Bill Amount</th>
                            <th width="40%" class="text-right">Due as on {{dueDate | date}}</th>
                        </thead>
                        <tbody>
                            <tr *ngFor="let account of crAccounts">
                                <td data-title="Creditors (Vendors)">{{account.name}}</td>
                                <td data-title="Invoiced on"><span *ngIf="account.latestInvoiceDate">{{account.latestInvoiceDate}}</span><span *ngIf="!account.latestInvoiceDate">-</span></td>
                                <td data-title="Bill Amount" class="text-right" *ngIf="account.latestBillAmount">
                                    {{account.latestBillAmount.symbol}} {{account.latestBillAmount.amount | giddhCurrency}}</td>
                                <td data-title="Due as on" class="text-right" *ngIf="!account.latestBillAmount">-</td>
                                <td data-title="Due as on" class="text-right">{{activeCompany.baseCurrencySymbol}} {{ account.closingBalance.amount | giddhCurrency }}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<ng-template #datepickerTemplate>
    <div class="datepicker-modal">
        <div class="modal-body">
            <app-datepicker-wrapper [inputStartDate]="selectedDateRange?.startDate" [inputEndDate]="selectedDateRange?.endDate" [alwaysShowCalendars]="true" [ranges]="datePickerOptions.ranges" [selectedRangeLabel]="selectedRangeLabel" [showCustomRangeLabel]="true"
                [showClearButton]="false" [showCancel]="true" [linkedCalendars]="true" [showDropdowns]="true" [locale]="{applyLabel: 'Done'}" (rangeClicked)="dateSelectedCallback($event)" (datesUpdated)="dateSelectedCallback($event)" [keepCalendarOpeningWithRange]="false"
                [showRangeLabelOnInput]="false" [dateFieldPosition]="dateFieldPosition"></app-datepicker-wrapper>
        </div>
    </div>
</ng-template>