<ng-container
    appTranslate
    [file]="'reports/purchase-register'"
    (localeData)="localeData = $event"
    (commonLocaleData)="commonLocaleData = $event"
>
<div class="help-support-aside setting-sidebar-wrapper gst-sidebar-wrapper mr-t05" *ngIf="asideGstSidebarMenuState === 'in'">
    <div class="help-support-aside setting-sidebar-wrapper gst-sidebar-wrapper"
        *ngIf="asideGstSidebarMenuState === 'in'">
        <tax-sidebar 
            (navigateEvent)="handleNavigation()"
            [exclude]="'#primary-new-header'"
            class="gst-sidebar">
        </tax-sidebar>
    </div>
    <div class="filing-status pd-15">
        <div class="filing-status-header py-2">
            <div class="d-flex align-items-center">
                <!-- <div class="d-flex">
                    <div class="custom-datepicker" (click)="showGiddhDatepicker($event)">
                        <input
                            type="text"
                            name="selectedDateRange"
                            [value]="selectedDateRangeUi ? selectedDateRangeUi : ''"
                            class="giddh-datepicker date-range-picker"
                        />
                    </div>
                </div> -->            
                <button class="ml-5" mat-stroked-button (click)="resetAdvanceSearch()" *ngIf="isLoading">
                    <span class="icon-cross"></span> {{ commonLocaleData?.app_clear_filter }}
                </button>
            </div>
        </div>

        <div class="filing-status-table pt-3">
            <div *ngIf="isLoading"  class="table-loader d-flex justify-content-center align-items-center">
                <giddh-page-loader></giddh-page-loader>
            </div>
            <ng-container *ngIf="!isLoading">
                <table mat-table [dataSource]="dataSource" class="mb-5 w-100">    
                    <!-- Reference Id Column -->
                    <ng-container matColumnDef="referenceId">
                      <th mat-header-cell *matHeaderCellDef width="90%"> Reference Id </th>
                      <td mat-cell *matCellDef="let element" width="90%"> {{element.referenceId}} </td>
                    </ng-container>
                  
                    <!-- Status Column -->
                    <ng-container matColumnDef="status">
                      <th mat-header-cell *matHeaderCellDef width="10%" class="text-center"> Status </th>
                      <td mat-cell *matCellDef="let element" width="10%" class="text-center"> <button mat-stroked-button color="primary" (click)="getGstFilingStatus(element.referenceId)">Get Status</button> </td>
                    </ng-container>
                  
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                  </table>

                  <div class="pagination-wrapper mt-auto" *ngIf="pagination.totalPages > 1 && !isLoading">
                    <pagination
                        class="pagination-sm"
                        [(ngModel)]="pagination.page"
                        [totalItems]="pagination.totalItems"
                        [maxSize]="5"
                        [boundaryLinks]="true"
                        [itemsPerPage]="pagination.count"
                        [rotate]="false"
                        (pageChanged)="pageChanged($event)"
                        [firstText]="commonLocaleData?.app_first"
                        [previousText]="commonLocaleData?.app_previous"
                        [nextText]="commonLocaleData?.app_next"
                        [lastText]="commonLocaleData?.app_last"
                    ></pagination>
                </div>
            </ng-container>
              

        </div>
    </div>
</div>
</ng-container>

<!-- Universal Date Picker -->
<!-- <ng-template #datepickerTemplate>
    <div class="datepicker-modal">
        <div class="modal-body">
            <app-datepicker-wrapper
                [inputStartDate]="selectedDateRange?.startDate"
                [inputEndDate]="selectedDateRange?.endDate"
                [alwaysShowCalendars]="true"
                [ranges]="datePickerOption"
                [selectedRangeLabel]="selectedRangeLabel"
                [showCustomRangeLabel]="true"
                [showClearButton]="false"
                [showCancel]="true"
                [linkedCalendars]="true"
                [showDropdowns]="true"
                (rangeClicked)="dateSelectedCallback($event)"
                (datesUpdated)="dateSelectedCallback($event)"
                [keepCalendarOpeningWithRange]="false"
                [showRangeLabelOnInput]="false"
                [dateFieldPosition]="dateFieldPosition"
            ></app-datepicker-wrapper>
        </div>
    </div>
</ng-template> -->