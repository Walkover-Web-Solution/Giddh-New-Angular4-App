<div class="welcome-msg">
    <div class="row">
        <div [ngClass]="{ 'skeleton-common-class': showLoader, 'redeem-back': showLoader }"></div>
        <div class="col-md-1 col-sm-1" *ngIf="!showLoader">
            <button (click)="backClicked()" class="btn-cancel pr-3 pl-3 mb-2 mr-0" mat-button>
                <i class="icon-left back-left"></i>
                {{ commonLocaleData?.app_back }}
            </button>
        </div>
    </div>
    <ng-container *ngIf="!isSwitchPlanInProcess">
        <div class="scroll-left" [ngClass]="{ 'skeleton-common-class': showLoader, 'left-icon': showLoader }">
            <button mat-raised-button color="primary" (click)="scrollLeft()" *ngIf="!showLoader">
                <i class="icon-left"></i>
            </button>
        </div>
        <div class="scroll-right" [ngClass]="{ 'skeleton-common-class': showLoader, 'right-icon': showLoader }">
            <button mat-raised-button color="primary" (click)="scrollRight()" *ngIf="!showLoader">
                <i class="icon-right"></i>
            </button>
        </div>
        <div #tableContent class="plan-table mat-elevation-z8" *ngIf="!showLoader">
            <div class="grid-list-div top-heading">
                <div class="grid-title-left grid-title-left-top">
                    <span class="inner-name inner-name-bold mat-table-sticky">
                        {{ localeData?.subscription?.benefits }}
                    </span>
                </div>
                <div class="grid-title-list font-16" *ngFor="let plan of inputData">
                    <span class="sub-plan-name">{{ plan["name"] }}</span> <br />
                    <span class="sub-plan-amount"
                        >{{ activeCompany?.countryV2.currency?.symbol }}{{ plan["amount"] }}/<span
                            class="sub-plan-duration"
                            >{{ plan["durationUnit"] }}</span
                        ></span
                    >
                </div>
            </div>

            <div class="grid-list-div list-grid">
                <div class="grid-title-left">
                    <span class="inner-name mat-table-sticky">{{ commonLocaleData?.app_transactions }}</span>
                </div>
                <div class="grid-title-list list-grid-title" *ngFor="let plan of inputData">
                    <span>{{ plan["transactionLimit"] }}</span>
                </div>
            </div>
            <div class="grid-list-div list-grid">
                <div class="grid-title-left">
                    <span class="inner-name mat-table-sticky">{{ localeData?.subscription?.companies }}</span>
                </div>
                <div class="grid-title-list list-grid-title" *ngFor="let plan of inputData">
                    <span>{{ plan["companiesLimit"] }}</span>
                </div>
            </div>
            <div class="grid-list-div list-grid">
                <div class="grid-title-left">
                    <span class="inner-name mat-table-sticky">{{ localeData?.subscription?.unlimited_users }}</span>
                </div>
                <div class="grid-title-list list-grid-title" *ngFor="let plan of inputData">
                    <i class="icon-tick"></i>
                </div>
            </div>
            <div class="grid-list-div list-grid">
                <div class="grid-title-left">
                    <span class="inner-name mat-table-sticky">{{ localeData?.subscription?.unlimited_contacts }}</span>
                </div>
                <div class="grid-title-list list-grid-title" *ngFor="let plan of inputData">
                    <i class="icon-tick"></i>
                </div>
            </div>
            <div class="grid-list-div list-grid">
                <div class="grid-title-left">
                    <span class="inner-name mat-table-sticky">{{ localeData?.subscription?.desktop_mobile_app }}</span>
                </div>
                <div class="grid-title-list list-grid-title" *ngFor="let plan of inputData">
                    <i class="icon-tick"></i>
                </div>
            </div>
            <div class="grid-list-div list-grid bottom-grid-list-div">
                <div class="grid-title-left">
                    <a class="sub-plan-feature mat-table-sticky" (click)="openDialog()" href="javascript:void(0)">{{
                        localeData?.subscription?.check_all_features
                    }}</a>
                </div>
                <div class="grid-title-list bottom-buy-button" *ngFor="let plan of inputData">
                    <button
                        (click)="buyPlanClicked(plan)"
                        class="all-feature-button"
                        mat-raised-button
                        color="primary"
                        *ngIf="plan?.uniqueName === activeCompany?.subscription?.planDetails?.uniqueName"
                    >
                        {{ localeData?.subscription?.renew }}
                    </button>
                    <button
                        (click)="buyPlanClicked(plan)"
                        class="all-feature-button"
                        mat-raised-button
                        color="primary"
                        *ngIf="plan?.uniqueName !== activeCompany?.subscription?.planDetails?.uniqueName"
                    >
                        {{ localeData?.subscription?.buy_plan }}
                    </button>
                </div>
            </div>
        </div>

        <div #tableContent class="plan-table-content mat-elevation-z8" *ngIf="showLoader">
            <div class="grid-list-div-changes">
                <div
                    class="grid-title-left"
                    [ngClass]="{ 'skeleton-common-class': showLoader, 'grid-title-list-changes': showLoader }"
                >
                    <span class="inner-name inner-name-bold mat-table-sticky">&nbsp;</span>
                </div>
                <div
                    class="grid-title-list"
                    *ngFor="let plan of inputData"
                    [ngClass]="{ 'skeleton-common-class': showLoader, 'grid-title-list-changes': showLoader }"
                >
                    <span class="sub-plan-name">&nbsp;</span> <br />
                    <span class="sub-plan-amount">&nbsp;<span class="sub-plan-duration">&nbsp;</span></span>
                </div>
            </div>

            <div class="grid-list-div-changes list-grid">
                <div
                    class="grid-title-left"
                    [ngClass]="{ 'skeleton-common-class': showLoader, 'grid-title-list-changes': showLoader }"
                >
                    <span class="inner-name mat-table-sticky">&nbsp;</span>
                </div>
                <div
                    class="grid-title-list list-grid-title"
                    *ngFor="let plan of inputData"
                    [ngClass]="{ 'skeleton-common-class': showLoader, 'grid-title-list-changes': showLoader }"
                >
                    <span>&nbsp;</span>
                </div>
            </div>
            <div class="grid-list-div-changes list-grid">
                <div
                    class="grid-title-left"
                    [ngClass]="{ 'skeleton-common-class': showLoader, 'grid-title-list-changes': showLoader }"
                >
                    <span class="inner-name mat-table-sticky">&nbsp;</span>
                </div>
                <div
                    class="grid-title-list list-grid-title"
                    *ngFor="let plan of inputData"
                    [ngClass]="{ 'skeleton-common-class': showLoader, 'grid-title-list-changes': showLoader }"
                >
                    <span>&nbsp;</span>
                </div>
            </div>
            <div class="grid-list-div-changes list-grid">
                <div
                    class="grid-title-left"
                    [ngClass]="{ 'skeleton-common-class': showLoader, 'grid-title-list-changes': showLoader }"
                >
                    <span class="inner-name mat-table-sticky">&nbsp;</span>
                </div>
                <div
                    class="grid-title-list list-grid-title"
                    *ngFor="let plan of inputData"
                    [ngClass]="{ 'skeleton-common-class': showLoader, 'grid-title-list-changes': showLoader }"
                ></div>
            </div>
            <div class="grid-list-div-changes list-grid">
                <div
                    class="grid-title-left"
                    [ngClass]="{ 'skeleton-common-class': showLoader, 'grid-title-list-changes': showLoader }"
                >
                    <span class="inner-name mat-table-sticky">&nbsp;</span>
                </div>
                <div
                    class="grid-title-list list-grid-title"
                    *ngFor="let plan of inputData"
                    [ngClass]="{ 'skeleton-common-class': showLoader, 'grid-title-list-changes': showLoader }"
                ></div>
            </div>
            <div class="grid-list-div-changes list-grid">
                <div
                    class="grid-title-left"
                    [ngClass]="{ 'skeleton-common-class': showLoader, 'grid-title-list-changes': showLoader }"
                >
                    <span class="inner-name mat-table-sticky">&nbsp;</span>
                </div>
                <div
                    class="grid-title-list list-grid-title"
                    *ngFor="let plan of inputData"
                    [ngClass]="{ 'skeleton-common-class': showLoader, 'grid-title-list-changes': showLoader }"
                ></div>
            </div>
            <div class="grid-list-div-changes list-grid">
                <div
                    class="grid-title-left"
                    [ngClass]="{ 'skeleton-common-class': showLoader, 'grid-title-list-changes': showLoader }"
                >
                    <a class="sub-plan-feature mat-table-sticky" (click)="openDialog()" href="javascript:void(0)"
                        >&nbsp;</a
                    >
                </div>
                <div
                    class="grid-title-list list-grid-title"
                    *ngFor="let plan of inputData"
                    [ngClass]="{ 'skeleton-common-class': showLoader, 'grid-title-list-changes': showLoader }"
                ></div>
            </div>
        </div>
        <p [ngClass]="{ 'skeleton-common-class': showLoader }" class="extra-addons-content font-16">
            {{ localeData?.subscription?.extra_addons }}:<span *ngIf="!showLoader" class="extra-addons-value">
                {{ localeData?.subscription?.per_transaction }}</span
            >
        </p>
        <!-- extra addons :  | 2000 per branch | 1000 per warehous -->

        <!-- Default Active Company Start -->
        <!-- <div class="no-plan col-md-3">
         <div class="renewal-data">
             <mat-card class="renewal-card">
                <mat-card-subtitle [ngClass]="{ 'skeleton-common-class': showLoader , 'renewal-card-subtitle-loading': showLoader}" class="renewal-card-subtitle">{{ this.activeCompany?.subscription?.planDetails?.name }}
                </mat-card-subtitle>
                <mat-card-title [ngClass]="{ 'skeleton-common-class': showLoader, 'renewal-card-title-loading': showLoader}" class="renewal-card-title">
                    ₹{{ this.activeCompany?.subscription?.planDetails?.amount | number }}
                    <span class="year">/{{ this.activeCompany?.subscription?.planDetails?.duration }} {{ this.activeCompany?.subscription?.planDetails?.durationUnit }} {{ this.activeCompany?.subscription?.planDetails?.duration !== 1 ? "(s)" : "" }}
                       </span></mat-card-title>
        <p [ngClass]="{ 'skeleton-common-class': showLoader}" class="renewal-off">₹15000 <span class="discount-off" *ngIf="!showLoader">20% off</span></p>
        <mat-card-content class="renewal-card-content">
                    <ul class="renewal-list" [ngClass]="{ 'renewal-list-loading': showLoader}">
                        <li [ngClass]="{ 'skeleton-common-class': showLoader, 'features-loading': showLoader}" class="features">
                            {{ this.activeCompany?.subscription?.planDetails?.transactionLimit | number }}  Transactions
                        </li>
                        <li  [ngClass]="{ 'skeleton-common-class': showLoader, 'features-loading': showLoader}" class="features">
                            {{ this.activeCompany?.subscription?.planDetails?.companiesLimit | number }}  Companies
                        </li>
        <li  [ngClass]="{ 'skeleton-common-class': showLoader, 'features-loading': showLoader}" class="features">10 hrs<span class="hrs-underline"> Muneem Consultant</span></li>
       <li [ngClass]="{ 'skeleton-common-class': showLoader, 'features-loading': showLoader}" class="features">{{ localeData?.subscription?.unlimited_users }}</li>
                        <li [ngClass]="{ 'skeleton-common-class': showLoader, 'features-loading': showLoader}" class="features">{{ localeData?.subscription?.unlimited_contacts }}</li>
                        <li  [ngClass]="{ 'skeleton-common-class': showLoader, 'features-loading': showLoader}" class="features">{{ localeData?.subscription?.desktop_mobile_app }}</li>
                    </ul>
                    <a [ngClass]="{ 'skeleton-common-class': showLoader, 'button-loading': showLoader}" (click)="openDialog()" href="javascript:void(0)">{{ localeData?.subscription?.check_all_features }}</a>
                    <div [ngClass]="{ 'skeleton-common-class': showLoader,'formgroup-div': showLoader}" class="form-group" >
                        <button  [ngClass]="{ 'formgroup-button': showLoader}"  *ngIf="this.activeCompany?.subscription?.planDetails?.uniqueName !== defaultTrialPlan" class="pay-now" mat-raised-button color="primary"
                            (click)="renewPlan()">
                            {{ commonLocaleData?.app_renew }}
                        </button>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>
    </div>-->
        <!-- Default Active Company End  -->

        <div class="activation-key-wrapper">
            <div class="box">
                <div class="row">
                    <div
                        class="col-md-6 col-sm-12 col-xs-12 footer-plan"
                        [ngClass]="{ 'footer-plan-loading': showLoader }"
                    >
                        <div class="activation-key mr-b1">
                            <h2
                                [ngClass]="{ 'skeleton-common-class': showLoader, 'redeem-plan': showLoader }"
                                class="font-24 text-gray bold mb-3 redeem-plan"
                            >
                                {{ localeData?.subscription?.redeem }}
                                {{ localeData?.subscription?.activation_key }}
                            </h2>
                            <p
                                [ngClass]="{ 'skeleton-common-class': showLoader, 'redeem-details': showLoader }"
                                class="font-16"
                            >
                                {{ localeData?.subscription?.activation_key_note }}
                            </p>
                            <div class="d-flex redeem-content">
                                <div
                                    [ngClass]="{ 'skeleton-common-class': showLoader, 'redeem-input': showLoader }"
                                ></div>
                                <input
                                    *ngIf="!showLoader"
                                    type="text"
                                    name="licenceKey"
                                    required
                                    id="licenceKey"
                                    [formControl]="licenceKey"
                                    class="form-control mr-t1"
                                    matInput
                                    [placeholder]="localeData?.subscription?.enter_activation_key"
                                />
                                <div class="activation-btn mr-l15">
                                    <div
                                        [ngClass]="{ 'skeleton-common-class': showLoader, 'redeem-button': showLoader }"
                                    ></div>
                                    <button
                                        *ngIf="!showLoader"
                                        class="success-btn mr-t1 pl-3 pr-3"
                                        mat-raised-button
                                        [disabled]="!licenceKey?.value"
                                        (click)="createCompanyViaActivationKey()"
                                    >
                                        {{ localeData?.subscription?.activate }}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- <a class="font-16 explore-other">Explore Other Plans</a> -->
    </ng-container>
    <div *ngIf="isSwitchPlanInProcess">
        <giddh-page-loader></giddh-page-loader>
    </div>
</div>
<!-- All features Modal -->
<ng-template #AllFeatures>
    <all-features (closeEvent)="closeFeaturesModal($event)"></all-features>
</ng-template>
