<div class="aside-pane">

  <button id="close" class="btn btn-sm btn-primary" (click)="closeEvent.emit()">X</button>

  <div class="aside-header">
    <h3 class="aside-title">Create New Tax</h3>
  </div>

  <div class="aside-body">
    <div class="form-group pdT2">

      <form class="col-xs-12 row" (ngSubmit)="onSubmit()">
        <div class="row">

          <div class="form-group col-xs-6">
            <label>Select Tax</label><br>
            <sh-select [options]="taxList" [isFilterEnabled]="false"
                       name="taxType" [(ngModel)]="newTaxObj.taxType" [placeholder]="'Select Tax'"
                       [ItemHeight]="33"></sh-select>
          </div>


          <div class="form-group col-xs-6">
            <label>Tax %</label><br>
            <input type="text" [(ngModel)]="newTaxObj.taxValue" name="taxValue" decimalDigitsDirective
                   class="form-control" [max]="'100'" [minValue]="'-100'"/>
          </div>

        </div>

        <div class="row">

          <div class="form-group col-xs-6">
            <label>Unique No.</label><br>
            <input type="text" [(ngModel)]="newTaxObj.taxNumber" name="taxNumber" placeholder="Unique Number"
                   class="form-control"/>
          </div>

          <div class="form-group col-xs-6" *ngIf="newTaxObj.taxType === 'tds' || newTaxObj.taxType === 'tcs'">
            <label>Select Type</label><br>
            <sh-select [options]="tdsTcsTaxSubTypes" [isFilterEnabled]="false"
                       name="taxType" [(ngModel)]="newTaxObj.taxType" [placeholder]="'Select Type'"
                       [ItemHeight]="33"></sh-select>
          </div>

          <div class="form-group col-xs-6" *ngIf="newTaxObj.taxType === 'cess'">
            <label>Link Tax</label><br>
            <sh-select [options]="tdsTcsTaxSubTypes" [isFilterEnabled]="false"
                       name="taxType" [(ngModel)]="newTaxObj.taxType" [placeholder]="'Link Tax'"
                       [ItemHeight]="33"></sh-select>
          </div>

        </div>

        <div *ngIf="newTaxObj.taxType === 'cess'">
          <input type="checkbox"/> Is any other tax linked to it
        </div>

        <div class="row">

          <div class="form-group col-xs-6">
            <label>Name</label><br>
            <input type="text" placeholder="Name" [(ngModel)]="newTaxObj.name" name="name" class="form-control"/>
          </div>

          <div class="form-group col-xs-6" *ngIf="newTaxObj.taxType !== 'cess'">
            <label>Linked Account</label><br>
            <sh-select [disabled]="newTaxObj.taxType != 'others'"
                       [isFilterEnabled]="true"
                       [customFilter]="customAccountFilter" placeholder="Select Account" name="account"
                       [(ngModel)]="newTaxObj.account" [options]="flattenAccountsOptions"></sh-select>
          </div>

        </div>

        <div class="row">

          <!--          <div class="form-group col-xs-3">-->
          <!--            <label>-100 to 100</label><br>-->
          <!--            &lt;!&ndash;              <input type="number" [(ngModel)]="newTaxObj.taxValue" name="taxValue" placeholder="-100 to 100" min="-100"&ndash;&gt;-->
          <!--            &lt;!&ndash;                     max="100" class="form-control"/>&ndash;&gt;-->
          <!--          </div>-->

          <div class="form-group col-xs-4">
            <label>Apply Tax From</label>
            <div class="input-group">

              <input name="lastInvoiceDate" placeholder="Daterangepicker" [(ngModel)]="newTaxObj.date" type="text"
                     [bsConfig]="{dateInputFormat:'DD-MM-YYYY', showWeekNumbers: false}" class="form-control"
                     [outsideClick]="true" bsDatepicker required>
            </div>

          </div>

          <div class="form-group col-xs-4">
            <label>Tax Duration</label><br>
            <sh-select placeholder="Select Duration" name="duration"
                       [(ngModel)]="newTaxObj.duration" [options]="duration" [ItemHeight]="33"></sh-select>
          </div>

          <div class="form-group col-xs-3">
            <label>Filing Date</label>
            <sh-select placeholder="Select Date" [customSorting]="customDateSorting" name="duration"
                       [(ngModel)]="newTaxObj.taxFileDate"
                       [options]="days" [ItemHeight]="33"></sh-select>
          </div>

        </div>
        <div class="row">
          <div class=col-xs-12>
            <button type="submit" class="btn btn-success" *ngIf="!tax">Create</button>
            <button type="submit" class="btn btn-success" *ngIf="tax && tax.uniqueName">Update</button>
            <button type="button" (click)="closeEvent.emit()" class="btn btn-danger">Cancel</button>
          </div>
        </div>
      </form>

    </div>

  </div>
</div>


<p>From Aside Tax</p>
