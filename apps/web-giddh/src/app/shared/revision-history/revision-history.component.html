<div class="aside-pane">
    <div class="form-header">
        <div>
            <h3><span>Revision History</span></h3>
        </div>
    </div>
    <button id="close" (click)="closeAsidePane()"><i class="icon-cross"></i></button>
    <div class="aside-body">
        <giddh-page-loader [cssClass]="'mt-0 mb-0'" *ngIf="isLoading"></giddh-page-loader>
        <div class="aside-pane-form" *ngIf="!isLoading && purchaseVersions && purchaseVersions.results && purchaseVersions.results.length > 0">
            <ng-container *ngFor="let result of purchaseVersions.results;">
                <div class="single-history-block" *ngFor="let change of result.changes;">
                    <p><span class="text-gray">{{result.versionTime | date: 'dd/MM/yyyy, hh:mm aa' }}</span></p>
                    <p>{{change.message}} <span class="text-gray">by {{result.user?.name}}</span></p>
                </div>
            </ng-container>
            <pagination *ngIf="purchaseVersions.totalPages > 1" class="pagination" [(ngModel)]="purchaseVersions.page" [totalItems]="purchaseVersions.totalItems" [itemsPerPage]="purchaseVersions.count" [maxSize]="5" [boundaryLinks]="true" [rotate]="false" (pageChanged)="pageChanged($event)"></pagination>
        </div>
        <div class="aside-pane-form" *ngIf="!isLoading && (!purchaseVersions || !purchaseVersions.results || purchaseVersions.results.length === 0)">
            No results found
        </div>
    </div>
</div>