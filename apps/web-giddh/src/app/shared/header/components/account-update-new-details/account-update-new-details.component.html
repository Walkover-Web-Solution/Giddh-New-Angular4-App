<form name="addAccountForm" class="createAccForm" [formGroup]="addAccountForm">
    <div class="">
        <div class="upper-form">
            <div class="row ">
                <div class="col-sm-4">
                    <div class="ng-select-wrap liq selectGroup disable-select-group">
                        <label>Select Group<span class="red-text">*</span> </label>
                        <ng-select placeholder="Select Group" [disabled]="true" filterPlaceholder="Type to search..." (selected)="selectGroup($event)" formControlName="activeGroupUniqueName" [options]="flatGroupsOptions" class="wd100">
                            <ng-template #optionTemplate let-option="option">
                                <div class="account-list-item">{{option?.label}}</div>
                                <div class="account-list-item fs12">{{option?.value}}</div>
                            </ng-template>
                        </ng-select>
                    </div>
                </div>
                <div class="col-sm-8">
                    <div class="form-group">
                        <label>Account Name <sup class="text-danger">*</sup> </label>
                        <input type="text" class="form-control" #autoFocusUpdate formControlName="name" name="accountName" placeholder="Account Name">
                    </div>
                </div>
            </div>
            <div class="row ">
                <div class="col-sm-4">
                    <div class="form-group" formGroupName="country">
                        <label>Country <sup class="text-danger">*</sup> </label>
                        <sh-select [options]="countrySource" [isFilterEnabled]="true" (viewInitEvent)="onViewReady($event)" formControlName="countryCode" (selected)="selectCountry($event)" [useInBuiltFilterForIOptionTypeItems]="true"></sh-select>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group">
                        <label>Currency (account) </label>
                        <sh-select [options]="currencySource$ | async" defaultValue="{{selectedCurrency}}" formControlName="currency" [isFilterEnabled]="true"></sh-select>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="cr-dr-account">
                        <label>Opening Balance </label>
                        <div class="" [ngClass]="{'input-group': addAccountForm.get('openingBalance').value > 0}">
                            <input type="text" min="0" class="form-control text-right" decimalDigitsDirective formControlName="openingBalance" placeholder="00.00" />
                            <div class="input-group-addon" (click)="openingBalanceTypeChnaged('DEBIT')" [ngClass]="
                 {'active-toggle-btn': addAccountForm.get('openingBalanceType').value === 'DEBIT' && addAccountForm.get('openingBalance').value > 0,
                  'cp': addAccountForm.get('openingBalance').value > 0}" *ngIf="addAccountForm.get('openingBalance').value > 0">DR.
                            </div>
                            <div class="input-group-addon" (click)="openingBalanceTypeChnaged('CREDIT')" [ngClass]="
                 {'active-toggle-btn': addAccountForm.get('openingBalanceType').value === 'CREDIT' && addAccountForm.get('openingBalance').value > 0,
                  'cp': addAccountForm.get('openingBalance').value > 0}" *ngIf="addAccountForm.get('openingBalance').value > 0">CR.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" *ngIf="addAccountForm.get('country').value.countryCode !== companyCountry">
                <div class="form-group col-xs-12 col-sm-4">
                    <label for="">Foreign Opening Balance</label>
                    <div class="" [ngClass]="{'input-group': addAccountForm.get('foreignOpeningBalance').value > 0}">
                        <input type="text" min="0" class="form-control text-right" formControlName="foreignOpeningBalance" placeholder="00.00" decimalDigitsDirective />
                        <div class="input-group-addon" (click)="openingBalanceTypeChnaged('DEBIT')" [ngClass]="
                 {'active-toggle-btn': addAccountForm.get('openingBalanceType').value === 'DEBIT',
                  'cp': addAccountForm.get('openingBalance').value > 0}" *ngIf="addAccountForm.get('foreignOpeningBalance').value > 0">DR.
                        </div>
                        <div class="input-group-addon" (click)="openingBalanceTypeChnaged('CREDIT')" [ngClass]="
                 {'active-toggle-btn': addAccountForm.get('openingBalanceType').value === 'CREDIT',
                  'cp': addAccountForm.get('openingBalance').value > 0}" *ngIf="addAccountForm.get('foreignOpeningBalance').value > 0">CR.
                        </div>
                    </div>
                </div>
            </div>
            <ng-container *ngIf="isHsnSacEnabledAcc">
                <div class="row">
                    <div class="col-xs-6 col-sm-6 form-group">
                        <label class="d-block">HSN</label>
                        <div class="input-group">
                            <span class="input-group-addon">
                                <input type="radio" class="" formControlName="hsnOrSac" value='hsn' name="hsnOrSac">
                            </span>
                            <input type="text" class="form-control" digitsOnlyDirective formControlName="hsnNumber" class="form-control" name="hsnNumber" maxLength="10">
                        </div>
                    </div>
                    <div class="col-xs-6 col-sm-6 form-group">
                        <label class="d-block">SAC</label>
                        <div class="input-group">
                            <span class="input-group-addon">
                                <input type="radio" class="" formControlName="hsnOrSac" value='sac' name="hsnOrSac" />
                            </span>
                            <input type="text" digitsOnlyDirective formControlName="sacNumber" class="form-control " name="sacNumber" maxLength="10">
                        </div>
                    </div>
                </div>
            </ng-container>
        </div>
    </div>

    <tabset #staticTabs class="custom-tabs " id="asidePaneFormTabs">
        <ng-container>
            <tab heading="Address" class="gstinAddress" [active]="isDebtorCreditor" [disabled]="!isDebtorCreditor" (selectTab)="tabChanged('address')">
                <ng-container>
                    <div class="gstinForm" formArrayName="addresses">
                        <ng-container *ngFor="let gst of addAccountForm.get('addresses')['controls'] | slice: 0:gstDetailsLength;let i = index;let f = first; let l = last" [formGroupName]="i">
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="add-address-default">
                                        <h3>Address {{i+1}}</h3>
                                        <div class="inputRadio">
                                            <input type="checkbox" name="defaultGst_{{i}}" formControlName="isDefault" (change)="isDefaultAddressSelected(gst.get('isDefault').value, i)" tooltip="Mark as default" placement="left">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Street</label>
                                        <!-- <textarea class="form-control" rows="4" cols="5"></textarea> -->
                                        <textarea name="gstAddr_{{i}}" formControlName="address" rows="4" cols="5" class="form-control"></textarea>
                                    </div>

                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <label>State <sup class="text-danger" *ngIf="isStateRequired">*</sup> </label>
                                        <div>
                                            <sh-select #states [options]="statesSource$ | async" [isFilterEnabled]="true" [defaultValue]="gst.value.state.code ? gst.value.state.code + ' - ' + gst.value.state.name: ''" (selected)="selectedState(gst, $event)" [forceClearReactive]="forceClear$ | async"
                                                formControlName="stateCode" class="wd100" [useInBuiltFilterForIOptionTypeItems]="true">
                                            </sh-select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-4" *ngIf="GSTIN_OR_TRN">
                                    <div class="form-group mb-05">
                                        <label for="gstinNum" class="d-block">{{formFields['taxName'].label}}</label>
                                        <input type="text" class="form-control" autocomplete="false" autocomplete="false" #gstNumberField (keyup)="getStateCode(gst, states);" (blur)="checkGstNumValidation(gstNumberField);" name="gstNumber" formControlName="gstNumber" placeholder="Enter {{formFields['taxName'].label}}"
                                        />
                                    </div>
                                </div>

                                <ng-container *ngIf="companyCountry ==='IN'">
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label>Party Type<span class="red-text">*</span></label>
                                            <div class="pos-rel">
                                                <sh-select [options]="partyTypeSource" formControlName="partyType" [isFilterEnabled]="true"></sh-select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-sm-4" *ngIf="gst.get('gstNumber').value && (isGstValid$ | async)">
                                        <div class="form-group">
                                            <label class="d-block">&nbsp;</label>
                                            <label>
                                                <input type="checkbox" name="isComposite"
                                                    formControlName="isComposite"><label>&nbsp; Is Composite?
                                                </label></label>

                                        </div>
                                    </div>
                                </ng-container>
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <span class="text-right">
                                            <a href="javascript:void(0);" *ngIf="!f" (click)="removeGstDetailsForm(i)"
                                                class="grey-clr btn btn-danger">
                                                <i class="icon-cross"> </i> Remove
                                            </a>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="row" *ngIf="l && (addAccountForm.get('addresses')['controls'].length > 3) && !(moreGstDetailsVisible)">
                                <a href="javascript:void(0);" class="text-left col-xs-6 cursor-pointer" (click)="showMoreGst()">Show all
                                    ({{addAccountForm.get('addresses')['controls'].length}})</a>
                                <a href="javascript:void(0);" class="text-left col-xs-6 cursor-pointer" (click)="showLessGst()">Show
                                    Less </a>
                            </div>
                            <div *ngIf="l">
                                <a class="text-right btn btn-primary" href="javascript:void(0);" (click)="addGstDetailsForm(gst.get('gstNumber').value)">
                                    <i class="icon-plus"></i> Add Address
                                </a>
                            </div>
                        </ng-container>
                    </div>
                </ng-container>

                <!-- <div class="row">
                        <div class="col-sm-12"> <button class="btn btn-primary mr-t2" (click)="addAddress = !addAddress">+ Add
                Address</button></div>
                    </div> -->

            </tab>
        </ng-container>

        <tab heading="Contact" class="ContactFromWrap" [active]="!isDebtorCreditor" (selectTab)="tabChanged('contacts')">
            <div class="contactForm">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Attention to (will be used in Invoice)</label>
                            <input type="text" class="form-control" formControlName="attentionTo" name="attention" />
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Mobile Number</label>
                            <div class="d-flex mobileNumberWidth">
                                <sh-select [placeholder]="'+91'" [options]="countryPhoneCode" formControlName="mobileCode" style="width: 60px; margin-right: 10px;"></sh-select>
                                <input type="text" pattern="[0-9]*" class="form-control pull-right" placeholder="98XXXXXXXX" formControlName="mobileNo" id="contactNo" autocomplete="off" (blur)="isValidMobileNumber(mobileNoEl)" #mobileNoEl />
                                <small class="clearfix error-msg" *ngIf="addAccountForm.get('mobileNo').value && !addAccountForm.get('mobileCode').value">Phone
                                    code
                                    required
                                </small>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Email Id</label>
                            <input type="email" class="form-control" formControlName="email" name="emailId" />
                            <span class="error-msg" *ngIf="addAccountForm.get('email').dirty && addAccountForm.get('email').errors">*Invalid
                                Email
                                address</span>
                        </div>
                    </div>
                    <!-- <div class="col-sm-6">
                        <div class="form-group">
                            <label>PAN</label>
                            <input type="text" disabled class="form-control" placeholder="PAN Number">
                        </div>
                    </div> -->
                </div>
                <!-- <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Other Details</label>
                            <input type="text" disabled class="form-control" placeholder="Other">
                        </div>
                    </div>

                </div> -->
            </div>
            <!-- <div class="row">
                <div class="col-sm-12 mrT3">
                    <div class="button-group">
                        <button class="btn btn-cancel">Cancel</button>
                        <button class="btn btn-success">Save</button>
                    </div>
                </div>
            </div> -->
        </tab>


        <!-- bank details visible when sundry credtiors selected , right now is hide -->
        <tab heading="Bank Details" class="bankDetialsForm" *ngIf="showBankDetail" (selectTab)="tabChanged('bank')">
            <div *ngIf="showBankDetail">
                <div formArrayName="accountBankDetails">
                    <div class="row" *ngFor="let bank of addAccountForm.get('accountBankDetails')['controls'];let i = index;let f = first; let l = last" [formGroupName]="i">
                        <div class="form-group col-sm-6" [ngClass]="{'col-sm-5': selectedCountryCode !=='AE', 'col-sm-6': selectedCountryCode ==='AE' }" *ngIf="selectedCountryCode ==='AE'">
                            <label for="">Beneficiary Name</label>
                            <input type="text" class="form-control" placeholder="Enter Beneficiary Name " name="beneficiaryName_{{i}}" formControlName="beneficiaryName" />
                        </div>
                        <div class="form-group  col-sm-6" [ngClass]="{'col-sm-5': selectedCountryCode !=='AE', 'col-sm-6': selectedCountryCode ==='AE' }">
                            <label>Bank Name</label>
                            <input type="text" class="form-control" placeholder="Enter Bank Name" name="bankName_{{i}}" formControlName="bankName" />
                        </div>
                        <div class="form-group col-sm-4" *ngIf="selectedCountryCode ==='AE'">
                            <div>
                                <label>Branch Name</label>
                                <input type="text" class="form-control" placeholder="Enter Branch Name" name="branchName_{{i}}" formControlName="branchName" />
                            </div>
                        </div>
                        <div class="form-group col-sm-4">
                            <div>
                                <label *ngIf="selectedCountryCode==='IN' ">Account Number</label>
                                <label *ngIf="selectedCountryCode !=='IN' ">IBAN</label>
                                <input type="text" class="form-control" #bankaccount placeholder="Enter Account No." [maxlength]="bankIbanNumberMaxLength" [minlength]="bankIbanNumberMinLength" name="accountNum_{{i}}" (blur)="showBankDetailsValidation(bankaccount,'bankAccountNo')" (keyup)="bankDetailsValidator(bankaccount, 'bankAccountNo')"
                                    formControlName="bankAccountNo" />
                            </div>
                        </div>
                        <div class="form-group col-sm-4" *ngIf="selectedCountryCode ==='AE'">
                            <label>SWIFT Code/BIC</label>
                            <input type="text" class="form-control" placeholder="Enter SWIFT/BIC Code" maxlength="11" minlength="8" #swiftcode name="swiftCode_{{i}}" (blur)="showBankDetailsValidation(swiftcode,'swiftCode')" (keyup)="bankDetailsValidator(swiftcode, 'swiftCode')"
                                formControlName="swiftCode" />
                        </div>
                        <div *ngIf="selectedCountryCode!=='AE'" class="form-group col-sm-3">
                            <label>IFSC Code</label>
                            <input type="text" class="form-control" placeholder="Enter IFSC Code" name="ifsc_{{i}}" formControlName="ifsc" />
                        </div>
                    </div>
                </div>
            </div>
        </tab>

        <tab heading="Others " class="otherFormWrap " (selectTab)="tabChanged('others')">

            <div class="otherForm ">
                <div class="row ">
                    <div class="col-sm-6 ">
                        <div class="form-group ">
                            <label>Account Unique Name</label>
                            <input type="text" class="form-control" [control]="addAccountForm.get('uniqueName')" textCaseChangeDirective UniqueNameDirective formControlName="uniqueName" name="accUnqname" />
                        </div>
                    </div>

                    <div class="form-group col-sm-6">
                        <label>Balance for Trigger</label>
                        <div class="input-group" [ngClass]="{'input-group': addAccountForm.get('closingBalanceTriggerAmount').value > 0}">
                            <input type="number" min="0" class="form-control text-right" formControlName="closingBalanceTriggerAmount" placeholder="00.00" />
                            <div class="input-group-addon" (click)="closingBalanceTypeChanged('DEBIT')" [ngClass]="
                {'active-toggle-btn': addAccountForm.get('closingBalanceTriggerAmountType').value === 'DEBIT',
                'cp': addAccountForm.get('closingBalanceTriggerAmount').value > 0}" *ngIf="addAccountForm.get('closingBalanceTriggerAmount').value > 0">DR.
                            </div>
                            <div class="input-group-addon" (click)="closingBalanceTypeChanged('CREDIT')" [ngClass]="
                {'active-toggle-btn': addAccountForm.get('closingBalanceTriggerAmountType').value === 'CREDIT',
                'cp': addAccountForm.get('closingBalanceTriggerAmount').value > 0}" *ngIf="addAccountForm.get('closingBalanceTriggerAmount').value > 0">CR.
                            </div>
                        </div>
                    </div>

                </div>

                <div class="row ">
                    <div class="col-sm-12 ">
                        <div class="form-group ">
                            <label>Description</label>
                            <textarea rows="3 " cols="4" name="description" formControlName="description" class="form-control "></textarea>
                        </div>
                    </div>
                </div>

                <!-- <div class="row ">
                    <div class="col-sm-10 ">
                        <div class="form-group ">
                            <label>Move to Group</label>
                            <input type="text " class="form-control " placeholder="Group Name ">
                        </div>
                    </div>
                    <div class="col-sm-2 pdL0 ">
                        <label>&nbsp;</label>
                        <button class="btn btn-sky-blue ">Move</button>
                    </div>
                </div>
                <div class="row ">
                    <div class="col-sm-10 ">
                        <div class="form-group ">
                            <label>Select account to merge with</label>
                            <input type="text " class="form-control " placeholder="Select account ">
                        </div>
                    </div>
                    <div class="col-sm-2 pdL0 ">
                        <label>&nbsp;</label>
                        <button class="btn btn-sky-blue ">Merge</button>
                    </div>
                </div> -->
            </div>

        </tab>
    </tabset>
    <div class="row" *ngIf="!isOtherSelectedTab">
        <div class="col-sm-12 mrT3">
            <div class="button-group">
                <!-- <button class="btn btn-cancel">Cancel</button>
                        <button type="submit" class="btn btn-success" [ladda]="createAccountInProcess$ | async" [disabled]="addAccountForm.invalid">Save</button> -->
                <button type="button" *ngIf="showDeleteButton" class="btn btn-danger " (click)="deleteClicked.emit(true)">
                    Delete
                </button>
                <button (click)="submit()" class="btn btn-primary updateBtnZindex" [ladda]="createAccountInProcess$ | async" [disabled]="addAccountForm.invalid || !(isGstValid$ | async)">Update
                </button>
            </div>
        </div>
    </div>
</form>
<div class="form" *ngIf="isOtherSelectedTab">
    <div>
        <!-- <div class="col-xs-12 mr-b2 select-box">
            <div class="form-group ">
                <label>Default discount <span
                        class="primary_clr"></span></label>
                <div class="clearfix">
                    <span>
                        <sh-select class="pull-left" [options]="discountList" [isFilterEnabled]="true" [forceClearReactive]="forceClearDiscount$ | async"  [multiple]="true" [(ngModel)]="selectedDiscounts" [placeholder]="'Select discounts'" style="width: calc(100% - 93px);"></sh-select>
                    </span>
                    <span class="pull-right">
                        <button  class="btn btn-primary marge-btn"  [disabled]="selectedDiscounts.length===0" (click)="applyDiscount()">Apply</button>
                    </span>

                </div>
            </div>
        </div>
    </div> -->
        <div *ngIf="(activeAccount$ | async)" class="form-group">
            <form name="moveAccountForm" class="clearfix move-to-group " novalidate (submit)="moveAccount()" [formGroup]="moveAccountForm">
                <div class="row">
                    <div class=" col-sm-12 ">
                        <div class="form-group ">
                            <label>Move to Group</label>
                            <span>
                                <sh-select formControlName="moveto" [placeholder]="'Group name'"
                                    [options]="flatGroupsOptions" [customFilter]="customMoveGroupFilter"
                                    class="pull-left" style="width: calc(100% - 93px); ">
                                    <!--template for move group typeahead-->
                                    <ng-template #optionTemplate let-model="option">
                                        <a href="javascript:void(0)" class="list-item"
                                            style="border-bottom:1px solid #ccc;">
                                            <div class="item">{{ model.label }}</div>
                                            <div class="item-unique">
                                                {{ model.value }}
                                            </div>
                                        </a>
                                    </ng-template>
                                </sh-select>
                            </span>
                            <span class="pull-right">
                                <button type="submit" class="btn btn-primary marge-btn"
                                    [disabled]="moveAccountForm.invalid">Move</button>
                            </span>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="row ">
            <div class="col-sm-12 ">
                <div class="form-group ">
                    <label>Select account to merge with <span
                            class="primary-color">{{(activeAccount$ | async)?.name}}</span></label>
                    <div class="clearfix" #accountSelect2>
                        <span>
                            <sh-select class="pull-left" [options]="accounts$ | async" [isFilterEnabled]="true"
                                (viewInitEvent)="loadAccountData()" [multiple]="true"
                                [(ngModel)]="selectedaccountForMerge" [placeholder]="'Select Accounts'"
                                style="width: calc(100% - 93px);"></sh-select>
                        </span>
                        <span class="pull-right">
                            <button type="submit" class="btn btn-primary marge-btn"
                                (click)="mergeAccounts()">Merge</button>
                        </span>
                    </div>
                    <small class="clearfix">This option is risky and can not be undone</small>

                    <ul class="accmerge mr-t1" *ngIf="(activeAccount$ | async)?.mergedAccounts.split(',').length > 0 && (activeAccount$ | async)?.mergedAccounts.split(',')[0] !== ''">
                        <li *ngFor="let merged of (activeAccount$ | async)?.mergedAccounts.split(',')">
                            <a href="javascript:void(0);" [ngClass]="{'isActive': setAccountForMove === merged}" (click)="setAccountForMoveFunc(merged)">
                                {{merged}}
                                <span class="" (click)="showDeleteMergedAccountModal(merged)">×</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

    </div>
    <!-- commenting/hiding due to API deployment process in going on for prod (use : isDebtorCreditor && isOtherSelectedTab) -->
    <div class="form" *ngIf="false">
        <div class="mrB2 select-box">
            <div class="form-group ">
                <label>Default Discount <span
                    class="primary-color"></span></label>
                <div class="clearfix">
                    <span>
                        <sh-select class="pull-left calc-width" [options]="discountList" [isFilterEnabled]="true" [forceClearReactive]="forceClearDiscount$ | async"  [multiple]="true" [(ngModel)]="selectedDiscounts" placeholder="Select discounts" ></sh-select>
                    </span>
                    <span class="pull-right">
                        <button  class="btn btn-primary mrgeBtn"  [disabled]="selectedDiscounts.length===0" (click)="applyDiscounts()">Apply</button>
                    </span>
                </div>
            </div>
        </div>
        <div class="edit-tax-section">
            <div class="form-group">
                <div class="tax-label">
                    <label>All Inherited Discounts</label>
                </div>
                <div *ngFor="let item of (activeAccount$ | async)?.inheritedDiscounts">
                    <ng-template #popTemplate>
                        <div class="popover-content">
                            <label>Discount being inherited from:</label>
                            <ul>
                                <li>{{item.name}}</li>
                            </ul>
                        </div>
                    </ng-template>
                    <span class="tax-bullet" *ngFor="let inAppDiscount of item.applicableDiscounts" [popover]="popTemplate" placement="right" triggers="mouseenter:mouseleave">{{ inAppDiscount.name }}
                </span>
                </div>
                <p *ngIf="!(activeAccount$ | async)?.inheritedDiscounts.length">No Inherited Discounts</p>
            </div>
        </div>
    </div>

    <!-- taxes container -->
    <ng-container *ngIf="(isTaxableAccount$ | async)">
        <div class="row" *ngIf="selectedTab === 'others'">
            <div class="col-sm-12">
                <form name="taxGroupForm" novalidate [formGroup]="taxGroupForm" (submit)="applyTax()">
                    <div class="tax-label">
                        <label>Default Taxes</label>
                    </div>
                    <div class="form-group">
                        <div class="clearfix">
                            <span class="calc-width pull-left">
                                <sh-select  [options]="companyTaxDropDown | async" [placeholder]="'Select Tax'" [multiple]="true" formControlName="taxes">
                                </sh-select>
                            </span>
                            <span class="pull-right">
                                <button type="submit" class="btn btn-success">Save</button>
                            </span>
                        </div>
                    </div>
                </form>


                <!-- *ngIf="showEditTaxSection" -->
                <div class="edit-tax-section">
                    <div class="form-group">
                        <div class="tax-label">
                            <label>All Inherited Taxes</label>
                        </div>
                        <div *ngFor="let inTax of (activeAccountTaxHierarchy$ | async)?.inheritedTaxes">
                            <ng-template #popTemplate>
                                <div>
                                    <div class="popover-content">
                                        <label>Tax being inherited from:</label>
                                        <ul>
                                            <li>{{inTax.name}}</li>
                                        </ul>
                                    </div>
                                </div>
                            </ng-template>
                            <span class="tax-bullet" *ngFor="let inAppTax of inTax.applicableTaxes" [popover]="popTemplate" placement="right" triggers="mouseenter:mouseleave">{{ inAppTax.name }}
                            </span>
                        </div>
                        <p *ngIf="!(activeAccountTaxHierarchy$ | async)?.inheritedTaxes.length">No Inherited Taxes
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </ng-container>
    <div class="row" *ngIf="isOtherSelectedTab">
        <div class="col-sm-12 mrT3">
            <div class="button-group">
                <!-- <button class="btn btn-cancel">Cancel</button>
                        <button type="submit" class="btn btn-success" [ladda]="createAccountInProcess$ | async" [disabled]="addAccountForm.invalid">Save</button> -->
                <button type="button" *ngIf="showDeleteButton" class="btn btn-danger " (click)="deleteClicked.emit(true)">
                    Delete
                </button>
                <button (click)="submit()" class="btn btn-primary updateBtnZindex" [ladda]="createAccountInProcess$ | async" [disabled]="addAccountForm.invalid || !(isGstValid$ | async)">Update
                </button>
            </div>
        </div>
    </div>
    <!--deleteMergedAccount account modal  -->
    <div bsModal #deleteMergedAccountModal="bs-modal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <confirm-modal [title]="'Delete Merged Account'" [body]='deleteMergedAccountModalBody' (cancelCallBack)="hideDeleteMergedAccountModal()" (successCallBack)="deleteMergedAccount()">
                </confirm-modal>
            </div>
        </div>
    </div>
    <!--moveMergedAccount account modal  -->
    <div bsModal #moveMergedAccountModal="bs-modal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <confirm-modal [title]="'Move Merged Account'" [body]='moveMergedAccountModalBody' (cancelCallBack)="hideMoveMergedAccountModal()" (successCallBack)="moveMergeAccountTo()">
                </confirm-modal>
            </div>
        </div>
    </div>

    <!--delete Account modal  -->
    <!-- <div bsModal #deleteAccountModal="bs-modal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <confirm-modal [title]="'Delete Account'" [body]="'Are you sure you want to delete this Account?'" (cancelCallBack)="hideDeleteAccountModal()" (successCallBack)="deleteAccount()">
            </confirm-modal>
        </div>
    </div>
</div> -->
