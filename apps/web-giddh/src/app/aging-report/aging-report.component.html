<div class="container-fluid">
    <!-- <div class="top_bar clearfix">

        <div class="form-inline">
            <div class="dis pull-left">

            </div>
            <div class="pull-left header-left">


                <div class="form-group max250" *ngIf="activeTab !== 'aging'">
                    <input type="text" placeholder="Search" class="form-control" [(ngModel)]="filter" />
                </div>

            </div>

            <div class="btn-group plus-btn pull-right">
                <button *ngIf="activeTab == 'customer'" class="btn btn-blue" style="margin-right: 5px" (click)="openAddAndManage('customer')">
      Add New Customer
    </button>
                <button *ngIf="activeTab == 'vendor'" class="btn btn-blue " (click)="openAddAndManage('vendor')">+
      Add New Vendor</button>
            </div>

        </div>
    </div> -->

    <div class="contact-main">
        <div class="table-responsive pdB2 mrB1">
            <perfect-scrollbar>

                <table style="min-height: 210px" class="table basic table-bordered aging-table table-aging-report">
                    <thead>
                        <tr class="aging-table-top">
                            <td></td>
                            <td></td>
                            <td></td>
                            <td colspan="4" class="text-center top-aging-table-top">
                                <p><strong>Due as on </strong> <span class="italic underline">          
              <input type="text" name="daterangeInputs" daterangepicker [options]="datePickerOptions"
            (hideDaterangepicker)="selectedDate($event)" (applyDaterangepicker)="selectedDate($event)"
            class="form-control date-range-picker"/>
          </span></p>

                                <aging-dropdown *ngIf="setDueRangeOpen$|async" [options]="agingDropDownoptions" (closeEvent)="closeAgingDropDownop($event)" (clickOutside)="closeAgingDropDown()" [attachOutsideOnClick]="true"></aging-dropdown>


                            </td>
                            <td></td>
                        </tr>


                        <tr>
                            <th (click)="sort('name')">Customer Name
                                <a href="javascript:void(0)">
                                    <i class="fa fa-sort"></i></a>
                            </th>
                            <th (click)="sort('totalDueAmount')">Total Due
                                <a href="javascript:void(0)">
                                    <i class="fa fa-sort"></i></a>
                            </th>
                            <th (click)="sort('futureDueAmount')">Future Due
                                <a href="javascript:void(0)">
                                    <i class="fa fa-sort"></i></a>
                            </th>
                            <th class="italic unbold underline"><span (click)="openAgingDropDown()">0-{{(agingDropDownoptions$| async )?.fourth}} Days</span>
                                <a href="javascript:void(0)" (click)="sort('dueAmount')">
                                    <i class="fa fa-sort"></i></a>
                            </th>
                            <th class="italic unbold underline"><span (click)="openAgingDropDown()">{{(agingDropDownoptions$| async )?.fourth+1}}-{{((agingDropDownoptions$| async )?.fifth)}} Days </span>
                                <a href="javascript:void(0)" (click)="sort('dueAmount1')">
                                    <i class="fa fa-sort"></i></a>
                            </th>
                            <th class="italic unbold underline"><span (click)="openAgingDropDown()">{{((agingDropDownoptions$| async )?.fifth + 1)}}-{{((agingDropDownoptions$| async )?.sixth)}} Days </span>
                                <a href="javascript:void(0)" (click)="sort('dueAmount2')">
                                    <i class="fa fa-sort"></i></a>
                            </th>
                            <th class="italic unbold underline"><span (click)="openAgingDropDown()">{{(agingDropDownoptions$| async )?.sixth + 1 }}+ Days  </span>
                                <a href="javascript:void(0)" (click)="sort('dueAmount3')">
                                    <i class="fa fa-sort"></i></a>
                            </th>
                            <th (click)="sort('totalDueAmount')">Total Due
                                <a href="javascript:void(0)">
                                    <i class="fa fa-sort"></i></a>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <ng-container *ngFor="let entry of (dueAmountReportData$ | async)?.results | orderBy: key : reverse | filter:filter;">
                            <tr *ngIf="(dueAmountReportData$ | async)?.results?.length">

                                <td>{{ entry.name }}</td>
                                <td> {{ entry.totalDueAmount |giddhCurrency }}</td>
                                <td>{{ entry.futureDueAmount |giddhCurrency}}</td>
                                <td>{{ entry.currentAndPastDueAmount[0].dueAmount |giddhCurrency }}</td>
                                <td>{{ entry.currentAndPastDueAmount[1].dueAmount |giddhCurrency}}</td>
                                <td>{{ entry.currentAndPastDueAmount[2].dueAmount |giddhCurrency}}</td>
                                <td>{{ entry.currentAndPastDueAmount[3].dueAmount |giddhCurrency}}</td>
                                <td> {{ entry.totalDueAmount |giddhCurrency}}</td>
                            </tr>
                        </ng-container>

                        <ng-container *ngIf="!(dueAmountReportData$ | async)?.results?.length">
                            <tr>
                                <td colspan="8" class="text-center empty_table">
                                    <h1>No Record Found !!</h1>
                                </td>
                            </tr>
                        </ng-container>
                    </tbody>
                    <tfoot *ngIf="(dueAmountReportData$ | async)?.totalItems>=20">
                        <tr>
                            <td colspan="100%">
                                <div class="alC mt-4 mb-4" style="text-align: center;">
                                    <div id="pagination" element-view-container-ref #paginationChild=elementviewcontainerref></div>
                                </div>
                            </td>
                        </tr>
                    </tfoot>
                </table>

            </perfect-scrollbar>

        </div>
    </div>
</div>


<div class="container-fluid">
    <div class="row">
        <div class="col-md-6">
            <div class="customer-footer-box">

            </div>
        </div>

        <div class="col-md-6">
            <div class="text-right">
                <h4 class="mb-1">Result Total </h4>
            </div>
            <div class="bg-white customer-right">
                <table>
                    <tr>
                        <td>
                            <p>Upcoming</p>
                            <h3>{{getFutureTotalDue()| giddhCurrency }}</h3>
                        </td>

                        <td>
                            <p>Due</p>
                            <h3>{{getTotalDue()| giddhCurrency}}</h3>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>