<div class="add-company-wrapper">
    <ng-container>
        <div>
            <p class="text-center p-3">Enter your company information to start hassle free accounting with Giddh.</p>
        </div>
        <mat-stepper linear #stepper [formGroup]="companyForm" name="companyForm" autocomplete="off" novalidate>
            <mat-step [stepControl]="firstStepForm">
                <form [formGroup]="firstStepForm" name="firstStepForm" autocomplete="off" novalidate>
                    <ng-template matStepLabel>Company Name</ng-template>
                    <div class="row row-gap">
                        <div class="col-lg-12">
                            <input-field
                                [name]="'name'"
                                [placeholder]="'Company Name'"
                                [type]="'text'"
                                formControlName="name"
                                [required]="true"
                                [showError]="!companyForm.get('name')?.value"
                            >
                            </input-field>
                        </div>
                        <div class="col-lg-6 currency-space">
                            <dropdown-field
                                [name]="'country'"
                                [placeholder]="'Country'"
                                [options]="countries"
                                (selectedOption)="selectCountry($event)"
                            >
                            </dropdown-field>
                        </div>
                        <div class="col-lg-6 country-space">
                            <dropdown-field
                                [name]="'currency'"
                                [placeholder]="'Currency'"
                                [options]="currencies"
                                (selectedOption)="selectedCurrency = $event.value; selectedCurrencyName = $event.label"
                                [defaultValue]="selectedCurrencyName"
                            >
                            </dropdown-field>
                        </div>
                        <div class="col-lg-12 mobile-number pb-3 pt-1">
                            <input-field
                                [name]="'mobileNumber'"
                                [type]="'tel'"
                                #initContactProforma
                                [id]="'init-contact-proforma'"
                                (keydown.enter)="$event.preventDefault()"
                                [label]="commonLocaleData?.app_mobile_number"
                                [placeholder]="'98XXXXXXXX'"
                                [floatLabel]="intl?.getNumber() ? 'always' : 'auto'"
                            >
                            </input-field>
                            <span id="init-contact-proforma-valid-msg" class="d-none"></span>
                            <span id="init-contact-proforma-error-msg" class="d-none"></span>
                        </div>
                    </div>
                    <div>
                        <button
                            mat-stroked-button
                            color="primary"
                            [disabled]="firstStepForm.invalid"
                            matStepperNext
                            (click)="onSubmitFirstStep()"
                        >
                            Next
                        </button>
                    </div>
                </form>
            </mat-step>
            <mat-step [stepControl]="secondStepForm" name="secondStepForm" autocomplete="off" novalidate>
                <form [formGroup]="secondStepForm">
                    <ng-template matStepLabel>Company Address</ng-template>
                    <div class="row row-gap">
                        <div class="col-lg-12">
                            <input-field
                                [placeholder]="'Company Name'"
                                [type]="'text'"
                                [required]="true"
                                [showError]="!companyForm.get('name')?.value"
                            >
                            </input-field>
                        </div>
                        <div class="col-lg-6 country-space">
                            <dropdown-field [placeholder]="'Country'" disabled> </dropdown-field>
                        </div>
                        <div class="col-lg-6 currency-space">
                            <dropdown-field [placeholder]="'Currency'" disabled> </dropdown-field>
                        </div>
                        <div class="col-lg-12 mobile-number">
                            <input-field
                                [name]="'accountDetails.mobileNumber'"
                                [type]="'tel'"
                                #initContactProforma
                                [id]="'init-contact-proforma'"
                                (keydown.enter)="$event.preventDefault()"
                                [label]="commonLocaleData?.app_mobile_number"
                                [placeholder]="'98XXXXXXXX'"
                                [floatLabel]="intl?.getNumber() ? 'always' : 'auto'"
                            >
                            </input-field>
                        </div>
                        <div class="col-lg-12">
                            <dropdown-field [placeholder]="'Select Business Type'" [name]="'bussinessType'">
                            </dropdown-field>
                        </div>
                        <div class="col-lg-12">
                            <dropdown-field [placeholder]="'Select Business Nature'" [name]="'bussinessNature'">
                            </dropdown-field>
                        </div>
                        <div class="col-lg-12">
                            <input-field [placeholder]="'GSTIN'" [name]="'gstin'" required> </input-field>
                        </div>
                        <div class="col-lg-12">
                            <dropdown-field [placeholder]="'State'" [name]="'state'" required> </dropdown-field>
                        </div>
                        <div class="col-lg-12">
                            <mat-form-field class="w-100" appearance="outline">
                                <mat-label>Applicable Tax</mat-label>
                                <mat-select name="tax" formControlName="tax" [placeholder]="'Applicable Tax'" multiple>
                                    <mat-option>GST5</mat-option>
                                    <mat-option>GST12</mat-option>
                                    <mat-option>GST18</mat-option>
                                    <mat-option>GST28</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-12">
                            <input-field [placeholder]="'PIN Code'" [name]="'pincode'" formControlName="pincode">
                            </input-field>
                        </div>
                        <div class="col-lg-12">
                            <mat-form-field appearance="outline" class="w-100">
                                <mat-label>Company Address</mat-label>
                                <textarea matInput rows="3" [name]="'pincode'" formControlName="pincode"></textarea>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-12">
                            <p class="pb-4">Note: You can always change your preferences later in Settings.</p>
                            <p>
                                Create and apply taxes on all types of transactions! To get tax reports, contact
                                <a href="mailto:sales@giddh.com">sales@giddh.com</a> !
                            </p>
                        </div>
                    </div>
                    <div class="pt-4">
                        <button mat-stroked-button matStepperPrevious class="mr-3">Back</button>
                        <button mat-stroked-button color="primary" (click)="onSubmit()">Submit</button>
                    </div>
                </form>
            </mat-step>
        </mat-stepper>
    </ng-container>
</div>
