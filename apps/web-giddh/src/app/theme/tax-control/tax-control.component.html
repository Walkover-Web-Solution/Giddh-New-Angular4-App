<span class="pr tax-control-cmp" (clickOutside)="showTaxPopup = false"
    (click)="$event.stopPropagation()">
    <label class="font-12" *ngIf="showHeading">{{ customHeading ? customHeading : 'Tax' }} <sup class="mandatory-asterisk" *ngIf="isMandatory">*</sup></label>

    <a id="tax" class="clearfix">

        <div class="multi-select adjust" id="tax-control-multi-select">

            <input #taxInputElement type="text" id="tax-control-input" readonly name="sum" *ngIf="!maskInput"
                class="form-control cursor-pointer text-right tax-input" [(ngModel)]="taxTotalAmount"
                (focus)="handleInputFocus()" style="padding-right:28px !important;" />

            <input #taxInputElement type="text"  id="tax-control-input-mask" readonly name="sum" *ngIf="maskInput"
                class="form-control cursor-pointer text-right tax-input" [(ngModel)]="taxTotalAmount" [mask]="maskInput"
                [prefix]="prefixInput" [suffix]="suffixInput" (focus)="handleInputFocus()"
                style="padding-right:24px !important;" />
        </div>
    </a>

    <div class="pr">
        <ul class="dropdown-menu pd"
            [ngStyle]="{'display': showTaxPopup ? 'block': 'none'}" (click)="$event.stopPropagation()"
            [style.max-height.px]="102" [style.min-height.px]="70" style="left: unset;top: 0px;">
            <li *ngIf="taxRenderData.length === 0">
                <p class="lead pd">No Taxes Found</p>
            </li>

            <li class="relative" *ngFor="let tax of taxRenderData;trackBy: trackByFn; let idx = index">
                <label class="checkbox oh width100 bdrB pdB customItem" placement="bottom"
                    *ngIf="(taxRenderData.length - 1) !== idx"  (click)="$event.stopPropagation()"
                    [ngClass]="{'disabled-label': tax.isDisabled}">
                    <input class="pull-left" id="{{'tax-control-checkbox-' + idx}}" name="tax_{{idx}}" type="checkbox" [(ngModel)]="tax.isChecked"
                        (change)="change()" (click)="$event.stopPropagation()" [disabled]="tax.isDisabled" />
                    <span class="pull-left ellp">{{tax.name}}</span>
                </label>
                <label class="checkbox oh width100 bdrB pdB customItem" placement="top"
                    *ngIf="(taxRenderData.length - 1) === idx" (click)="$event.stopPropagation()"
                    [ngClass]="{'disabled-label': tax.isDisabled}">
                    <input class="pull-left" id="{{'tax-checkbox-' + idx}}" name="tax_{{idx}}" type="checkbox" [(ngModel)]="tax.isChecked"
                        (change)="change()" (click)="$event.stopPropagation()" [disabled]="tax.isDisabled" />
                    <span class="pull-left ellp">{{tax.name}}</span>
                </label>
            </li>
        </ul>
    </div>

    <div tabindex="0" (focus)="onFocusLastDiv($event)"></div>
</span>
