<span class="position-relative tax-control-cmp" (click)="$event.stopPropagation()">
    <label class="font-12" *ngIf="showHeading"
        >{{ customHeading ? customHeading : commonLocaleData?.app_tax }}
        <sup class="mandatory-asterisk" *ngIf="isMandatory">*</sup></label
    >

    <a id="tax" class="clearfix">
        <div class="multi-select adjust" id="tax-control-multi-select">
            <input
                matInput
                #taxInputElement
                type="text"
                id="tax-control-input"
                readonly
                name="sum"
                *ngIf="!maskInput"
                class="form-control cursor-pointer text-right tax-input pd-r3"
                [(ngModel)]="taxTotalAmount"
                (focus)="handleInputFocus()"
            />

            <input
                matInput
                #taxInputElement
                type="text"
                id="tax-control-input-mask"
                readonly
                name="sum"
                *ngIf="maskInput"
                class="form-control cursor-pointer text-right tax-input pd-r2"
                [(ngModel)]="taxTotalAmount"
                [mask]="maskInput"
                [prefix]="prefixInput"
                [suffix]="suffixInput"
                [matMenuTriggerFor]="menu"
                (focus)="handleInputFocus()"
            />
        </div>
    </a>

    <div class="position-relative">
        <mat-menu #menu="matMenu" yPosition="below" class="tax-control-menu">
            <button mat-menu-item disableRipple *ngIf="taxRenderData.length === 0">
                <p class="lead pd">{{ commonLocaleData?.app_no_tax_found }}</p>
            </button>

            <button
                mat-menu-item
                disableRipple
                class="relative"
                *ngFor="let tax of taxRenderData; trackBy: trackByFn; let idx = index"
            >
                <mat-checkbox
                    color="primary"
                    *ngIf="taxRenderData.length - 1 !== idx"
                    (click)="$event.stopPropagation()"
                    [ngClass]="{ 'disabled-label': tax.isDisabled }"
                    class="pull-left"
                    id="{{ 'tax-control-checkbox-' + idx }}"
                    name="tax_{{ idx }}"
                    [(ngModel)]="tax.isChecked"
                    (change)="change($event)"
                    (click)="$event.stopPropagation()"
                    [disabled]="tax.isDisabled"
                >
                    {{ tax.name }}
                </mat-checkbox>
                <mat-checkbox
                    color="primary"
                    *ngIf="taxRenderData.length - 1 === idx"
                    (click)="$event.stopPropagation()"
                    [ngClass]="{ 'disabled-label': tax.isDisabled }"
                    class="pull-left"
                    id="{{ 'tax-checkbox-' + idx }}"
                    name="tax_{{ idx }}"
                    [(ngModel)]="tax.isChecked"
                    (change)="change($event)"
                    (click)="$event.stopPropagation()"
                    [disabled]="tax.isDisabled"
                >
                    {{ tax.name }}
                </mat-checkbox>
            </button>
        </mat-menu>
    </div>
</span>
