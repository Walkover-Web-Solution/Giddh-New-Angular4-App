<span class="pr tax-control-cmp" (clickOutside)="showTaxPopup = false" (click)="$event.stopPropagation()">
  <label *ngIf="showHeading">Tax</label>

  <a id="tax" class="clearfix">

    <div class="multi-select adjust" id="tax-control-multi-select">

      <input type="text" readonly name="sum" *ngIf="!maskInput" class="form-control cursor-pointer text-right taxInput"
             [(ngModel)]="taxTotalAmount"
             (focus)="showTaxPopup = true;hideOtherPopups.emit(true)" style="padding-right:20px !important;"/>


      <input type="text" readonly name="sum" *ngIf="maskInput" class="form-control cursor-pointer text-right taxInput"
             [(ngModel)]="taxTotalAmount" [mask]="maskInput" [prefix]="prefixInput" [suffix]="suffixInput"
             (focus)="showTaxPopup = true;hideOtherPopups.emit(true)" style="padding-right:20px !important;"/>

      <span class="caret cp no-select" (click)="showTaxPopup = !showTaxPopup"></span>

    </div>
  </a>

  <ul class="dropdown-menu pd" [ngStyle]="{'display': showTaxPopup ? 'block': 'none'}"
      (click)="$event.stopPropagation()"
      [style.max-height.px]="102" [style.min-height.px]="40" style="left: unset;top: 3px;">
    <li *ngIf="taxRenderData.length === 0">
        <p class="lead pd">No Taxes Found</p>
    </li>

    <li *ngFor="let tax of taxRenderData;trackBy: trackByFn; let idx = index">
        <label class="checkbox oh width100 bdrB pdB customItem" (click)="$event.stopPropagation()"
               [ngClass]="{'fake-disabled-label': tax.isDisabled}">
        <input class="pull-left" name="tax_{{idx}}" type="checkbox" [(ngModel)]="tax.isChecked" (change)="change()"
               (click)="$event.stopPropagation()" [disabled]="tax.isDisabled"
        />
        <span class="pull-left ellp">{{tax.name}}</span>
      </label>
    </li>
  </ul>

  <div tabindex="0" (focus)="onFocusLastDiv($event)"></div>
</span>
