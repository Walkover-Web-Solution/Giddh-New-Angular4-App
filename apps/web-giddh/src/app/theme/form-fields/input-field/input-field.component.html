<div class="text-field-container" [ngClass]="{ 'readonly-field': readonly }">
    <mat-form-field
        [ngClass]="{ 'mat-form-field-invalid': showError, 'prefix-icon-field': matPrefixIcon }"
        [appearance]="appearance"
        [floatLabel]="floatLabel"
    >
        <mat-label>{{ label ? label : placeholder }}</mat-label>
        <input
            matInput
            [name]="name"
            [type]="type"
            [id]="id"
            [class]="cssClass"
            [placeholder]="placeholder"
            [ngModelOptions]="{ standalone: true }"
            [(ngModel)]="ngModel"
            (ngModelChange)="handleChange()"
            (input)="handleInput()"
            [maxlength]="maxlength"
            [readonly]="readonly"
            [disabled]="disabled"
            [attr.pattern]="pattern"
            [required]="required"
            [attr.min]="min"
            [attr.max]="max"
            *ngIf="!allowDecimalDigitsOnly && !allowDigitsOnly && !useMask"
            #textField
            (keydown.enter)="$event.preventDefault()"
            [autocomplete]="autocomplete"
            (blur)="emitBlurEvent()"
            [ngClass]="{ 'error-box': showError }"
        />
        <input
            matInput
            [name]="name"
            [type]="type"
            [id]="id"
            [class]="cssClass"
            [placeholder]="placeholder"
            [ngModelOptions]="{ standalone: true }"
            [(ngModel)]="ngModel"
            (ngModelChange)="handleChange()"
            (input)="handleInput()"
            [readonly]="readonly"
            [disabled]="disabled"
            [attr.pattern]="pattern"
            [required]="required"
            [attr.min]="min"
            [attr.max]="max"
            *ngIf="allowDecimalDigitsOnly && !useMask"
            [customDecimalPlaces]="customDecimalPlaces"
            decimalDigitsDirective
            #textField
            (keydown.enter)="$event.preventDefault()"
            [autocomplete]="autocomplete"
            (blur)="emitBlurEvent()"
            [ngClass]="{ 'error-box': showError }"
        />
        <input
            matInput
            [name]="name"
            type="number"
            [id]="id"
            [class]="cssClass"
            [placeholder]="placeholder"
            [ngModelOptions]="{ standalone: true }"
            [(ngModel)]="ngModel"
            (ngModelChange)="handleChange()"
            (input)="handleInput()"
            [readonly]="readonly"
            [disabled]="disabled"
            [attr.pattern]="pattern"
            [required]="required"
            [attr.min]="min"
            [attr.max]="max"
            [maxlength]="maxlength"
            *ngIf="allowDigitsOnly && !useMask"
            [customDecimalPlaces]="customDecimalPlaces"
            digitsOnlyDirective
            #textField
            (keydown.enter)="$event.preventDefault()"
            [autocomplete]="autocomplete"
            (blur)="emitBlurEvent()"
            [ngClass]="{ 'error-box': showError }"
        />
        <input
            matInput
            [name]="name"
            [type]="type"
            [id]="id"
            [class]="cssClass"
            [placeholder]="placeholder"
            [ngModelOptions]="{ standalone: true }"
            [(ngModel)]="ngModel"
            (ngModelChange)="handleChange()"
            (input)="handleInput()"
            [readonly]="readonly"
            [disabled]="disabled"
            [attr.pattern]="pattern"
            [required]="required"
            [prefix]="prefix"
            [suffix]="suffix"
            [mask]="mask"
            [allowUnsupportedPrefix]="allowUnsupportedPrefix"
            [validation]="false"
            *ngIf="!allowDigitsOnly && useMask"
            #textField
            (keydown.enter)="$event.preventDefault()"
            [autocomplete]="autocomplete"
            (blur)="emitBlurEvent()"
            [ngClass]="{ 'error-box': showError }"
        />
        <input
            matInput
            [name]="name"
            [type]="type"
            [id]="id"
            [class]="cssClass"
            [placeholder]="placeholder"
            [ngModelOptions]="{ standalone: true }"
            [(ngModel)]="ngModel"
            (ngModelChange)="handleChange()"
            (input)="handleInput()"
            [readonly]="readonly"
            [disabled]="disabled"
            [attr.pattern]="pattern"
            [required]="required"
            [prefix]="prefix"
            [suffix]="suffix"
            [mask]="mask"
            [allowUnsupportedPrefix]="allowUnsupportedPrefix"
            [validation]="false"
            *ngIf="allowDigitsOnly && useMask"
            [customDecimalPlaces]="customDecimalPlaces"
            digitsOnlyDirective
            #textField
            (keydown.enter)="$event.preventDefault()"
            [autocomplete]="autocomplete"
            (blur)="emitBlurEvent()"
            [ngClass]="{ 'error-box': showError }"
        />
        <span matPrefix *ngIf="matPrefix">{{ matPrefix }}</span>
        <i matPrefixIcon *ngIf="matPrefixIcon" [ngClass]="matPrefixIcon" class="position-absolute"></i>
        <span matSuffix *ngIf="matSuffix">{{ matSuffix }}</span>
    </mat-form-field>
</div>
