<ng-container
    appTranslate
    [file]="'ledger/export-ledger'"
    (localeData)="localeData = $event"
    (commonLocaleData)="commonLocaleData = $event"
>
    <div id="exportModal" class="disable-ripple">
        <div class="modal-header flex-row-reverse">
            <button aria-hidden="true" class="close" mat-dialog-close [attr.aria-label]="commonLocaleData?.app_close">
                Ã—
            </button>
            <h3 class="unbold" mat-dialog-title>{{ localeData?.page_heading }}</h3>
        </div>
        <div class="modal-body" id="export-body">
            <form name="addShareEmailForm" novalidate autocomplete="off">
                <div class="pd-b2 clearfix export-type">
                    <label class="w125">{{ commonLocaleData?.app_type }}:</label>
                    <div>
                        <mat-radio-group
                            color="primary"
                            [attr.aria-label]="commonLocaleData?.app_type"
                            name="emailTypeSelected"
                            [(ngModel)]="emailTypeSelected"
                        >
                            <mat-radio-button
                                id="mini"
                                (change)="handleReportTypeChange($event)"
                                [value]="emailTypeMini"
                                >{{ commonLocaleData?.app_mini }}</mat-radio-button
                            >
                            <mat-radio-button
                                id="detailed"
                                (change)="handleReportTypeChange($event)"
                                [value]="emailTypeDetail"
                                >{{ commonLocaleData?.app_detailed }}</mat-radio-button
                            >
                            <mat-radio-button
                                id="columnar"
                                (change)="handleReportTypeChange($event)"
                                [value]="emailTypeColumnar"
                                >{{ localeData?.columnar }}</mat-radio-button
                            >
                        </mat-radio-group>
                    </div>
                </div>
                <div class="pd-b2 clearfix export-type">
                    <label class="w125">{{ commonLocaleData?.app_export_as }}:</label>
                    <div>
                        <mat-radio-group
                            color="primary"
                            [attr.aria-label]="commonLocaleData?.app_export_as"
                            name="exportAs"
                            [(ngModel)]="exportAs"
                        >
                            <mat-radio-button [hidden]="emailTypeSelected === 'columnar'" id="pdf" [value]="'pdf'">
                                {{ commonLocaleData?.app_pdf }}</mat-radio-button
                            >
                            <mat-radio-button id="excel" [value]="'xlsx'"
                                >{{ commonLocaleData?.app_excel }}
                            </mat-radio-button>
                        </mat-radio-group>
                    </div>
                </div>
                <div class="pd-b2 clearfix export-type">
                    <label class="w125">{{ commonLocaleData?.app_order }}:</label>
                    <div>
                        <mat-radio-group
                            color="primary"
                            [attr.aria-label]="commonLocaleData?.app_order"
                            name="order"
                            [(ngModel)]="order"
                        >
                            <mat-radio-button id="ascending" [value]="'asc'"
                                >{{ commonLocaleData?.app_ascending }}
                            </mat-radio-button>
                            <mat-radio-button id="descending" [value]="'desc'"
                                >{{ commonLocaleData?.app_descending }}
                            </mat-radio-button>
                        </mat-radio-group>
                    </div>
                </div>
                <div
                    class="pd-b2 clearfix"
                    [hidden]="emailTypeSelected === 'admin-condensed' || emailTypeSelected === 'columnar'"
                >
                    <label class="w125">{{ commonLocaleData?.app_invoice_no }}:</label>
                    <label class="radio-inline p-0">
                        <mat-slide-toggle color="primary" name="withInvoiceNumber" [(ngModel)]="withInvoiceNumber">
                            <span class="pull-left" *ngIf="withInvoiceNumber">{{ commonLocaleData?.app_include }}</span>
                            <span class="pull-right" *ngIf="!withInvoiceNumber">{{
                                commonLocaleData?.app_exclude
                            }}</span>
                        </mat-slide-toggle>
                    </label>
                </div>
                <div class="pd-b2 clearfix" [hidden]="emailTypeSelected !== 'columnar'">
                    <label class="w125">{{ localeData?.cr_dr }}</label>
                    <label class="radio-inline p-0">
                        <mat-slide-toggle color="primary" name="balanceTypeAsSign" [(ngModel)]="balanceTypeAsSign">
                            <span class="pull-left" *ngIf="balanceTypeAsSign">{{ commonLocaleData?.app_include }}</span>
                            <span class="pull-right" *ngIf="!balanceTypeAsSign">{{
                                commonLocaleData?.app_exclude
                            }}</span>
                        </mat-slide-toggle>
                    </label>
                </div>
                <button mat-button class="btn-success btn unbold" (click)="exportLedger()">
                    {{ commonLocaleData?.app_download }}
                </button>
                <button
                    mat-button
                    class="btn-success btn show-columnar-button unbold mr-l1"
                    [hidden]="emailTypeSelected !== 'columnar'"
                    (click)="showColumnarReport()"
                >
                    {{ commonLocaleData?.app_show }}
                </button>
                <div class="modal-wrap" [hidden]="emailTypeSelected === 'columnar'">
                    <div class="clearfix"></div>
                    <h3 class="pd-t1 pd-b1">{{ commonLocaleData?.app_or | titlecase }}</h3>
                    <div>
                        <h3 class="light-gray pd-b05 size-xs">{{ localeData?.add_multiple_id }}</h3>
                        <mat-form-field appearance="fill" class="w-100">
                            <textarea
                                matInput
                                [(ngModel)]="emailData"
                                required
                                name="email"
                                class="form-control mat-field-border receipient-email"
                                [placeholder]="localeData?.receipient_email_ids"
                            ></textarea>
                        </mat-form-field>
                        <button mat-button class="btn btn-success mr-t2 unbold" (click)="sendLedgEmail()">
                            {{ commonLocaleData?.app_send_email }}
                        </button>
                    </div>
                    <!-- add mailer -->
                </div>
            </form>
        </div>
    </div>
</ng-container>
