<div *ngIf="isLoading">
    <giddh-page-loader></giddh-page-loader>
</div>
<ng-container
    *ngIf="!isLoading && dataSource.length > 1"
    appTranslate
    [file]="'activity-logs'"
    (localeData)="localeData = $event"
    (commonLocaleData)="commonLocaleData = $event"
>
    <div class="activity-container">
        <div class="table-content">
            <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                <!-- UserName Column -->
                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef>Name</th>
                    <td mat-cell *matCellDef="let element">
                        <span matTooltip="{{ element.user.email }}" matTooltipClass="">{{ element.user.name }}</span>
                    </td>
                </ng-container>

                <!-- Date Column -->
                <ng-container matColumnDef="time">
                    <th mat-header-cell *matHeaderCellDef>Date</th>
                    <td mat-cell *matCellDef="let element">
                        <span matTooltip="{{ element.time2 }}" matTooltipClass=""> {{ element.time }}</span>
                    </td>
                </ng-container>

                <!-- IP Column -->
                <ng-container matColumnDef="ip">
                    <th mat-header-cell *matHeaderCellDef>IP</th>
                    <td mat-cell *matCellDef="let element">{{ element.ip }}</td>
                </ng-container>

                <!-- Entity Column -->
                <ng-container matColumnDef="entity">
                    <th mat-header-cell *matHeaderCellDef>Entity</th>
                    <td mat-cell *matCellDef="let element">{{ element.entity }}</td>
                </ng-container>

                <!-- Operation Column -->
                <ng-container matColumnDef="operation">
                    <th mat-header-cell *matHeaderCellDef>Operation</th>
                    <td mat-cell *matCellDef="let element">{{ element.operation }}</td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr
                    class="log-tr"
                    mat-row
                    *matRowDef="let row; columns: displayedColumns"
                    (click)="openDialog(row)"
                ></tr>
            </table>
        </div>
        <div class="pagination-wrapper">
            <pagination
                *ngIf="activityLogs.totalPages > 1"
                [totalItems]="activityLogs.totalPages"
                [(ngModel)]="activityObj.page"
                [maxSize]="6"
                class="pagination-sm"
                [boundaryLinks]="true"
                [itemsPerPage]="1"
                [rotate]="false"
                (pageChanged)="pageChanged($event)"
                [firstText]="commonLocaleData?.app_first"
                [previousText]="commonLocaleData?.app_previous"
                [nextText]="commonLocaleData?.app_next"
                [lastText]="commonLocaleData?.app_last"
            ></pagination>
        </div>
    </div>
</ng-container>
<div class="no-data" *ngIf="!dataSource.length">
    <no-data></no-data>
</div>
