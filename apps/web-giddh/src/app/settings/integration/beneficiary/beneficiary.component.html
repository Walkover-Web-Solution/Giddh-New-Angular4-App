<div class="aside-pane">
    <div class="form-header">
        <div>
            <h3><span>Beneficiary List</span></h3>
        </div>
    </div>
    <button id="close" (click)="closeAsidePane()"><i class="icon-cross"></i></button>
    <div class="aside-body">
        <div class="aside-pane-form">
            <form [formGroup]="addBeneficiaryForm" (ngSubmit)="saveBeneficiary()" *ngIf="isBeneficiaryFormVisible">
                <div class="row">
                    <div class="form-group  col-sm-6">
                        <label>Beneficiary Name <sup class="text-danger">*</sup></label>
                        <input type="text" class="form-control" placeholder="Beneficiary" name="bnfName"
                            formControlName="bnfName" />
                    </div>
                    <div class="form-group col-sm-6">
                        <label>Beneficiary Nick Name <sup class="text-danger">*</sup></label>
                        <input type="text" class="form-control" placeholder="Beneficiary Nick Name" name="bnfNickName"
                            formControlName="bnfNickName" />
                    </div>
                    <div class="form-group col-sm-6">
                        <label>Beneficiary Account No. <sup class="text-danger">*</sup></label>
                        <input type="text" class="form-control" placeholder="Beneficiary Account No." name="bnfAccNo"
                            formControlName="bnfAccNo" [maxlength]="18" [minlength]="9" #accountNo
                            (blur)="validateAccountNo(accountNo)" />
                    </div>
                    <div class="form-group col-sm-6">
                        <label>IFSC <sup class="text-danger">*</sup></label>
                        <input type="text" class="form-control" placeholder="IFSC" name="ifsc" formControlName="ifsc" />
                    </div>
                    <div class="col-sm-12">
                        <div class="button-group">
                            <button class="btn btn-primary" [ladda]="isBeneficiaryRegistrationInProgress$ | async"
                                [disabled]="addBeneficiaryForm.invalid">Save
                            </button>
                            <button type="button" class="btn btn-cancel" (click)="toggleBeneficiaryForm()">Cancel
                            </button>
                        </div>
                    </div>
                </div>
            </form>
            <a class="text-right btn btn-primary" href="javascript:;" *ngIf="!isBeneficiaryFormVisible"
                (click)="toggleBeneficiaryForm()">
                <i class="icon-plus"></i> Add Beneficiary
            </a>
            <div class="report-table table-responsive mr-t2">
                <table class="table basic giddh-table on-mobile-view">
                    <thead>
                        <tr>
                            <th width="3%">#</th>
                            <th width="27%">Name</th>
                            <th width="15%">Nick Name</th>
                            <th width="20%">Account No.</th>
                            <th width="15%">IFSC</th>
                            <th width="20%">Action</th>
                        </tr>
                    </thead>
                    <tbody *ngIf="!isLoading && accountBeneficiaries?.length > 0">
                        <tr *ngFor="let item of accountBeneficiaries; let i = index;">
                            <td data-title="#">{{ i+1 }}</td>
                            <td data-title="Name">{{ item.BnfName }}</td>
                            <td data-title="Nick Name">{{ item.BnfNickName }}</td>
                            <td data-title="Account No.">{{ item.BnfAccNo }}</td>
                            <td data-title="IFSC">{{ item.IFSC }}</td>
                            <td data-title="Action">
                                <a href="javascript:;" class="btn btn-primary"
                                    (click)="validateBeneficiary(item.BnfAccNo)">Validate</a>
                            </td>
                        </tr>
                    </tbody>
                    <tbody class="on-mobile-view no-records"
                        *ngIf="!accountBeneficiaries || accountBeneficiaries.length === 0">
                        <tr>
                            <td colspan="6" *ngIf="!isLoading" align="center">No records found.</td>
                            <td colspan="6" *ngIf="isLoading">
                                <giddh-page-loader [cssClass]="'mt-0 mb-0'"></giddh-page-loader>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
