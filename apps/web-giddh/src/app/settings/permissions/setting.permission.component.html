<div class=" pd-t1 pd-b2">
	<h3 class="mr-b1"><strong>Give Permission to:</strong></h3>
	<setting-permission-form [userdata]="null" [isLblShow]="false" [isUpdtCase]="false" [isHorizntl]="true"
		(onSubmitForm)="submitPermissionForm($event)"></setting-permission-form>
</div>

<div>
	<h3 class="mr-b1"><strong>Users</strong></h3>
	<div class="box" *ngIf="currentUser">
		<div *ngFor="let usrGrp of usersList">
			<div class="user-list">
				<div class="row">
					<div class="col-xl-2 col-lg-3 col-md-6 col-sm-6 user">
						<div class="text-ellipsis">
							<div class="text-ellipsis"><i class="fa fa-user pd-r1"></i>{{usrGrp.name}}</div>
							<small class="mr-l2">{{usrGrp.rows[0].emailId}}</small>
						</div>
					</div>
					<div class="col-xl-10 col-lg-9 col-md-6 col-sm-6">
						<div class="row">
							<div class="permission-list w-100">
								<div class="col-xl-10 col-lg-12 col-sm-12 permission"
									*ngFor="let user of usrGrp.rows; let i = index">
                                    <div class="row">
                                        <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                                            <div class="form-group"><input class="form-control" [value]="user.roleName"
                                                    disabled /></div>
                                        </div>

                                        <div class="col-xl-3 col-lg-4 col-md-5 col-sm-5" *ngIf="user.from || user.period">
                                            <div class="form-group">
                                                <input *ngIf="user.from && user.to" class="form-control"
                                                    value="{{user.from}} - {{user.to}}" disabled />
                                                <input *ngIf="user.period && user.duration" class="form-control"
                                                    value="Past &nbsp;{{user.duration}} &nbsp; {{user.period}}S" disabled />
                                            </div>
                                        </div>

                                        <div class="col-xl-3 col-lg-4 col-md-5 col-sm-5" *ngIf="user.ipsStr || user.cidrsStr">
                                            <div class="form-group">
                                                <input *ngIf="user.ipsStr" class="form-control" [value]="user.ipsStr"
                                                    disabled />
                                                <input *ngIf="user.cidrsStr" class="form-control" [value]="user.cidrsStr"
                                                    disabled />
                                            </div>
                                        </div>

                                        <div class="ico-btn pull-left col-xl-2 col-lg-4 col-md-12 col-sm-12 mr-t">
                                            <button class="btn btn-xs" type="button"
                                                [hidden]="usrGrp.rows[0].isLoggedInUser" (click)="showModalForEdit(user)"><i
                                                    aria-hidden="true" class="icon-edit-pencil"></i></button>
                                            <button class="btn btn-xs" type="button"
                                                [hidden]="usrGrp.rows[0].isLoggedInUser"
                                                (click)="onRevokePermission(user.uniqueName)"><i aria-hidden="true"
                                                    class="fa fa-trash-o"></i></button>
                                        </div>
                                    </div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- create Ac modal -->

<div bsModal #editUserModal="bs-modal" class="modal fade" role="dialog" [config]="modalConfig" *ngIf="showEditUserModal">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header clearfix">
                <h3 class="modal-title bg" id="modal-title">Create User Permission</h3>
                <span aria-hidden="true" class="close" data-dismiss="modal" (click)="closeEditUserModal()">Ã—</span>
            </div>
            <div class="modal-body">
                <setting-permission-form *ngIf="showEditUserModal" [isOpenedInModal]="true" [userdata]="selectedUser" [isLblShow]="true" [isUpdtCase]="(selectedUser) ? true : false" [isHorizntl]="false" (onSubmitForm)="submitPermissionForm($event)"></setting-permission-form>
            </div>
        </div>
    </div>
</div>
