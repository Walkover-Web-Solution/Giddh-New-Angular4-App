<ng-container appTranslate [file]="'settings'" (localeData)="localeData = $event"
    (commonLocaleData)="commonLocaleData = $event">
    <div class="help-support-aside setting-sidebar-wrapper gst-sidebar-wrapper" *ngIf="asideGstSidebarMenuState === 'in'">
        <tax-sidebar (navigateEvent)="handleNavigation()" (clickOutside)="isMobileScreen ? asideGstSidebarMenuState = 'out' : ''" [exclude]="'#primary-new-header'" class="gst-sidebar"></tax-sidebar>
    </div>

    <div class="container-fluid settings-bg setting-data" [keyboardShortcut]="['alt+right', 'alt+left']"
        [config]="{ignoreHost:true}" (onShortcutPress)="selectTabByShortcut($event)">
        <div class="row">
            <div class="invoice-control w-100">
                <div id="setting-tab">
                    <div class="relative">
                    <div *ngIf="activeTab === 'taxes'">
                        <hamburger-menu [pageHeading]="localeData?.setting_taxes">
                        </hamburger-menu>
                        <div class="setting-container">
                            <setting-taxes></setting-taxes>
                        </div>
                    </div>

                    <div *ngIf="activeTab === 'integration'">
                        <hamburger-menu [pageHeading]="localeData?.setting_integration"></hamburger-menu>
                        <div class="setting-container">
                            <setting-integration #integrationComponent [selectedTabParent]="selectedChildTab">
                            </setting-integration>
                        </div>
                    </div>

                    <div *ngIf="activeTab === 'linked-accounts'">
                        <hamburger-menu [pageHeading]="localeData?.setting_linked_accounts"></hamburger-menu>
                        <div class="setting-container">
                            <setting-linked-accounts #eBankComp></setting-linked-accounts>
                        </div>
                    </div>

                    <div *ngIf="activeTab === 'profile'">
                        <hamburger-menu [pageHeading]="profileTabHeading"></hamburger-menu>
                        <div class="setting-container">
                            <setting-profile (pageHeading)="profileTabHeading = $event" #profileComponent></setting-profile>
                            <span *ngIf="isCompanyProfileUpdated && (isUpdateCompanyInProgress$ | async)"
                                class="auto-save float-right">
                                <i class="icon-refresh mr-r05 font-14 rotate"></i>{{commonLocaleData?.app_saving}}
                            </span>
                            <span *ngIf="isCompanyProfileUpdated && !(isUpdateCompanyInProgress$ | async)"
                                class="auto-save float-right">
                                <i class="glyphicon glyphicon-check mr-r05 font-14"></i>{{commonLocaleData?.app_saved}}
                            </span>
                        </div>
                    </div>

                    <div *ngIf="activeTab === 'financial-year'">
                        <hamburger-menu [pageHeading]="localeData?.setting_financial_year"></hamburger-menu>
                        <div class="setting-container">
                            <financial-year #financialYearComp></financial-year>
                        </div>
                    </div>

                    <div *ngIf="activeTab === 'permission'">
                        <hamburger-menu [pageHeading]="localeData?.setting_permission"></hamburger-menu>
                        <div class="setting-container">
                            <setting-permission #permissionComp></setting-permission>
                        </div>
                    </div>

                    <div *ngIf="activeTab === 'branch'">
                        <hamburger-menu [pageHeading]="localeData?.setting_branch"></hamburger-menu>
                        <div class="setting-container">
                            <setting-branch></setting-branch>
                        </div>
                    </div>

                    <div *ngIf="activeTab === 'tag'">
                        <hamburger-menu [pageHeading]="localeData?.setting_tag"></hamburger-menu>
                        <div class="setting-container">
                            <setting-tags #tagComp></setting-tags>
                        </div>
                    </div>

                    <div *ngIf="activeTab === 'trigger'">
                        <hamburger-menu [pageHeading]="localeData?.setting_trigger"></hamburger-menu>
                        <div class="setting-container">
                            <setting-trigger></setting-trigger>
                        </div>
                    </div>

                    <div *ngIf="activeTab === 'discount'">
                        <hamburger-menu [pageHeading]="localeData?.setting_discount"></hamburger-menu>
                        <div class="setting-container">
                            <setting-discount></setting-discount>
                        </div>
                    </div>

                    <div *ngIf="activeTab === 'warehouse'">
                        <hamburger-menu [pageHeading]="localeData?.setting_warehouse"></hamburger-menu>
                        <div class="setting-container">
                            <setting-warehouse></setting-warehouse>
                        </div>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </div>
</ng-container>
