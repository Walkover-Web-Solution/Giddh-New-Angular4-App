<div>
    <div class="modal-header">
        <h3 class="modal-title bg" id="modal-title">Bulk Update</h3>
        <span class="close" aria-hidden="true" (click)="onCancel()">Ã—</span>
    </div>
    <form #bulkUpdateForm="ngForm" (ngSubmit)="updateBulkInvoice();">
        <div class="modal-body pdL2 pdR2 clearfix" id="export-body">

            <small>Choose a field from the dropdown and update with new information.</small>
            <div class="row mb-1 mt-2">
                <div class="col-md-6 col-sm-6">
                    <div class="form-group">
                        <sh-select placeholder="Select" [options]="fieldOptions" [isFilterEnabled]="true" [ngModelOptions]="{standalone: true}" [(ngModel)]="selectedField" [ItemHeight]="33" (selected)="onSelectEntryField($event)"></sh-select>
                    </div>
                </div>

                <div class="col-md-6 col-sm-6">
                    <div class="form-group" *ngIf="selectedField === 'pdfTemplate'">
                        <sh-select placeholder="Select" [options]="allTemplatesOptions" required [isFilterEnabled]="true" [ItemHeight]="33" name="templateUniqueName" [(ngModel)]="updateTemplatesRequest.templateUniqueName"></sh-select>
                    </div>

                    <div class="form-group" *ngIf="selectedField === 'notes'">
                        <!-- TODO : this note is come from sales module -->
                        <!-- <span> Note </span>
                        <textarea class="form-control" [(ngModel)]="updateNotesRequest.message1" name="message1"></textarea> -->
                        <!--  this note is come from template -->
                        <span> Note</span>
                        <textarea class="form-control" [(ngModel)]="updateNotesRequest.message2" name="message2"></textarea>
                    </div>

                    <div class="form-group" *ngIf="selectedField === 'signature'">
                        <sh-select placeholder="Select option" [options]="templateSignaturesOptions" required [isFilterEnabled]="true" name="signatureOptions" [(ngModel)]="signatureOptions" [ItemHeight]="33"></sh-select>
                    </div>

                    <div class="relative form-group" *ngIf="selectedField === 'dueDate'">
                        <input name="lastInvoiceDate" required placeholder="Select Date" type="text" [bsConfig]="{dateInputFormat:'DD-MM-YYYY'}" [(ngModel)]="updateDueDatesRequest.dueDate" class="form-control" bsDatepicker required>
                        <i class="fa fa-calendar text-light-2 inpute-date"></i>
                    </div>
                </div>
            </div>

            <div class="width-100">
                <div *ngIf="selectedField === 'signature' && signatureOptions === 'image'" class="uplode-logo">
                    <div class="form-group">
                        <label [hidden]="isSignatureAttached">
                        <input type="file" style="display: none;" name="BulkUploadfileInput" id="BulkUploadfileInput"
                            [options]="fileUploadOptions" ngFileSelect [uploadInput]="uploadInput"
                            (uploadOutput)="onUploadOutput($event)">
                        <label class="cp fs16 text-gray font-14" for="BulkUploadfileInput">
                            Upload your logo
                        </label>
                        </label>

                        <label class="logo-preview" [hidden]="!isSignatureAttached">
                        <div class="signature-image"><img alt="" required
                                id="signatureImage" [src]="signatureSrc" />
                        </div>
                        <div class="d-flex mt-1 justify-content-center"> <button class="btn btn-danger"
                                (click)="clearImage()">clear</button></div>
                    </label>
                    </div>
                </div>
                <div *ngIf="selectedField === 'signature' && signatureOptions === 'slogan'">
                    <textarea class="form-control" required [(ngModel)]="updateSloganRequest.slogan" name="slogan"></textarea>
                </div>
                <!-- TODO: under discussion -->
                <!-- <div *ngIf="selectedField === 'shippingDetails'" class="row mb-2">
                    <div class="col-md-4">
                        <div class="relative form-group">
                            <input name="lastInvoiceDate" placeholder="Ship Date" type="text" [bsConfig]="{dateInputFormat:'DD-MM-YYYY'}" class="form-control" bsDatepicker required />
                            <i class="fa fa-calendar text-light-2 inpute-date"></i>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Ship Via">
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Tracking No">
                        </div>
                    </div>
                </div> -->

                <div *ngIf="selectedField === 'customFields'" class="row mb-2">
                    <div class="col-md-4">
                        <div class="relative form-group">
                            <input name="customField1" placeholder="Custom Field 1" type="text" [bsConfig]="{dateInputFormat:'DD-MM-YYYY'}" class="form-control" bsDatepicker [(ngModel)]="updateCustomfieldsRequest.customField1" />
                            <i class="fa fa-calendar text-light-2 inpute-date"></i>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Custom Field 2" name="customField2" [(ngModel)]="updateCustomfieldsRequest.customField2">
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Custom Field 3" name="customField3" [(ngModel)]="updateCustomfieldsRequest.customField3">
                        </div>
                    </div>
                </div>
            </div>

            <div>
                <small>Note: All the selected invoices will be updated with new information and you cannot undo
                this.</small>
            </div>
        </div>
        <div class="modal-footer d-flex" style="justify-content: flex-start">
            <button class="btn btn-success" (click)="updateBulkInvoice();" [ladda]="updateInProcess" [disabled]="bulkUpdateForm.invalid">Update</button>
            <button class="btn btn-danger" (click)="onCancel()">Cancel</button>
        </div>
    </form>

</div>