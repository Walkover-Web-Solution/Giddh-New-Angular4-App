<section id="invoice-setting">

    <tabset class="tab-integraton">

        <!-- region general tab-->
        <tab>

            <ng-template tabHeading>
                <span class="icon-chat2"></span> General
            </ng-template>

            <div class="genral-tab single-tab-block">

                <div class="box clearfix">

                    <form class="row" autocomplete="off">

                        <div class="col-sm-12">
                            <h4 class="clearfix bd-rb">General <span>(These settings will be applicable on Estimates,
                                    Proforma and
                                    Invoices) </span>
                            </h4>

                            <div class="clearfix" *ngIf="false">

                                <div class="row">
                                    <div class="col-sm-12 col-md-12 col-lg-3 "><label>Default payment gateway</label></div>

                                    <div class="col-sm-6 col-md-9">
                                        <div class="form-group clearfix max150">
                                            <sh-select placeholder="Payment Gateway" name="defaultPaymentGateway" [(ngModel)]="invoiceSetting.defaultPaymentGateway" [options]="paymentGatewayList"></sh-select>
                                        </div>
                                    </div>

                                </div>

                            </div>

                            <div class="clearfix pd-t1">

                                <div class="row">
                                    <div class="col-sm-12 col-md-12 col-lg-3">

                                        <input type="checkbox" [(ngModel)]="invoiceSetting.enableNarrationOnInvAndVoucher" name="enableNarrationOnInvAndVoucher" class="show-on-mobile" />
                                        <label>Show Narration on Ledger</label>
                                    </div>

                                    <div class="col-sm-6 col-md-9 col-lg-8 form-group">
                                        <input type="checkbox" [(ngModel)]="invoiceSetting.enableNarrationOnInvAndVoucher" name="enableNarrationOnInvAndVoucher" class="hide-on-mobile" />
                                    </div>
                                </div>

                            </div>

                            <!-- <div class="clearfix pd-t1">
                                <div class="row">

                                    <div class="col-xs-12 col-sm-3">
                                        <input type="checkbox" [(ngModel)]="companyCashFreeSettings.autoCreateVirtualAccountsForDebtors" name="autoCreateVirtualAccountsForDebtors" class="pull-left show-on-mobile" />
                                        <label>Create virtual accounts for customers</label>
                                    </div>

                                    <div class="col-xs-6 col-sm-9">
                                        <div class="form-group clearfix" *ngIf="companyCashFreeSettings">
                                            <input type="checkbox" [(ngModel)]="companyCashFreeSettings.autoCreateVirtualAccountsForDebtors" name="autoCreateVirtualAccountsForDebtors" class="pull-left hide-on-mobile" />
                                        </div>
                                    </div>
                                </div>

                            </div> -->

                            <!-- region razor-pay-->
                            <div class="clearfix pd-t1" *ngIf="false">

                                <div class="row">
                                    <div class="col-sm-12 col-md-12 col-lg-3">
                                        <input type="checkbox" [(ngModel)]="invoiceSetting.createPaymentEntry" class="pull-left" name="invoiceCreatePaymentEntry" class="show-on-mobile" />
                                        <label>Create entry after payment using any payment gateway
                                            (Razorpay)</label>
                                    </div>

                                    <div class="col-sm-12 col-md-12 col-lg-9">

                                        <div class="form-group payment-gateway clearfix">

                                            <input type="checkbox" [(ngModel)]="invoiceSetting.createPaymentEntry" class="pull-left" name="invoiceCreatePaymentEntry" class="hide-on-mobile" />

                                            <div class="" [hidden]="!invoiceSetting.createPaymentEntry">

                                                <div class="col-sm-12 col-md-3">
                                                    <label>Key ID<span class="req">*</span></label>
                                                    <input type="text" class="form-control" [(ngModel)]="razorpayObj.userName" name="keyID" />
                                                </div>

                                                <div class="col-sm-12 col-md-4">
                                                    <label>Secret ID<span class="req">*</span></label>
                                                    <input type="password" class="form-control" [(ngModel)]="razorpayObj.password" name="secretKey" />
                                                </div>

                                                <div class="col-sm-12 col-md-4">
                                                    <label>Link Account</label>
                                                    <div class="ng-select-wrap">
                                                        <sh-select placeholder="Select Account" name="linkedaccount" [(ngModel)]="razorpayObj.account" [options]="linkAccountDropDown"></sh-select>
                                                    </div>
                                                </div>

                                            </div>

                                            <button class=" btn btn-danger mr-t1 pull-right " *ngIf="updateRazor" (click)="deleteRazorPay() ">
                                                Delete
                                            </button>
                                        </div>

                                    </div>

                                </div>
                            </div>
                            <!-- endregion -->

                            <div class="clearfix pd-t1" *ngIf="false">

                                <div class="row">
                                    <div class="col-sm-12 col-md-3">
                                        <input type="checkbox" [(ngModel)]="estimateSetting.enableEstimate" class="pull-left" name="enableEstimate" class="show-on-mobile" />
                                        <label>Enable Estimates/Quotations</label></div>

                                    <div class="col-sm-6 col-md-9">
                                        <div class="form-group clearfix">
                                            <input type="checkbox" [(ngModel)]="estimateSetting.enableEstimate" class="pull-left" name="enableEstimate" class="hide-on-mobile" />
                                        </div>
                                    </div>

                                </div>

                            </div>

                            <div class="clearfix pd-t1" *ngIf="false">

                                <div class="row">
                                    <div class="col-sm-12 col-md-3">
                                        <input type="checkbox" [(ngModel)]="proformaSetting.enableProforma" class="pull-left" name="enableProforma" class="show-on-mobile" />
                                        <label>Enable Proforma Invoices</label></div>

                                    <div class="col-sm-6 col-md-9">
                                        <div class="form-group clearfix">
                                            <input type="checkbox" [(ngModel)]="proformaSetting.enableProforma" class="pull-left" name="enableProforma" class="hide-on-mobile" />
                                        </div>
                                    </div>

                                </div>
                            </div>

                            <ng-container *ngTemplateOutlet="buttonsSection"></ng-container>

                        </div>

                    </form>

                </div>

            </div>
        </tab>
        <!-- endregion -->

        <!-- region Email tab-->
        <tab>

            <ng-template tabHeading>
                <span class="icon-mail"></span> Email
            </ng-template>

            <div class="email-tab single-tab-block">

                <div class="box clearfix mb-2">

                    <h4 class="clearfix bd-rb">Email/SMS <span>(These settings will be applicable on Estimates, Proforma
                            and
                            Invoices)</span>
                    </h4>

                    <div class="clearfix">

                        <div class="row">

                            <div class="col-sm-12 col-md-12 col-lg-3 lh34"><label>From Email</label></div>

                            <div class="col-sm-12 col-md-12 col-lg-9">

                                <div class="row">

                                    <div class="col-md-5 col-sm-12 col-xs-12">

                                        <div class=" form-group">
                                            <div class="" [ngClass]="{'input-group': true}">
                                                <input type="email" class="form-control" placeholder="Enter email id" name="invoiceEmail" [(ngModel)]='invoiceSetting.email' (ngModelChange)="onChangeEmail($event)" />
                                                <span class="input-group-addon" *ngIf="!invoiceSetting.emailVerified"><i
                                                        class="fa fa-exclamation-circle"
                                                        tooltip="Unverified"></i></span>
                                                <span class="input-group-addon" *ngIf="invoiceSetting.emailVerified"><i
                                                        class="glyphicon glyphicon-ok" tooltip="Verified"></i></span>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="col-md-6 col-sm-12 row">
                                        <div class="btn-wrapper">
                                            <button class="btn btn-success mr-1" (click)="verfiyEmail(invoiceSetting.email)" [disabled]="!isEmailChanged && (!invoiceSetting.email || invoiceSetting.email.length < 4 || invoiceSetting.emailVerified)">
                                                Verify
                                            </button>
                                            <button class="btn btn-danger" (click)="deleteEmail(invoiceSetting.email)" [disabled]="!invoiceSetting.email || invoiceSetting.email.length < 4">Delete
                                            </button>
                                        </div>


                                    </div>

                                </div>

                            </div>

                        </div>

                    </div>

                    <div class="clearfix  pd-t1">

                        <div class="row">
                            <div class="col-lg-3 col-md-12 col-sm-12">
                                <input type="checkbox" [(ngModel)]="companyEmailSettings.sendThroughGmail" name="sendThroughGmail" [disabled]="!isGmailIntegrated" class="show-on-mobile" />
                                <label>Send email through Gmail</label>
                            </div>

                            <div class="col-lg-9 col-md-12 col-sm-12 form-group" style="display: flex;align-items: center">
                                <input type="checkbox" [(ngModel)]="companyEmailSettings.sendThroughGmail" name="sendThroughGmail" [disabled]="!isGmailIntegrated" class="hide-on-mobile" />

                                <span class="ml-1 integrated-email" *ngIf="!isGmailIntegrated">
                                    <a [href]="gmailAuthCodeUrl$ | async">Integrate Gmail</a>
                                </span>
                            </div>

                        </div>

                    </div>

                    <ng-container *ngTemplateOutlet="buttonsSection"></ng-container>

                </div>

            </div>
        </tab>
        <!-- endregion -->

        <!-- region estimate tab -->
        <tab>
            <ng-template tabHeading>
                <span class="icon-estimate1"><span class="path1"></span><span class="path2"></span></span> Estimate
            </ng-template>

            <div class="estimate-tab single-tab-block">

                <div class="box clearfix mb-2">

                    <h4 class="clearfix bd-rb">Estimate/Quotation <span></span></h4>

                    <div class="clearfix">

                        <div class="row headingName">
                            <div class="col-sm-12 col-md-12 col-lg-3  lh34"><label>Heading Name<span
                                        class="red-text">*</span></label></div>

                            <div class="col-sm-12 col-md-12 col-lg-9">
                                <div class="">
                                    <div class="">
                                        <div class=" form-group">
                                            <div class="estimateProforma" [ngClass]="{'input-group': true}">
                                                <input type="text" class="form-control" [(ngModel)]="estimateSetting.headerName" placeholder="Eg. Estimate/Quotation/Proforma" name="estimateHeaderName" />
                                            </div>
                                            <!--                                            <input type="checkbox" name="estimate-checkbox" />-->
                                        </div>
                                    </div>

                                </div>
                            </div>

                        </div>

                        <div class="row">

                            <div class="col-sm-12 col-md-12 col-lg-3 lh34"><label>Default expiry days</label></div>

                            <div class="col-sm-12 col-md-12 col-lg-3">

                                <div class="default-expiry">
                                    <div class="">
                                        <div class=" form-group">
                                            <div class="" [ngClass]="{'input-group': true}">
                                                <input type="tel" class="form-control flex-initial" [(ngModel)]="estimateSetting.duePeriod" maxlength="3" placeholder="00" decimalDigitsDirective name="estimate-default-expiry" />
                                                <span> Days </span>

                                            </div>

                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>

                        <!--will use in v2 -->
                        <!--                      <div class="row">-->
                        <!--                        <div class="col-xs-5 lh34"><label>Send alert</label></div>-->
                        <!--                        <div class="col-xs-7">-->

                        <!--                          <div class="row sendAlert">-->
                        <!--                            <ul class="webookList form-group">-->
                        <!--                              <li *ngFor="let webhook of estimateWebhook; let i = index" class="clearfix">-->
                        <!--                                <div  [ngClass]="{'input-group': true}">-->

                        <!--                                  <input type="text" class="form-control send-alert" name='alertDuedate_+{{i}}' [(ngModel)]='webhook.triggerAt' (ngModelChange)="checkDueDays(webhook.triggerAt, i, 'alpha')" (blur)="checkDueDays(webhook.triggerAt, i, 'length')" [disabled]='webhook.uniqueName' />-->
                        <!--                                  <span> Days </span>-->

                        <!--                                  <div class="d-inline-flex position-relative">-->
                        <!--                                    <input type="text" class="form-control" name='webhookUrl_+{{i}}' [(ngModel)]='webhook.url' [disabled]='webhook.uniqueName' />-->
                        <!--                                    <span class="viasocket"><a href="#">viasocket.com</a></span>-->
                        <!--                                  </div>-->
                        <!--                                  <span class="cp" [hidden]="i == estimateWebhook.length-1"> <i class="icon-trash delete-ico" (click)="deleteWebhook(webhook, i)"></i></span>-->
                        <!--                                  <a href="javascript:void(0);"  class="cp" *ngIf="i == estimateWebhook.length-1" (click)="addNewWebhook(webhook, 'estimate')"> <i class="icon-plus"></i> Add webhook URL</a>-->
                        <!--                                </div>-->
                        <!--                              </li>-->
                        <!--                            </ul>-->
                        <!--                          </div>-->
                        <!--                        </div>-->
                        <!--                      </div>-->

                        <div class="row nextStepEstimate">

                            <div class="col-sm-12 col-md-12 col-lg-3 lh34"><label>Next step to Estimate<span
                                        class="red-text">*</span></label>
                            </div>

                            <div class="col-sm-12 col-md-12 col-lg-12">

                                <div class="select-estimate mr-3">

                                    <div class="col-md-12 col-xs-12 p-0">
                                        <span class="pd0 mr-3">
                                            <input id="radio-5" class="radio-custom cp ml0" name="signatureType" type="radio" [(ngModel)]="estimateSetting.nextStepToEstimate" [value]="'salesorder'" >
                                            <label for="radio-5" class="radio-custom-label">Proforma</label>
                                        </span>

                                        <span class="pd0 mr-3">
                                            <input id="radio-6" class="radio-custom cp ml0" name="signatureType" type="radio" [(ngModel)]="estimateSetting.nextStepToEstimate" [value]="'invoice'">
                                            <label for="radio-6" class="radio-custom-label">Invoice</label>
                                        </span>

                                    </div>

                                </div>
                            </div>
                        </div>

                        <div class="clearfix  pd-t1">

                            <div class="row">

                                <div class="col-sm-12 col-md-12 col-lg-3">
                                    <input type="checkbox" [(ngModel)]="estimateSetting.autoChangeStatusOnExp" name="estimateAutoChange" class="show-on-mobile" /> <label>Auto change status (on
                                        expiry)</label>
                                </div>

                                <div class="col-sm-12 col-md-12 col-lg-9 form-group">
                                    <input type="checkbox" [(ngModel)]="estimateSetting.autoChangeStatusOnExp" name="estimateAutoChange" class="hide-on-mobile" />
                                </div>
                            </div>

                        </div>

                        <div class="clearfix  pd-t1">
                            <div class="row">
                                <div class="col-sm-12 col-md-12 col-lg-3">
                                    <input type="checkbox" [(ngModel)]="estimateSetting.autoMail" name="estimateAutomail" class="show-on-mobile" /> <label>Auto mail when
                                        generated</label>
                                </div>
                                <div class="col-sm-12 col-md-12 col-lg-9 form-group ">
                                    <input type="checkbox" [(ngModel)]="estimateSetting.autoMail" name="estimateAutomail" class="hide-on-mobile" />
                                </div>
                            </div>
                        </div>


                        <div class="clearfix pd-t1">
                            <div class="row">
                                <div class="col-sm-12 col-md-12 col-md-12 col-lg-3">
                                    <input type="checkbox" [(ngModel)]="estimateSetting.sendSms" class="pull-left" name="invoiceCreatePaymentEntry" class="show-on-mobile" /><label>Enable send
                                    Estimate via
                                        SMS</label>
                                </div>
                                <div class="col-sm-12 col-md-12 col-lg-9">
                                    <div class="form-group clearfix">
                                        <input type="checkbox" [(ngModel)]="estimateSetting.sendSms" class="pull-left" name="invoiceCreatePaymentEntry" class="hide-on-mobile" />

                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--                        <div class="clearfix pd-t1">-->
                        <!--                            <div class="row">-->
                        <!--                                <div class="col-xs-5"><label>Custom Estimation</label></div>-->
                        <!--                                <div class="col-xs-7 p-0">-->
                        <!--                                    <div class="form-group clearfix ">-->
                        <!--                                        <input type="checkbox" [(ngModel)]="invoiceSetting.useCustomInvoiceNumber" class="pull-left d-inline-flex estimationCheck" name="customInvoice" />-->
                        <!--                                        <div class=" d-inline-flex custom-estimation " *ngIf="invoiceSetting.useCustomInvoiceNumber">-->
                        <!--                                            <div class="d-inline-flex position-relative">-->
                        <!--                                                <label>Initial No.</label>-->
                        <!--                                                <input type="text" class="form-control text-right initialnumber" name="initialNumber" [(ngModel)]="invoiceSetting.initialInvoiceNumber">-->
                        <!--                                            </div>-->
                        <!--                                            <div class="d-inline-flex position-relative">-->
                        <!--                                                <label style="right:0px;">Prefix</label>-->
                        <!--                                                <input type="text" class="form-control text-right" name="prefixNumber" [(ngModel)]="invoiceSetting.invoiceNumberPrefix">-->
                        <!--                                            </div>-->
                        <!--                                        </div>-->
                        <!--                                    </div>-->
                        <!--                                </div>-->
                        <!--                            </div>-->
                        <!--                        </div>-->

                        <ng-container *ngTemplateOutlet="buttonsSection"></ng-container>
                    </div>

                </div>
            </div>
        </tab>
        <!-- endregion -->

        <!-- region sales order tab -->
        <tab>
            <ng-template tabHeading>
                <span class="icon-sales-order"></span> Proforma
            </ng-template>

            <div class="estimate-tab sales-order-tab single-tab-block">

                <div class="box clearfix mb-2">

                    <h4 class="clearfix bd-rb">Proforma Invoice <span></span></h4>

                    <div class="clearfix">

                        <div class="row headingName">
                            <div class="col-sm-12 col-md-12 col-lg-3 lh34"><label>Heading Name<span
                                        class="red-text">*</span></label></div>
                            <div class="col-sm-12 col-md-12 col-lg-9">
                                <div class="">
                                    <div class="">
                                        <div class=" form-group">
                                            <div class="estimateProforma" [ngClass]="{'input-group': true}">
                                                <input type="text" class="form-control" placeholder="Eg. Estimate/Quotation/Proforma" name="proformaHeaderName" [(ngModel)]="proformaSetting.headerName" />

                                            </div>
                                            <!--                                            <input type="checkbox" name="estimate-checkbox" />-->
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-12 col-md-12 col-lg-3 lh34"><label>Default expiry days</label></div>
                            <div class="col-sm-12 col-md-12 col-lg-9">
                                <div class=" default-expiry">
                                    <div class="">
                                        <div class=" form-group">
                                            <div class="" [ngClass]="{'input-group': true}">
                                                <input type="tel" class="form-control flex-initial" placeholder="00" name="proformaDuePeriod" decimalDigitsDirective maxlength="3" [(ngModel)]="proformaSetting.duePeriod" />
                                                <span> Days </span>

                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--will use in v2 -->
                        <!--                        <div class="row">-->
                        <!--                            <div class="col-xs-5 lh34"><label>Send alert</label></div>-->
                        <!--                            <div class="col-xs-7">-->

                        <!--                              <div class="row sendAlert">-->
                        <!--                                <ul class="webookList form-group">-->
                        <!--                                  <li *ngFor="let webhook of proformaWebhook; let i = index" class="clearfix">-->
                        <!--                                    <div  [ngClass]="{'input-group': true}">-->

                        <!--                                      <input type="text" class="form-control send-alert" name='alertDuedate_+{{i}}' [(ngModel)]='webhook.triggerAt' (ngModelChange)="checkDueDays(webhook.triggerAt, i, 'alpha')" (blur)="checkDueDays(webhook.triggerAt, i, 'length')" [disabled]='webhook.uniqueName' />-->
                        <!--                                      <span> Days </span>-->

                        <!--                                      <div class="d-inline-flex position-relative">-->
                        <!--                                        <input type="text" class="form-control" name='webhookUrl_+{{i}}' [(ngModel)]='webhook.url' [disabled]='webhook.uniqueName' />-->
                        <!--                                        <span class="viasocket"><a href="#">viasocket.com</a></span>-->
                        <!--                                      </div>-->
                        <!--                                      <span class="cp" [hidden]="i == proformaWebhook.length-1"> <i class="icon-trash delete-ico" (click)="deleteWebhook(webhook, i)"></i></span>-->
                        <!--                                      <a href="javascript:void(0);"  class="cp" *ngIf="i == proformaWebhook.length-1" (click)="addNewWebhook(webhook, 'proforma')"> <i class="icon-plus"></i> Add webhook URL</a>-->
                        <!--                                    </div>-->
                        <!--                                  </li>-->
                        <!--                                </ul>-->
                        <!--                              </div>-->
                        <!--                            </div>-->
                        <!--                        </div>-->

                        <div class="clearfix  pd-t1">
                            <div class="row">
                                <div class="col-sm-12 col-md-12 col-lg-3">
                                    <input type="checkbox" [(ngModel)]="proformaSetting.autoChangeStatusOnExp" name="proformaAutoChange" class="show-on-mobile" />
                                    <label>Auto change status (on expiry)</label>
                                </div>
                                <div class="col-sm-12 col-md-12 col-lg-9 form-group">
                                    <input type="checkbox" [(ngModel)]="proformaSetting.autoChangeStatusOnExp" name="proformaAutoChange" class="hide-on-mobile" />
                                </div>
                            </div>
                        </div>

                        <div class="clearfix  pd-t1">
                            <div class="row">
                                <div class="col-sm-12 col-md-12 col-lg-3">
                                    <input type="checkbox" [(ngModel)]="proformaSetting.autoMail" name="proformaAutomail" class="show-on-mobile" />
                                    <label>Auto mail when updated/generated</label>
                                </div>
                                <div class="col-sm-12 col-md-12 col-lg-9 form-group ">
                                    <input type="checkbox" [(ngModel)]="proformaSetting.autoMail" name="proformaAutomail" class="hide-on-mobile" />
                                </div>
                            </div>
                        </div>

                        <div class="clearfix pd-t1">
                            <div class="row">
                                <div class="col-sm-12 col-md-12 col-lg-3">
                                    <input type="checkbox" [(ngModel)]="proformaSetting.sendSms" class="pull-left" name="proformaCreatePaymentEntry" class="show-on-mobile" />
                                    <label>Enable send proforma via SMS</label></div>
                                <div class="col-sm-12 col-md-12 col-lg-9">
                                    <div class="form-group clearfix">
                                        <input type="checkbox" [(ngModel)]="proformaSetting.sendSms" class="pull-left" name="proformaCreatePaymentEntry" class="hide-on-mobile" />
                                        <!-- <div class="mr-t1 max250 mr-t3" *ngIf="invoiceSetting.sendInvLinkOnSms">
    <textarea [(ngModel)]="invoiceSetting.smsContent" class="pull-left form-control" name="sendInvLinkOnSms" rows="3"></textarea>
</div> -->
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!--                      will  use in v2 -->
                        <!--                        <div class="clearfix pd-t1">-->
                        <!--                            <div class="row">-->
                        <!--                                <div class="col-xs-5"><label>Custom Proforma#</label></div>-->
                        <!--                                <div class="col-xs-7 p-0">-->
                        <!--                                    <div class="form-group clearfix ">-->
                        <!--                                        <input type="checkbox" class="pull-left d-inline-flex estimationCheck" name="customInvoice" />-->

                        <!--                                    </div>-->
                        <!--                                </div>-->
                        <!--                            </div>-->
                        <!--                        </div>-->

                        <ng-container *ngTemplateOutlet="buttonsSection"></ng-container>
                    </div>


                </div>
            </div>

        </tab>
        <!-- endregion -->

        <!-- region invoice tab -->
        <tab>

            <ng-template tabHeading>
                <span class="icon-invoice-icon"></span>Invoice
            </ng-template>

            <div class="estimate-tab invoice-tab single-tab-block">

                <div class="box clearfix mb-2">
                    <h4 class="clearfix bd-rb">Invoice <span></span></h4>
                    <div class="clearfix">

                        <!--                        <div class="row headingName">-->

                        <!--                            <div class="col-xs-5 lh34"><label>Heading Name</label></div>-->

                        <!--                            <div class="col-xs-7">-->
                        <!--                                <div class="row">-->
                        <!--                                    <div class="">-->
                        <!--                                        <div class=" form-group">-->
                        <!--                                            <div class="estimateProforma" [ngClass]="{'input-group': true}">-->
                        <!--                                                <input type="text" class="form-control" [(ngModel)]="invoiceSetting.headerName" placeholder="Eg. Estimate/Quotation/Proforma" name="estimateProforma" />-->

                        <!--                                            </div>-->
                        <!--                                            <input type="checkbox" name="estimate-checkbox"  />-->
                        <!--                                        </div>-->
                        <!--                                    </div>-->

                        <!--                                </div>-->
                        <!--                            </div>-->
                        <!--                        </div>-->

                        <div class="row">

                            <div class="col-xs-12 col-sm-12 col-lg-3 lh34"><label>Default expiry days</label></div>
                            <div class="col-xs-12 col-sm-12 col-lg-9">
                                <div class="default-expiry">
                                    <div>
                                        <div class="form-group">
                                            <div class="" [ngClass]="{'input-group': true}">
                                                <input type="tel" class="form-control flex-initial" placeholder="00" maxlength="3" decimalDigitsDirective [(ngModel)]="invoiceSetting.duePeriod" name="default-expiry" />
                                                <span> Days </span>

                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--will use in v2 -->
                        <!--                        <div class="row">-->
                        <!--                            <div class="col-xs-5 lh34"><label>Send alert</label></div>-->
                        <!--                            <div class="col-xs-7">-->
                        <!--                                <div class="row sendAlert">-->
                        <!--                                    <ul class="webookList form-group">-->
                        <!--                                      <li *ngFor="let webhook of invoiceWebhook; let i = index" class="clearfix">-->
                        <!--                                        <div  [ngClass]="{'input-group': true}">-->

                        <!--                                          <input type="text" class="form-control send-alert" name='alertDuedate_+{{i}}' [(ngModel)]='webhook.triggerAt' (ngModelChange)="checkDueDays(webhook.triggerAt, i, 'alpha')" (blur)="checkDueDays(webhook.triggerAt, i, 'length')" [disabled]='webhook.uniqueName' />-->
                        <!--                                          <span> Days </span>-->

                        <!--                                          <div class="d-inline-flex position-relative">-->
                        <!--                                            <input type="text" class="form-control" name='webhookUrl_+{{i}}' [(ngModel)]='webhook.url' [disabled]='webhook.uniqueName' />-->
                        <!--                                            <span class="viasocket"><a href="#">viasocket.com</a></span>-->
                        <!--                                          </div>-->
                        <!--                                          <span class="cp" [hidden]="i == invoiceWebhook.length-1"> <i class="icon-trash delete-ico" (click)="deleteWebhook(webhook, i)"></i></span>-->
                        <!--                                          <a href="javascript:void(0);"  class="cp" *ngIf="i == invoiceWebhook.length-1" (click)="addNewWebhook(webhook, 'invoice')"> <i class="icon-plus"></i> Add webhook URL</a>-->
                        <!--                                        </div>-->
                        <!--                                      </li>-->
                        <!--                                    </ul>-->
                        <!--                                </div>-->
                        <!--                            </div>-->
                        <!--                        </div>-->

                        <div class="clearfix ">

                            <div class="row">
                                <div class="col-sm-12 col-md-12 col-lg-3">
                                    <label style="vertical-align:middle">Invoice Lock Date</label>
                                </div>

                                <div class="col-sm-12 col-md-9">
                                    <div class="form-group date-pickerInvoice invoice-lock-date  mb-0">
                                        <input type="text" class="form-control invoice-lock-date" name="invoiceLockDate" bsDatepicker #dp="bsDatepicker" [(ngModel)]="invoiceSetting.lockDate" [bsConfig]="{ adaptivePosition: true, dateInputFormat: 'DD-MM-YYYY'}">
                                        <span class="icon-calender " (click)="dp.toggle()"></span>
                                        <!-- <giddh-datepicker name="invoiceLockDate" [(ngModel)]="invoiceSetting.lockDate"></giddh-datepicker> -->
                                    </div>
                                </div>

                            </div>
                        </div>

                        <div class="clearfix  pd-t1">
                            <div class="row">
                                <div class="col-sm-12 col-md-12 col-lg-3">
                                    <input type="checkbox" name="invoiceStatusPayment" [(ngModel)]="invoiceSetting.showSeal" class="show-on-mobile" /> <label>Show seal
                                        according to status of payment</label>
                                </div>
                                <div class="col-sm-12 col-md-9 form-group">
                                    <input type="checkbox" name="invoiceStatusPayment" [(ngModel)]="invoiceSetting.showSeal" class="hide-on-mobile" />
                                </div>
                            </div>
                        </div>

                        <!-- <div class="clearfix  pd-t1">
                            <div class="row">
                                <div class="col-xs-12 col-sm-3">
                                    <input type="checkbox" [(ngModel)]="invoiceSetting.autoPaid" name="invoiceAutoPaid" class="show-on-mobile" />
                                    <label>Auto Paid</label>
                                </div>
                                <div class="col-xs-12 col-sm-9 form-group ">
                                    <input type="checkbox" [(ngModel)]="invoiceSetting.autoPaid" name="invoiceAutoPaid" class="hide-on-mobile" />
                                </div>
                            </div>
                        </div> -->

                        <div class="clearfix  pd-t1">
                            <div class="row">
                                <div class="col-sm-12 col-md-12 col-lg-3">
                                    <input type="checkbox" [(ngModel)]="invoiceSetting.autoMail" name="invoiceAutomail" class="show-on-mobile" />
                                    <label>Auto mail when updated</label>
                                </div>
                                <div class="col-sm-12 col-md-9 form-group ">
                                    <input type="checkbox" [(ngModel)]="invoiceSetting.autoMail" name="invoiceAutomail" class="hide-on-mobile" />
                                </div>
                            </div>
                        </div>

                        <div class="clearfix pd-t1">
                            <div class="row">

                                <div class="col-sm-12 col-md-12 col-lg-3">

                                    <input type="checkbox" [(ngModel)]="invoiceSetting.sendInvLinkOnSms" (ngModelChange)="onChangeSendInvoiceViaSms(invoiceSetting.sendInvLinkOnSms)" name="invoiceSetting.sendInvLinkOnSms" class="pull-left show-on-mobile" />

                                    <label>Enable send invoice via SMS</label>
                                </div>

                                <div class="col-sm-12 col-md-9">

                                    <div class="form-group clearfix">

                                        <input type="checkbox" [(ngModel)]="invoiceSetting.sendInvLinkOnSms" (ngModelChange)="onChangeSendInvoiceViaSms(invoiceSetting.sendInvLinkOnSms)" name="invoiceSetting.sendInvLinkOnSms" class="pull-left hide-on-mobile" />

                                        <div class="pull-left sms-textarea" *ngIf="invoiceSetting.sendInvLinkOnSms">

                                            <textarea [(ngModel)]="invoiceSetting.smsContent" class="pull-left form-control" name="invoiceSetting.sendInvLinkOnSms" rows="3"></textarea>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <div class="clearfix pd-t1">
                            <div class="row">
                                <div class="col-sm-12 col-md-12 col-lg-3">
                                    <input type="checkbox" [(ngModel)]="invoiceSetting.useCustomInvoiceNumber" class="pull-left estimationCheck show-on-mobile" name="customInvoice" />
                                    <label>Custom Invoice#</label></div>
                                <div class="col-sm-12 col-md-9">
                                    <div class="form-group clearfix ">
                                        <input type="checkbox" [(ngModel)]="invoiceSetting.useCustomInvoiceNumber" class="pull-left estimationCheck hide-on-mobile" name="customInvoice" />
                                        <div class=" d-inline-flex custom-estimation" *ngIf="invoiceSetting.useCustomInvoiceNumber">
                                            <div class="d-inline-flex position-relative">
                                                <label>Initial No.</label>
                                                <input type="text" class="form-control text-right initialnumber" name="initialNumber" [(ngModel)]="invoiceSetting.initialInvoiceNumber">
                                            </div>
                                            <div class="d-inline-flex position-relative">
                                                <label style="right:0px;">Prefix</label>
                                                <input type="text" class="form-control text-right" name="prefixNumber" [(ngModel)]="invoiceSetting.invoiceNumberPrefix">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="clearfix pt-1">
                            <div class="row">
                                <div class="col-sm-12 col-md-12 col-lg-3">
                                    <input type="checkbox" [(ngModel)]="invoiceSetting.autoDeleteEntries" name="invoiceAutoDeleteEntries" class="show-on-mobile" />
                                    <label>Auto Delete entries when deleting their invoice</label>
                                </div>
                                <div class="col-sm-12 col-md-9 form-group ">
                                    <input type="checkbox" [(ngModel)]="invoiceSetting.autoDeleteEntries" name="invoiceAutoDeleteEntries" class="hide-on-mobile" />
                                </div>
                            </div>
                        </div>

                        <ng-container *ngTemplateOutlet="buttonsSection"></ng-container>
                    </div>

                </div>
            </div>

        </tab>
        <!-- endregion -->

    </tabset>
</section>


<ng-template #buttonsSection>

    <div class="btn-group mr-t2" role="group" aria-label="Basic example">
        <button type="button" class="btn btn-success mrR1" (click)="UpdateForm()">Save</button>
        <button type="button" class="btn btn-cancel" (click)="resetForm()">Cancel</button>
    </div>

</ng-template>
