<hamburger-menu [pageHeading]="'Reports > Monthly Columnar Report'"></hamburger-menu>
<div class="columnar-report-page mr-t2">
    <div class="container-fluid font-14">
        <div class="row">
            <div class="col-lg-3 col-md-8 col-sm-12 col-xs-12 mr-b15">
                <sh-select [options]="selectYear" [fixedValue]="activeFinancialYearLabel" [placeholder]="'Select Year'" name="financialYear" (selected)="selectFinancialYear($event);" [forceClearReactive]="forceClear$ | async"></sh-select>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-3 col-md-8 col-sm-12 col-xs-12">
                <div class="row">
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 mr-b15">
                        <sh-select [options]="fromMonthNames" [placeholder]="'From Month'" name="fromMonth" [(ngModel)]="fromMonth" [forceClearReactive]="forceClearMonths$ | async" (selected)="selectFromMonth($event);"></sh-select>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 mr-b15">
                        <sh-select [options]="toMonthNames" [placeholder]="'To Month'" name="toMonth" [(ngModel)]="toMonth" [forceClearReactive]="forceClearMonths$ | async" (selected)="selectToMonth($event);"></sh-select>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-3 col-md-8 col-sm-12 col-xs-12 mr-b15 clear-both">
                <sh-select [options]="flatGroupsOptions" [placeholder]="'Group *'" name="group" (selected)="selectGroup($event);" [forceClearReactive]="forceClear$ | async"></sh-select>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-3 col-md-8 col-sm-12 col-xs-12 mr-b15 clear-both">
                <input type="checkbox" name="showHideOpeningClosingBalance" id="showHideOpeningClosingBalance" [(ngModel)]="exportRequest.showHideOpeningClosingBalance">&nbsp;<label for="showHideOpeningClosingBalance">Opening/Closing Balance</label>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-3 col-md-8 col-sm-12 col-xs-12 mr-b15 clear-both">
                <input type="checkbox" name="balanceTypeAsSign" id="balanceTypeAsSign" [(ngModel)]="exportRequest.balanceTypeAsSign" (ngModelChange)="onBalanceTypeAsSignChanged($event)">&nbsp;<label for="balanceTypeAsSign">Cr/Dr with +/-</label>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12 col-xs-12 mr-b15 clear-both">
                <button class="btn btn-sky-blue " [disabled]="!isFormValid() || isLoading" (click)="exportReport(false);">Export</button>
                <button class="btn btn-sky-blue " [disabled]="!isFormValid() || isLoading" (click)="exportReport(true);">Show</button>
                <button class="btn btn-sky-blue " (click)="clearFilter();">Reset</button>
            </div>
        </div>

    </div>
</div>

<!-- <div *ngIf="columnarReportResponse" class="back-btn text-center pr-1 mt-1 mr-b1">
    <button class="btn btn-default" (click)="clearFilter()"> <span class="icon-cross"></span>Clear Filter</button>
</div> -->
<columnar-report-table-component [columnarReportResponse]="columnarReportResponse" [isBalanceTypeAsSign]="isBalanceTypeAsSign"></columnar-report-table-component>
<div class="pagination-wrapper" *ngIf="columnarReportResponse && columnarReportResponse?.totalPages > 1">
    <pagination [totalItems]="columnarReportResponse.totalItems" [(ngModel)]="columnarReportResponse.page" [maxSize]="6" class="pagination-sm" [boundaryLinks]="true" [rotate]="false" [itemsPerPage]="paginationCount" (pageChanged)="pageChanged($event)"></pagination>
</div>
<div *ngIf="isLoading && isShowColumnarReport">
    <div class="no-data mr-t15 loader-main">
        <div class="spinner2">
            <div class="cube1"></div>
            <div class="cube2"></div>
        </div>
    </div>
</div>
