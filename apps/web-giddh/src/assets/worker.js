!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";r.r(t);var o="ledger",n={VOUCHER_CALCULATION:"VOUCHER_CALCULATION"},u=function(){function e(e,t,r){this.moduleName=e,this.operationType=t,this.data=r}return e.getInstance=function(t){return new e(t.moduleName,t.operationType,t.data)},e}(),c=function(){function e(){}return e.doWork=function(e){switch(e.operationType){case n.VOUCHER_CALCULATION:return this.calculateApplicableVoucherType(e)}},e.calculateApplicableVoucherType=function(e){if(console.log("Data received: ",e),!(e&&e.data&&e.data.currentLedgerAccount&&e.data.particularAccount&&e.data.voucherData))return new u("ledger",e.operationType,0);var t=e.data,r=t.currentLedgerAccount,o=t.particularAccount,n=t.voucherData,c=this.findVouchers(o.type,r.parentGroups,n),a=this.findVouchers(o.type,o.selectedAccount?o.selectedAccount.parentGroups:[],n);console.log(c,a);var i=c.filter(function(e){return a.indexOf(e)>-1});return new u("ledger",e.operationType,i)},e.findVouchers=function(e,t,r){if(t&&r){console.log("ParentGroups: ",t),console.log("Voucher data: ",r);for(var o=0,n=r.slice();t[o];){console.log("Parent group: ",t[o]);var u=n.filter(function(e){return e.group===t[o].uniqueName});if(u=u.length?u.pop():u,console.log("categoryVoucherDetails: ",u),u.vouchers)return"CREDIT"===e?u.credit:u.debit;if(!u.groups)return u.default;o++,console.log("New parent: ",t[o]),n=u.groups.slice()}}},e}(),a=function(){function e(e){this.workerContext=e}return e.prototype.workerBroker=function(e){var t=e.data;switch(t.moduleName){case o:this.postWorkerResult(c.doWork(t))}},e.prototype.postWorkerResult=function(e){this.workerContext.postMessage(e)},e}();r.d(t,"worker",function(){return i});var i=new a(self);addEventListener("message",function(e){i.workerBroker(e)})}]);