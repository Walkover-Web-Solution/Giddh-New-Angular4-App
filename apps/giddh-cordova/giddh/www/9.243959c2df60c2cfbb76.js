(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"2Tg9":function(n,l,e){"use strict";e.d(l,"a",function(){return u});var u=function(){function n(){}return n.forRoot=function(){return{ngModule:n,providers:[]}},n}()},B37V:function(n,l,e){"use strict";e.d(l,"a",function(){return E});var u=e("LoAr"),t=e("Rzvk"),o=e("BuFo"),r=e("IfiR"),i=e("WT9V"),a=e("akCs"),s=e("bFBe"),c=e("ecKS"),d=e("wlJI"),g=e("18hA"),m=e("SNwD"),p=e("fc5e"),v=e("m86e"),f=e("a1AW"),C=e("Ymxs"),h=e("Mr//"),A=e("GovN"),N=e("Ky3a"),b=u["\u0275crt"]({encapsulation:2,styles:[],data:{}});function _(n){return u["\u0275vid"](0,[(n()(),u["\u0275eld"](0,0,null,null,10,"div",[["class","clearfix"]],null,null,null,null,null)),(n()(),u["\u0275eld"](1,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),u["\u0275ted"](-1,null,["Select Group"])),(n()(),u["\u0275eld"](3,0,null,null,7,"sh-select",[["formControlName","groupUniqueName"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],["window","mouseup"]],function(n,l,e){var t=!0,o=n.component;return"window:mouseup"===l&&(t=!1!==u["\u0275nov"](n,4).onDocumentClick(e)&&t),"selected"===l&&(t=!1!==o.checkSelectedGroup(e)&&t),t},t.b,t.a)),u["\u0275did"](4,4833280,[[1,4],["groupDDList",4]],2,o.a,[u.ElementRef,u.Renderer,u.ChangeDetectorRef],{placeholder:[0,"placeholder"],isFilterEnabled:[1,"isFilterEnabled"],options:[2,"options"]},{selected:"selected"}),u["\u0275qud"](335544320,2,{notFoundLinkTemplate:0}),u["\u0275qud"](335544320,3,{optionTemplate:0}),u["\u0275prd"](1024,null,r.NG_VALUE_ACCESSOR,function(n){return[n]},[o.a]),u["\u0275did"](8,671744,null,0,r.FormControlName,[[3,r.ControlContainer],[8,null],[8,null],[6,r.NG_VALUE_ACCESSOR],[2,r["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,r.NgControl,null,[r.FormControlName]),u["\u0275did"](10,16384,null,0,r.NgControlStatus,[[4,r.NgControl]],null,null)],function(n,l){n(l,4,0,"Select Group",!0,l.component.flattenGroupsArray),n(l,8,0,"groupUniqueName")},function(n,l){n(l,3,0,u["\u0275nov"](l,10).ngClassUntouched,u["\u0275nov"](l,10).ngClassTouched,u["\u0275nov"](l,10).ngClassPristine,u["\u0275nov"](l,10).ngClassDirty,u["\u0275nov"](l,10).ngClassValid,u["\u0275nov"](l,10).ngClassInvalid,u["\u0275nov"](l,10).ngClassPending)})}function S(n){return u["\u0275vid"](0,[(n()(),u["\u0275eld"](0,0,null,null,2,"div",[["class","clearfix"]],null,null,null,null,null)),(n()(),u["\u0275eld"](1,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),u["\u0275ted"](-1,null,["Selected Group: Discount"]))],null,null)}function y(n){return u["\u0275vid"](0,[(n()(),u["\u0275eld"](0,0,null,null,28,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),u["\u0275did"](1,212992,null,0,r.FormGroupName,[[3,r.ControlContainer],[8,null],[8,null]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,r.ControlContainer,null,[r.FormGroupName]),u["\u0275did"](3,16384,null,0,r.NgControlStatusGroup,[[4,r.ControlContainer]],null,null),(n()(),u["\u0275eld"](4,0,null,null,11,"div",[["class","row mrT1"]],null,null,null,null,null)),(n()(),u["\u0275eld"](5,0,null,null,10,"div",[["class","col-xs-12"]],null,null,null,null,null)),(n()(),u["\u0275eld"](6,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),u["\u0275ted"](-1,null,["GSTIN"])),(n()(),u["\u0275eld"](8,0,null,null,7,"input",[["class","form-control"],["formControlName","gstNumber"],["maxlength","15"],["name","gstNumber"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var t=!0,o=n.component;return"input"===l&&(t=!1!==u["\u0275nov"](n,9)._handleInput(e.target.value)&&t),"blur"===l&&(t=!1!==u["\u0275nov"](n,9).onTouched()&&t),"compositionstart"===l&&(t=!1!==u["\u0275nov"](n,9)._compositionStart()&&t),"compositionend"===l&&(t=!1!==u["\u0275nov"](n,9)._compositionEnd(e.target.value)&&t),"keyup"===l&&(t=!1!==o.getStateCode(n.context.$implicit,u["\u0275nov"](n,21))&&t),t},null,null)),u["\u0275did"](9,16384,null,0,r.DefaultValueAccessor,[u.Renderer2,u.ElementRef,[2,r.COMPOSITION_BUFFER_MODE]],null,null),u["\u0275did"](10,540672,null,0,r.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),u["\u0275prd"](1024,null,r.NG_VALIDATORS,function(n){return[n]},[r.MaxLengthValidator]),u["\u0275prd"](1024,null,r.NG_VALUE_ACCESSOR,function(n){return[n]},[r.DefaultValueAccessor]),u["\u0275did"](13,671744,null,0,r.FormControlName,[[3,r.ControlContainer],[6,r.NG_VALIDATORS],[8,null],[6,r.NG_VALUE_ACCESSOR],[2,r["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,r.NgControl,null,[r.FormControlName]),u["\u0275did"](15,16384,null,0,r.NgControlStatus,[[4,r.NgControl]],null,null),(n()(),u["\u0275eld"](16,0,null,null,12,"div",[["class","row mrT1"]],null,null,null,null,null)),(n()(),u["\u0275eld"](17,0,null,null,11,"div",[["class","col-xs-12"]],null,null,null,null,null)),(n()(),u["\u0275eld"](18,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),u["\u0275ted"](-1,null,["State code"])),(n()(),u["\u0275eld"](20,0,null,null,8,"sh-select",[["formControlName","stateCode"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[["window","mouseup"]],function(n,l,e){var t=!0;return"window:mouseup"===l&&(t=!1!==u["\u0275nov"](n,21).onDocumentClick(e)&&t),t},t.b,t.a)),u["\u0275did"](21,4833280,[["states",4]],2,o.a,[u.ElementRef,u.Renderer,u.ChangeDetectorRef],{placeholder:[0,"placeholder"],isFilterEnabled:[1,"isFilterEnabled"],options:[2,"options"]},null),u["\u0275qud"](335544320,4,{notFoundLinkTemplate:0}),u["\u0275qud"](335544320,5,{optionTemplate:0}),u["\u0275pid"](131072,i.AsyncPipe,[u.ChangeDetectorRef]),u["\u0275prd"](1024,null,r.NG_VALUE_ACCESSOR,function(n){return[n]},[o.a]),u["\u0275did"](26,671744,null,0,r.FormControlName,[[3,r.ControlContainer],[8,null],[8,null],[6,r.NG_VALUE_ACCESSOR],[2,r["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,r.NgControl,null,[r.FormControlName]),u["\u0275did"](28,16384,null,0,r.NgControlStatus,[[4,r.NgControl]],null,null)],function(n,l){var e=l.component;n(l,1,0,l.context.index),n(l,10,0,"15"),n(l,13,0,"gstNumber"),n(l,21,0,"Select State",!0,u["\u0275unv"](l,21,2,u["\u0275nov"](l,24).transform(e.statesSource$))),n(l,26,0,"stateCode")},function(n,l){n(l,0,0,u["\u0275nov"](l,3).ngClassUntouched,u["\u0275nov"](l,3).ngClassTouched,u["\u0275nov"](l,3).ngClassPristine,u["\u0275nov"](l,3).ngClassDirty,u["\u0275nov"](l,3).ngClassValid,u["\u0275nov"](l,3).ngClassInvalid,u["\u0275nov"](l,3).ngClassPending),n(l,8,0,u["\u0275nov"](l,10).maxlength?u["\u0275nov"](l,10).maxlength:null,u["\u0275nov"](l,15).ngClassUntouched,u["\u0275nov"](l,15).ngClassTouched,u["\u0275nov"](l,15).ngClassPristine,u["\u0275nov"](l,15).ngClassDirty,u["\u0275nov"](l,15).ngClassValid,u["\u0275nov"](l,15).ngClassInvalid,u["\u0275nov"](l,15).ngClassPending),n(l,20,0,u["\u0275nov"](l,28).ngClassUntouched,u["\u0275nov"](l,28).ngClassTouched,u["\u0275nov"](l,28).ngClassPristine,u["\u0275nov"](l,28).ngClassDirty,u["\u0275nov"](l,28).ngClassValid,u["\u0275nov"](l,28).ngClassInvalid,u["\u0275nov"](l,28).ngClassPending)})}function F(n){return u["\u0275vid"](0,[(n()(),u["\u0275eld"](0,0,null,null,5,"section",[["formArrayName","addresses"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),u["\u0275did"](1,212992,null,0,r.FormArrayName,[[3,r.ControlContainer],[8,null],[8,null]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,r.ControlContainer,null,[r.FormArrayName]),u["\u0275did"](3,16384,null,0,r.NgControlStatusGroup,[[4,r.ControlContainer]],null,null),(n()(),u["\u0275and"](16777216,null,null,1,null,y)),u["\u0275did"](5,278528,null,0,i.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component;n(l,1,0,"addresses"),n(l,5,0,e.newAccountForm.get("addresses").controls)},function(n,l){n(l,0,0,u["\u0275nov"](l,3).ngClassUntouched,u["\u0275nov"](l,3).ngClassTouched,u["\u0275nov"](l,3).ngClassPristine,u["\u0275nov"](l,3).ngClassDirty,u["\u0275nov"](l,3).ngClassValid,u["\u0275nov"](l,3).ngClassInvalid,u["\u0275nov"](l,3).ngClassPending)})}function V(n){return u["\u0275vid"](0,[u["\u0275qud"](671088640,1,{groupDDList:0}),(n()(),u["\u0275eld"](1,0,null,null,46,"form",[["class","newAccounform"],["name","newAccountModelForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var t=!0;return"submit"===l&&(t=!1!==u["\u0275nov"](n,3).onSubmit(e)&&t),"reset"===l&&(t=!1!==u["\u0275nov"](n,3).onReset()&&t),t},null,null)),u["\u0275did"](2,16384,null,0,r["\u0275angular_packages_forms_forms_bh"],[],null,null),u["\u0275did"](3,540672,null,0,r.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),u["\u0275prd"](2048,null,r.ControlContainer,null,[r.FormGroupDirective]),u["\u0275did"](5,16384,null,0,r.NgControlStatusGroup,[[4,r.ControlContainer]],null,null),(n()(),u["\u0275eld"](6,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),u["\u0275eld"](7,0,null,null,1,"h3",[["class","modal-title"]],null,null,null,null,null)),(n()(),u["\u0275ted"](-1,null,["Create New Account"])),(n()(),u["\u0275eld"](9,0,null,null,31,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),u["\u0275and"](16777216,null,null,1,null,_)),u["\u0275did"](11,16384,null,0,i.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),u["\u0275and"](16777216,null,null,1,null,S)),u["\u0275did"](13,16384,null,0,i.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),u["\u0275eld"](14,0,null,null,10,"div",[["class","clearfix mrT1"]],null,null,null,null,null)),(n()(),u["\u0275eld"](15,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),u["\u0275ted"](-1,null,["Account Name"])),(n()(),u["\u0275eld"](17,0,null,null,7,"input",[["class","form-control"],["formControlName","name"],["name","account"],["placeholder","Enter Account Name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var t=!0,o=n.component;return"input"===l&&(t=!1!==u["\u0275nov"](n,18)._handleInput(e.target.value)&&t),"blur"===l&&(t=!1!==u["\u0275nov"](n,18).onTouched()&&t),"compositionstart"===l&&(t=!1!==u["\u0275nov"](n,18)._compositionStart()&&t),"compositionend"===l&&(t=!1!==u["\u0275nov"](n,18)._compositionEnd(e.target.value)&&t),"blur"===l&&(t=!1!==o.generateUniqueName()&&t),t},null,null)),u["\u0275did"](18,16384,null,0,r.DefaultValueAccessor,[u.Renderer2,u.ElementRef,[2,r.COMPOSITION_BUFFER_MODE]],null,null),u["\u0275did"](19,16384,null,0,r.RequiredValidator,[],{required:[0,"required"]},null),u["\u0275prd"](1024,null,r.NG_VALIDATORS,function(n){return[n]},[r.RequiredValidator]),u["\u0275prd"](1024,null,r.NG_VALUE_ACCESSOR,function(n){return[n]},[r.DefaultValueAccessor]),u["\u0275did"](22,671744,null,0,r.FormControlName,[[3,r.ControlContainer],[6,r.NG_VALIDATORS],[8,null],[6,r.NG_VALUE_ACCESSOR],[2,r["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,r.NgControl,null,[r.FormControlName]),u["\u0275did"](24,16384,null,0,r.NgControlStatus,[[4,r.NgControl]],null,null),(n()(),u["\u0275eld"](25,0,null,null,13,"div",[["class","clearfix mrT1 pdR2 pos-rel"]],null,null,null,null,null)),(n()(),u["\u0275eld"](26,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),u["\u0275ted"](-1,null,["Account Unique Name"])),(n()(),u["\u0275eld"](28,0,null,null,8,"input",[["class","form-control"],["formControlName","uniqueName"],["name","accUnqName"],["placeholder","Enter Account Unique Name"],["required",""],["textCaseChangeDirective",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],["document","paste"]],function(n,l,e){var t=!0;return"input"===l&&(t=!1!==u["\u0275nov"](n,29)._handleInput(e.target.value)&&t),"blur"===l&&(t=!1!==u["\u0275nov"](n,29).onTouched()&&t),"compositionstart"===l&&(t=!1!==u["\u0275nov"](n,29)._compositionStart()&&t),"compositionend"===l&&(t=!1!==u["\u0275nov"](n,29)._compositionEnd(e.target.value)&&t),"document:paste"===l&&(t=!1!==u["\u0275nov"](n,36).Paste(e)&&t),t},null,null)),u["\u0275did"](29,16384,null,0,r.DefaultValueAccessor,[u.Renderer2,u.ElementRef,[2,r.COMPOSITION_BUFFER_MODE]],null,null),u["\u0275did"](30,16384,null,0,r.RequiredValidator,[],{required:[0,"required"]},null),u["\u0275prd"](1024,null,r.NG_VALIDATORS,function(n){return[n]},[r.RequiredValidator]),u["\u0275prd"](1024,null,r.NG_VALUE_ACCESSOR,function(n){return[n]},[r.DefaultValueAccessor]),u["\u0275did"](33,671744,null,0,r.FormControlName,[[3,r.ControlContainer],[6,r.NG_VALIDATORS],[8,null],[6,r.NG_VALUE_ACCESSOR],[2,r["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,r.NgControl,null,[r.FormControlName]),u["\u0275did"](35,16384,null,0,r.NgControlStatus,[[4,r.NgControl]],null,null),u["\u0275did"](36,81920,null,0,a.a,[u.ElementRef],{control:[0,"control"]},null),(n()(),u["\u0275eld"](37,16777216,null,null,1,"i",[["class","glyphicon glyphicon-random pos-abs"],["container","body"],["style","right:0px;top:30px;color:green"]],null,[[null,"click"]],function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.generateUniqueName()&&u),u},null,null)),u["\u0275did"](38,212992,null,0,s.a,[u.ViewContainerRef,u.Renderer2,u.ElementRef,c.a,d.a],{tooltip:[0,"tooltip"],placement:[1,"placement"],container:[2,"container"]},null),(n()(),u["\u0275and"](16777216,null,null,1,null,F)),u["\u0275did"](40,16384,null,0,i.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),u["\u0275eld"](41,0,null,null,6,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),u["\u0275eld"](42,0,null,null,3,"button",[["class","btn btn-success"]],null,[[null,"click"]],function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.submit()&&u),u},null,null)),u["\u0275did"](43,737280,null,0,g.a,[u.ElementRef,[2,m.a]],{loading:[0,"loading"],disabled:[1,"disabled"]},null),u["\u0275pid"](131072,i.AsyncPipe,[u.ChangeDetectorRef]),(n()(),u["\u0275ted"](-1,null,["Create "])),(n()(),u["\u0275eld"](46,0,null,null,1,"button",[["class","btn btn-default"]],null,[[null,"click"]],function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.closeQuickAccountModal.emit(!0)&&u),u},null,null)),(n()(),u["\u0275ted"](-1,null,["Cancel"]))],function(n,l){var e=l.component;n(l,3,0,e.newAccountForm),n(l,11,0,!e.comingFromDiscountList),n(l,13,0,e.comingFromDiscountList),n(l,19,0,""),n(l,22,0,"name"),n(l,30,0,""),n(l,33,0,"uniqueName"),n(l,36,0,e.newAccountForm.get("uniqueName")),n(l,38,0,"Auto Generate UniqueName","top","body"),n(l,40,0,e.showGstBox),n(l,43,0,u["\u0275unv"](l,43,0,u["\u0275nov"](l,44).transform(e.isQuickAccountInProcess$)),e.newAccountForm.invalid)},function(n,l){n(l,1,0,u["\u0275nov"](l,5).ngClassUntouched,u["\u0275nov"](l,5).ngClassTouched,u["\u0275nov"](l,5).ngClassPristine,u["\u0275nov"](l,5).ngClassDirty,u["\u0275nov"](l,5).ngClassValid,u["\u0275nov"](l,5).ngClassInvalid,u["\u0275nov"](l,5).ngClassPending),n(l,17,0,u["\u0275nov"](l,19).required?"":null,u["\u0275nov"](l,24).ngClassUntouched,u["\u0275nov"](l,24).ngClassTouched,u["\u0275nov"](l,24).ngClassPristine,u["\u0275nov"](l,24).ngClassDirty,u["\u0275nov"](l,24).ngClassValid,u["\u0275nov"](l,24).ngClassInvalid,u["\u0275nov"](l,24).ngClassPending),n(l,28,0,u["\u0275nov"](l,30).required?"":null,u["\u0275nov"](l,35).ngClassUntouched,u["\u0275nov"](l,35).ngClassTouched,u["\u0275nov"](l,35).ngClassPristine,u["\u0275nov"](l,35).ngClassDirty,u["\u0275nov"](l,35).ngClassValid,u["\u0275nov"](l,35).ngClassInvalid,u["\u0275nov"](l,35).ngClassPending)})}function R(n){return u["\u0275vid"](0,[(n()(),u["\u0275eld"](0,0,null,null,1,"quickAccount",[],null,null,null,V,b)),u["\u0275did"](1,4308992,null,0,p.a,[r.FormBuilder,v.a,f.a,C.a,h.a,A.m,N.a],null,null)],function(n,l){n(l,1,0)},null)}var E=u["\u0275ccf"]("quickAccount",p.a,R,{needAutoFocus:"needAutoFocus"},{closeQuickAccountModal:"closeQuickAccountModal"},[])},fc5e:function(n,l,e){"use strict";e.d(l,"a",function(){return d});var u=e("pN2L"),t=e("Zl8a"),o=e("mhnT"),r=e("G2Mx"),i=e("dHrK"),a=e("LoAr"),s=e("IfiR"),c=(e("m86e"),e("a1AW"),e("GovN")),d=(e("Mr//"),e("Ky3a"),e("Ymxs"),function(){function n(n,l,e,r,i,s,d){var g=this;this._fb=n,this._groupService=l,this._companyService=e,this._toaster=r,this.ledgerAction=i,this.store=s,this._generalActions=d,this.needAutoFocus=!1,this.closeQuickAccountModal=new a.EventEmitter,this.flattenGroupsArray=[],this.statesSource$=Object(u.a)([]),this.showGstBox=!1,this.comingFromDiscountList=!1,this.states=[],this.destroyed$=new t.a(1),this.isQuickAccountInProcess$=this.store.select(function(n){return n.ledger.isQuickAccountInProcess}).pipe(Object(o.a)(this.destroyed$)),this.isQuickAccountCreatedSuccessfully$=this.store.select(function(n){return n.ledger.isQuickAccountCreatedSuccessfully}).pipe(Object(o.a)(this.destroyed$)),this.groupsArrayStream$=this.store.select(function(n){return n.general.groupswithaccounts}).pipe(Object(o.a)(this.destroyed$)),this._groupService.GetFlattenGroupsAccounts("",1,5e3,"true").subscribe(function(n){if("success"===n.status){var l=[];n.body.results=g.removeFixedGroupsFromArr(n.body.results),n.body.results.forEach(function(n){l.push({label:n.groupName,value:n.groupUniqueName})}),g.flattenGroupsArray=l,g.comingFromDiscountList&&g.newAccountForm.get("groupUniqueName").patchValue("discount")}}),this.store.pipe(Object(c.A)(function(n){return n.general.states}),Object(o.a)(this.destroyed$)).subscribe(function(n){n&&(Object.keys(n.stateList).forEach(function(l){g.states.push({label:n.stateList[l].code+" - "+n.stateList[l].name,value:n.stateList[l].code})}),g.statesSource$=Object(u.a)(g.states))})}return n.prototype.ngOnInit=function(){var n=this;this.newAccountForm=this._fb.group({name:["",s.Validators.compose([s.Validators.required,s.Validators.maxLength(100)])],uniqueName:["",[s.Validators.required]],groupUniqueName:[""],openingBalanceDate:[],addresses:this._fb.array([this._fb.group({gstNumber:["",s.Validators.compose([s.Validators.maxLength(15)])],stateCode:[{value:"",disabled:!1}]})])}),this.isQuickAccountCreatedSuccessfully$.subscribe(function(l){l&&(n.closeQuickAccountModal.emit(!0),n.store.dispatch(n._generalActions.getFlattenAccount()),n.store.dispatch(n.ledgerAction.resetQuickAccountModal()))})},n.prototype.ngAfterViewInit=function(){var n=this;this.needAutoFocus&&setTimeout(function(){n.groupDDList.inputFilter.nativeElement.click()},500)},n.prototype.generateUniqueName=function(){var n=this.newAccountForm.get("name"),l=this.newAccountForm.get("uniqueName"),e=n.value;if((e=(e=e.replace(/ |,|\//g,"")).toLowerCase()).length>=1){for(var u="",t="abcdefghijklmnopqrstuvwxyz0123456789",o=0;o<3;)u+=t.charAt(Math.floor(Math.random()*t.length)),o++;l.patchValue(e+u)}else l.patchValue("")},n.prototype.getStateCode=function(n,l){var e=this,u=n.get("gstNumber").value;u.length>=2?this.statesSource$.pipe(Object(r.a)(1)).subscribe(function(t){var o=t.find(function(n){return n.value===u.substr(0,2)});l.disabled=!0,o?n.get("stateCode").patchValue(o.value):(n.get("stateCode").patchValue(null),e._toaster.clearAllToaster(),e._toaster.warningToast("Invalid GSTIN."))}):(l.disabled=!1,n.get("stateCode").patchValue(null))},n.prototype.checkSelectedGroup=function(n){var l=this;this.groupsArrayStream$.subscribe(function(e){if(e.length){var u=l.flattenGroup(e,n.value,null);l.showGstBox="assets"===u||"liabilities"===u}})},n.prototype.flattenGroup=function(n,l,e){for(var u=0,t=n;u<t.length;u++){var o=t[u];if(o.uniqueName===l)return o.category;if(o.groups){var r=this.flattenGroup(o.groups,l,o);if(r)return r}}},n.prototype.removeFixedGroupsFromArr=function(n){var l=["currentassets","fixedassets","noncurrentassets","indirectexpenses","operatingcost","otherincome","revenuefromoperations","shareholdersfunds","currentliabilities","noncurrentliabilities"];return n.filter(function(n){return!(l.indexOf(n.groupUniqueName)>-1)})},n.prototype.submit=function(){var n=i.cloneDeep(this.newAccountForm.value);this.showGstBox||delete n.addresses,this.store.dispatch(this.ledgerAction.createQuickAccountV2(this.newAccountForm.value.groupUniqueName,n))},n}())}}]);