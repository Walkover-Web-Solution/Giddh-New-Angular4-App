(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"XC/G":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("LoAr"),o=t("IfiR"),u=t("SeAg"),i=t("vU59");e.TextMaskConfig=function(){return function(){}}(),e.MASKEDINPUT_VALUE_ACCESSOR={provide:o.NG_VALUE_ACCESSOR,useExisting:l.forwardRef(function(){return s}),multi:!0};var s=function(){function n(n,e,t){var l;this._renderer=n,this._elementRef=e,this._compositionMode=t,this.textMaskConfig={mask:[],guide:!0,placeholderChar:"_",pipe:void 0,keepCharPositions:!1},this.onChange=function(n){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(l=u.\u0275getDOM()?u.\u0275getDOM().getUserAgent():"",!/android (\d+)/.test(l.toLowerCase())))}return n.prototype.ngOnChanges=function(n){this._setupMask(!0),void 0!==this.textMaskInputElement&&this.textMaskInputElement.update(this.inputElement.value)},n.prototype.writeValue=function(n){this._setupMask(),this._renderer.setProperty(this.inputElement,"value",null==n?"":n),void 0!==this.textMaskInputElement&&this.textMaskInputElement.update(n)},n.prototype.registerOnChange=function(n){this.onChange=n},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.setDisabledState=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",n)},n.prototype._handleInput=function(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&(this._setupMask(),void 0!==this.textMaskInputElement&&(this.textMaskInputElement.update(n),this.onChange(n=this.inputElement.value)))},n.prototype._setupMask=function(n){void 0===n&&(n=!1),this.inputElement||(this.inputElement="INPUT"===this._elementRef.nativeElement.tagName.toUpperCase()?this._elementRef.nativeElement:this._elementRef.nativeElement.getElementsByTagName("INPUT")[0]),this.inputElement&&n&&(this.textMaskInputElement=i.createTextMaskInputElement(Object.assign({inputElement:this.inputElement},this.textMaskConfig)))},n.prototype._compositionStart=function(){this._composing=!0},n.prototype._compositionEnd=function(n){this._composing=!1,this._compositionMode&&this._handleInput(n)},n.decorators=[{type:l.Directive,args:[{host:{"(input)":"_handleInput($event.target.value)","(blur)":"onTouched()","(compositionstart)":"_compositionStart()","(compositionend)":"_compositionEnd($event.target.value)"},selector:"[textMask]",exportAs:"textMask",providers:[e.MASKEDINPUT_VALUE_ACCESSOR]}]}],n.propDecorators={textMaskConfig:[{type:l.Input,args:["textMask"]}]},n}();e.MaskedInputDirective=s,e.TextMaskModule=function(){function n(){}return n.decorators=[{type:l.NgModule,args:[{declarations:[s],exports:[s]}]}],n}();var a=t("vU59");e.conformToMask=a.conformToMask},iRfi:function(n,e,t){"use strict";t.r(e);var l=t("LoAr"),o=function(){return function(){}}(),u=t("C9Ky"),i=["[_nghost-%COMP%]     .parent-Group{padding-left:0}[_nghost-%COMP%]     .acntAccordion .mainLiAclist .title:before{content:none}[_nghost-%COMP%]     .accountli{margin:7px;text-transform:capitalize}[_nghost-%COMP%]     .accounts-side-bar{box-shadow:none;overflow:auto;width:100%}.custom-input-group-addon[_ngcontent-%COMP%]{min-width:40px;border-radius:0;padding:0;border:none}.bg_wrap[_ngcontent-%COMP%]{background:#f5f5f5}.entry_table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400;padding:8px 6px}.entry_table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0;border:0}.entry_table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:0 0!important;border:0;border-radius:0!important;height:28px;line-height:28px;padding:0 6px!important}.entry_table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .form-control.focus[_ngcontent-%COMP%]:focus{background:#ccc!important}.activeRow[_ngcontent-%COMP%]{background:#e5e5e5}.confirmation_box[_ngcontent-%COMP%]{background:#fff;display:inline-block;padding:20px;width:230px;position:absolute;right:280px;z-index:9;min-height:135px;margin:20px 0}.total_box[_ngcontent-%COMP%]{padding:15px 0;border-top:1px solid;border-bottom:1px solid;margin:20px 0;min-width:250px;font-size:14px}.total_box[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:0 8px;display:inline-block;min-width:120px}.appearance_none[_ngcontent-%COMP%]{background:#e5e5e5!important;border:0!important;font-size:16px;color:#333}.account_listbar[_ngcontent-%COMP%]{overflow-y:hidden;height:100vh;width:250px;background:#fff;position:absolute;left:-250px;z-index:0}.sidebar_menu[_ngcontent-%COMP%]{min-height:100vh;background:#262626;color:#fff;float:right;position:relative}.menu_list[_ngcontent-%COMP%]{padding:15px 0}.menu_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.menu_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;padding:4px 12px;display:block}.menu_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.isHidden[_ngcontent-%COMP%]{color:#4d4d4d}.sidebar_list[_ngcontent-%COMP%]{width:300px;position:absolute;right:0;top:0;height:100vh;padding:0!important;border:0;z-index:0;border-left:1px solid #d6d6d6}.sidebar_list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{background:#fff}input[name=entryDate][_ngcontent-%COMP%]{background:0 0!important;border:0;padding:0!important;color:#333;height:auto;width:100px;font-size:16px}textarea[name=narration][_ngcontent-%COMP%]{background:0 0!important;border:0}input[name=entryDate][_ngcontent-%COMP%]:focus, textarea[name=narration][_ngcontent-%COMP%]:focus{background:#e5e5e5!important}[_nghost-%COMP%]     .menu{box-shadow:none!important;border-left:0!important}[_nghost-%COMP%]     .item .list-item{border:0!important}"],s=t("WT9V"),a=t("IfiR"),r=function(){function n(n){var e=this;this._el=n,this.clickCount=0,this.activeIndx=null,this.fieldToActivate=null,this.isOtherKeyPressed=!1,this.el=this._el,setTimeout(function(){e.clickCount=0},2500)}return n.prototype.onKeyDown=function(n){var e=this;if(13===n.which||13===n.keyCode||8===n.which||8===n.keyCode||32===n.which||32===n.keyCode||27===n.which||27===n.keyCode||40===n.which||40===n.keyCode||38===n.which||38===n.keyCode){var t=n.target,l=window.document.querySelectorAll('input[onReturn][type="text"], textarea[onReturn]'),o=Array.from(l),u=o.findIndex(function(n){return n===t});if(13===n.which||13===n.keyCode){if(n.ctrlKey)return t.setAttribute("data-changed",!0);t.setAttribute("data-changed",!1);var i=l[u+1];if(this.selectedField&&this.selectedField===l[u]&&""===l[u].value)"by"===(a=window.document.querySelectorAll("tr.activeRow")[0].children[0].children[0].value)?i=l[u+4]:"to"===a&&(i=l[u+5]);else if(l[u]&&l[u].classList.contains("stock-field")&&this.selectedField!==l[u])this.selectedField=l[u];else if(i&&i.classList.contains("debit-credit"))i=l[u+2];else if(l[u+1]&&l[u+1].classList.contains("byTo")&&l[u+1].disabled)i=l[u+2];else{if(l[u]&&l[u].classList.contains("select-stock-in-invoice"))return this.activeIndx===u?((i=l[u+1]).disabled&&(i=l[u+4]),this.activeIndx=null,i.focus()):this.activeIndx=u;if(l[u]&&l[u].classList.contains("invoice-account-field"))return this.activeIndx===u?(i=l[u+1],setTimeout(function(){return i.disabled&&""===l[u].value.trim()?document.getElementById("invoice-narration").focus():(e.activeIndx=null,i.focus())},100)):this.activeIndx=u}if(i)if(i.disabled&&(i=l[u+2]),l[u]&&l[u].classList.contains("upper-fields"))setTimeout(function(){i.focus()},210);else{if("NaN"!==i.value&&0!==i.value||(i.value=""),this.clickCount>1)return this.clickCount=0,document.getElementById("narration").focus();l[u]&&l[u].classList.contains("from-or-to-acc")&&this.clickCount++,i.focus()}}else if(8===n.which||8===n.keyCode){var s=l[u-1],a=window.document.querySelectorAll("tr.activeRow")[0].children[0].children[0].value;if(l[u]&&l[u].classList.contains("debit-credit")?"by"===a?s=l[u-4]:"to"===a&&(s=l[u-5]):l[u]&&l[u].classList.contains("byTo")?s.disabled&&(s=l[u-2]):l[u-1]&&l[u-1].classList.contains("byTo")&&l[u-1].disabled&&(s=l[u-2]),s&&n.target.value.length===n.target.selectionEnd&&("false"===t.getAttribute("data-changed")||""===t.value.trim()))return n.preventDefault(),s.disabled?((s=l[u-2]).disabled&&(s=l[u-3]),s.focus()):s.focus()}else if(32===n.which||32===n.keyCode)s=l[u];else{if(27===n.which){var r=window.document.getElementById("get-grid-type").getAttribute("data-gridType");return"invoice"===r?o.find(function(n){return n.classList.contains("invoice-date-field")}).focus():"voucher"===r&&o.find(function(n){return n.classList.contains("voucher-date-field")}).focus(),setTimeout(function(){t.focus()},100)}if((38===n.which||40===n.which)&&"false"===t.getAttribute("data-changed"))return t.value="",t.setAttribute("data-changed",!0)}}else(n.keyCode>=48&&n.keyCode<=57||n.keyCode>=65&&n.keyCode<=90)&&n.target.setAttribute("data-changed",!0)},n}(),c=t("gkmW"),d=t("GovN"),p=t("/m5D"),h=t("XC/G"),g=t("L+m2"),m=t("u3bY"),f=function(){function n(){this.notFoundLinkText="Create New",this.noToggleClick=new l.EventEmitter,this.noResultClicked=new l.EventEmitter,this.math=Math}return Object.defineProperty(n.prototype,"rows",{set:function(n){this._rows=n,this.virtualScrollElm&&this.virtualScrollElm.refresh()},enumerable:!0,configurable:!0}),n.prototype.ngOnChanges=function(n){},n.prototype.toggleSelected=function(n){this.noToggleClick.emit(n)},n}(),v=l["\u0275crt"]({encapsulation:0,styles:[[".menu[_ngcontent-%COMP%]{margin:1px 0 0;padding:0;position:absolute;background-color:#fff;width:100%;overflow:auto;box-sizing:border-box;z-index:999;box-shadow:0 2px 3px 0 rgba(34,36,38,.15);border-bottom:1px solid rgba(34,36,38,.15);border-left:1px solid rgba(34,36,38,.15);border-right:1px solid rgba(34,36,38,.15);border-radius:0 0 2px 2px;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;min-height:100%}.item[_ngcontent-%COMP%]{cursor:pointer;white-space:normal;word-break:normal;display:table;width:100%;text-transform:capitalize}.item.selected[_ngcontent-%COMP%]{color:#5b64c9!important;background:#eeeff9!important}.item.hilighted[_ngcontent-%COMP%]{color:#5b64c9!important;background:#e3e4ed!important}.item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:6px 10px}.no-result-link[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#10aae0!important}#noresult[_ngcontent-%COMP%]:hover{background:0 0}[_nghost-%COMP%]     .total-padding{height:calc(100vh - 52px)!important}"]],data:{}});function y(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","item"],["id","noresult"]],[[4,"height","px"]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"a",[["href","javascript:void(0);"]],null,null,null,null,null)),(n()(),l["\u0275ted"](2,null,["",""]))],null,function(n,e){var t=e.component;n(e,0,0,t.noResultLinkEnabled?t.NoFoundMsgHeight:t.NoFoundMsgHeight-20),n(e,2,0,t.notFoundMsg)})}function C(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](0,null,null,0))],null,null)}function b(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"a",[["class","list-item"],["href","javascript:void(0)"],["style","border-bottom: 1px solid #ccc;"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(n()(),l["\u0275ted"](3,null,["",""]))],null,function(n,e){n(e,3,0,e.parent.context.$implicit.label)})}function k(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"div",[["class","item"]],[[2,"selected",null],[2,"hilighted",null],[4,"height","px"]],[[null,"mousedown"]],function(n,e,t){var l=!0;return"mousedown"===e&&(l=!1!==n.component.toggleSelected(n.context.$implicit)&&l),l},null,null)),(n()(),l["\u0275and"](16777216,null,null,2,null,C)),l["\u0275did"](2,540672,null,0,s.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l["\u0275pod"](3,{option:0}),(n()(),l["\u0275and"](16777216,null,null,1,null,b)),l["\u0275did"](5,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component,l=n(e,3,0,e.context.$implicit);n(e,2,0,l,t.optionTemplate),n(e,5,0,!t.optionTemplate)},function(n,e){var t=e.component;n(e,0,0,-1!==(null==t.selectedValues?null:t.selectedValues.indexOf(e.context.$implicit)),e.context.$implicit.isHilighted,t.ItemHeight)})}function x(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","item no-result-link"]],[[4,"height","px"]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"a",[["class","btn-link"],["href","javascript:void(0)"]],null,[[null,"mousedown"]],function(n,e,t){var l=!0,o=n.component;return"mousedown"===e&&(t.stopPropagation(),l=!1!==o.noResultClicked.emit()&&l),l},null,null)),(n()(),l["\u0275ted"](2,null,["",""]))],null,function(n,e){var t=e.component;n(e,0,0,t.NoFoundLinkHeight),n(e,2,0,t.notFoundLinkText)})}function A(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,8,"div",[["class","menu"],["style","background-color: white"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,7,"virtual-scroll",[],null,[[null,"update"]],function(n,e,t){var l=!0;return"update"===e&&(l=!1!==(n.component.viewPortItems=t)&&l),l},g.b,g.a)),l["\u0275did"](2,4964352,[[1,4],["v",4]],0,m.a,[l.ElementRef,l.Renderer],{items:[0,"items"],selectedValues:[1,"selectedValues"],childHeight:[2,"childHeight"],NoFoundMsgHeight:[3,"NoFoundMsgHeight"],NoFoundLinkHeight:[4,"NoFoundLinkHeight"],noResultLinkEnabled:[5,"noResultLinkEnabled"]},{update:"update"}),(n()(),l["\u0275and"](16777216,null,0,1,null,y)),l["\u0275did"](4,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,0,1,null,k)),l["\u0275did"](6,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275and"](16777216,null,0,1,null,x)),l["\u0275did"](8,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,2,0,t._rows,t.selectedValues,0===(null==t.viewPortItems?null:t.viewPortItems.length)?41:void 0,t.NoFoundMsgHeight,t.NoFoundLinkHeight,t.noResultLinkEnabled),n(e,4,0,0===(null==t.viewPortItems?null:t.viewPortItems.length)||1===(null==t.viewPortItems?null:t.viewPortItems.length)&&"createnewitem"===t.viewPortItems[0].value),n(e,6,0,t.viewPortItems),n(e,8,0,0===(null==t.viewPortItems?null:t.viewPortItems.length)&&t.noResultLinkEnabled)},null)}function E(n){return l["\u0275vid"](2,[l["\u0275qud"](671088640,1,{virtualScrollElm:0}),l["\u0275qud"](402653184,2,{listContainer:0}),(n()(),l["\u0275and"](16777216,null,null,1,null,A)),l["\u0275did"](3,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,3,0,t.isOpen&&t._rows)},null)}var w=t("dHrK"),S=function(){function n(n,e,t){this.element=n,this.renderer=e,this.cdRef=t,this.idEl="",this.placeholder="Type to filter",this.multiple=!1,this.mode="default",this.showClear=!1,this.notFoundMsg="No results found",this.notFoundLinkText="Create New",this.notFoundLink=!1,this.isFilterEnabled=!0,this.width="auto",this.ItemHeight=41,this.NoFoundMsgHeight=30,this.NoFoundLinkHeight=30,this.dropdownMinHeight=35,this.useInBuiltFilterForFlattenAc=!1,this.useInBuiltFilterForIOptionTypeItems=!1,this.doNotReset=!1,this.showList=!1,this.filterText="",this.onHide=new l.EventEmitter,this.onShow=new l.EventEmitter,this.onClear=new l.EventEmitter,this.selected=new l.EventEmitter,this.noOptionsFound=new l.EventEmitter,this.noResultsClicked=new l.EventEmitter,this.viewInitEvent=new l.EventEmitter,this.rows=[],this.isOpen=!0,this.filter="",this.filteredData=[],this._selectedValues=[],this._options=[],this.KEYS={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,SPACE:32,UP:38,DOWN:40}}return Object.defineProperty(n.prototype,"options",{get:function(){return this._options},set:function(n){this._options=n,this.updateRows(n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedValues",{get:function(){return this._selectedValues},set:function(n){n||(n=[]),Array.isArray(n)||(n=[n]),this._selectedValues=n.length>0&&this.rows?this.rows.filter(function(e){return-1!==n.findIndex(function(n){return n===e.label||n===e.value})}):n},enumerable:!0,configurable:!0}),n.prototype.updateRows=function(n){void 0===n&&(n=[]),this.rows=n},n.prototype.filterByIOption=function(n,e,t){var l;void 0===t&&(t="default");var o=[];return l=(l=this.getFilteredArrOfIOptionItems(n,e,t).filter(function(n){if(Object(w.startsWith)(n.label.toLocaleLowerCase(),e)||Object(w.startsWith)(n.value.toLocaleLowerCase(),e))return n;o.push(n)})).sort(function(n,e){return n.label.length-e.label.length}),o=o.sort(function(n,e){return n.label.length-e.label.length}),Object(w.concat)(l,o)},n.prototype.getFilteredArrOfIOptionItems=function(n,e,t){return n.filter("flatten"===t?function(n){var t=_.cloneDeep(n.additional.mergedAccounts.split(",").map(function(n){return n.trim().toLocaleLowerCase()}));return _.includes(n.label.toLocaleLowerCase(),e)||_.includes(n.additional.uniqueName.toLocaleLowerCase(),e)||_.includes(t,e)}:function(n){return Object(w.includes)(n.label.toLocaleLowerCase(),e)||Object(w.includes)(n.value.toLocaleLowerCase(),e)})},n.prototype.updateFilter=function(n){var e=this,t=n.toLocaleLowerCase();if(this.useInBuiltFilterForFlattenAc&&this._options)this.filteredData=this.filterByIOption(this._options,t,"flatten");else if(this._options&&this.useInBuiltFilterForIOptionTypeItems)this.filteredData=this.filterByIOption(this._options,t);else{var l=this._options?this._options.filter(function(n){return e.customFilter?e.customFilter(t,n):!t||-1!==n.label.toLocaleLowerCase().indexOf(t)}):[];this.filteredData=l.sort(this.customSorting?this.customSorting:function(n,e){return n.label.length-e.label.length})}this.updateRows(0===this.filteredData.length?[{label:"Create new",value:"createnewitem"}]:this.filteredData)},n.prototype.clearFilter=function(){""!==this.filter&&(this.filter="",this.isFilterEnabled&&this.updateFilter(this.filter))},n.prototype.setDisabledState=function(n){this.disabled=n},n.prototype.toggleSelected=function(n){var e=!0;n&&(this.clearFilter(),this.multiple||this._selectedValues[0]&&this._selectedValues[0].value===n.value&&(e=!1),this.multiple?this.selectMultiple(n):this.selectSingle(n),e&&this.onChange())},n.prototype.selectSingle=function(n){this._selectedValues.splice(0,this.rows.length),this._selectedValues.push(n),this.hide()},n.prototype.selectMultiple=function(n){-1===this.selectedValues.indexOf(n)?this.selectedValues.push(n):this.selectedValues.splice(this.selectedValues.indexOf(n),1)},n.prototype.focusFilter=function(){var n=this;setTimeout(function(){n.renderer.invokeElementMethod(n.inputFilter.nativeElement,"focus")},0)},n.prototype.show=function(){var n=this;if(!this.isOpen&&!this.disabled){if(this.isOpen=!0,this.onShow.emit(),this.menuEle&&this.menuEle.virtualScrollElm&&this.menuEle.virtualScrollElm){var e=this.rows.find(function(e){return e.value===(n._selectedValues.length>0?n._selectedValues[0]:n.rows.length>0?n.rows[0].value:null)});null!==e&&this.menuEle.virtualScrollElm.scrollInto(e)}this.cdRef.markForCheck()}},n.prototype.keydownUp=function(n){var e=n.which;if(this.isOpen)if(e===this.KEYS.ESC||e===this.KEYS.TAB||e===this.KEYS.UP&&n.altKey)this.hide();else if(e===this.KEYS.ENTER)this.menuEle&&this.menuEle.virtualScrollElm&&this.menuEle.virtualScrollElm&&null!==(t=this.menuEle.virtualScrollElm.getHighlightedOption())&&this.toggleSelected(t);else if(e===this.KEYS.UP)this.menuEle&&this.menuEle.virtualScrollElm&&this.menuEle.virtualScrollElm&&null!==(t=this.menuEle.virtualScrollElm.getPreviousHilightledOption())&&(this.menuEle.virtualScrollElm.scrollInto(t),this.menuEle.virtualScrollElm.startupLoop=!0,this.menuEle.virtualScrollElm.refresh(),n.preventDefault());else if(e===this.KEYS.DOWN){var t;this.menuEle&&this.menuEle.virtualScrollElm&&this.menuEle.virtualScrollElm&&null!==(t=this.menuEle.virtualScrollElm.getNextHilightledOption())&&(this.menuEle.virtualScrollElm.scrollInto(t),this.menuEle.virtualScrollElm.startupLoop=!0,this.menuEle.virtualScrollElm.refresh(),n.preventDefault())}this.cdRef.detectChanges()},n.prototype.hide=function(n){if(n)n.relatedTarget&&!this.ele.nativeElement.contains(n.relatedTarget)&&(this.isOpen=!1,this.selectedValues&&1===this.selectedValues.length?this.filter=this.selectedValues[0].label:this.clearFilter(),this.onHide.emit());else if(this.isOpen&&this.doNotReset&&""!==this.filter)this.isOpen=!1,this.propagateChange(this.filter),this.onHide.emit();else{if(this.isOpen=!1,this.selectedValues&&1===this.selectedValues.length)this.filter=this.selectedValues[0].label;else if(this.menuEle&&this.menuEle.virtualScrollElm&&this.menuEle.virtualScrollElm){var e=this.menuEle.virtualScrollElm.getHighlightedOption();null!==e&&this.toggleSelected(e)}else this.clearFilter();this.onHide.emit()}this.cdRef.markForCheck()},n.prototype.filterInputBlur=function(n){if(n.relatedTarget&&this.ele.nativeElement){if(this.ele.nativeElement.contains(n.relatedTarget))return!1;if(this.doNotReset&&n&&n.target&&n.target.value)return!1;this.hide()}},n.prototype.clear=function(){this.disabled||(this.selectedValues=[],this.onChange(),this.clearFilter(),this.onClear.emit(),this.hide())},n.prototype.ngOnInit=function(){},n.prototype.ngAfterViewInit=function(){this.viewInitEvent.emit(!0)},n.prototype.ngOnChanges=function(n){"forceClearReactive"in n&&!n.forceClearReactive.firstChange&&this.forceClearReactive.status&&(this.filter="",this.clear()),"showList"in n&&n.showList.currentValue!==n.showList.previousValue&&(n.showList.currentValue?this.show():n.showList.currentValue||(this.filter=this.selectedValues[0]?this.selectedValues[0].label:"",this.hide())),"filterText"in n&&n.filterText.currentValue!==n.filterText.previousValue&&this.updateFilter(n.filterText.currentValue),"keydownUpInput"in n&&n.keydownUpInput.currentValue!==n.keydownUpInput.previousValue&&this.keydownUp(n.keydownUpInput.currentValue)},n.prototype.writeValue=function(n){this.selectedValues=n,this.cdRef.destroyed||this.cdRef.detectChanges()},n.prototype.propagateChange=function(n){},n.prototype.registerOnChange=function(n){this.propagateChange=n},n.prototype.registerOnTouched=function(){},n.prototype.clearSingleSelection=function(n,e){n.stopPropagation(),this.selectedValues=this.selectedValues.filter(function(n){return n.value!==e.value}).map(function(n){return n.value}),this.onChange()},n.prototype.onChange=function(){if(this.multiple){var n;n=this._selectedValues.map(function(n){return n.value}),this.propagateChange(n),this.selected.emit(this._selectedValues)}else{var e=void 0;this.selectedValues.length>0&&(e=this.selectedValues[0]),e||(e={value:null,label:null,additional:null}),this.filter=e.label,this.propagateChange(e.value),this.selected.emit(e)}},n}(),R=l["\u0275crt"]({encapsulation:0,styles:[['[_nghost-%COMP%]{display:block;position:relative}.header[_ngcontent-%COMP%]:hover{cursor:text}.header.inline[_ngcontent-%COMP%]{background-color:transparent;width:-webkit-max-content;width:-moz-max-content;width:max-content;border:none}.header.open[_ngcontent-%COMP%]{border-radius:2px 2px 0 0;box-shadow:0 2px 3px 0 rgba(34,36,38,.15);border-bottom:none}.header[_ngcontent-%COMP%]:focus{outline:0}div[_ngcontent-%COMP%]{display:block}input[type=text][_ngcontent-%COMP%]{outline:0}[hidden][_ngcontent-%COMP%]{display:none}i.close.icon.clear[_ngcontent-%COMP%]::after{content:"\u2715";padding-right:8px;font-weight:800;color:gray}i.close.icon.clear[_ngcontent-%COMP%]:hover::after{color:red}.clear[_ngcontent-%COMP%]{position:absolute;right:2px;padding-left:2px;padding-right:2px;top:47%;cursor:pointer;font-size:25px;font-weight:500;line-height:100%;opacity:.5;color:#000;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.sh-select-disabled[_ngcontent-%COMP%]{background-color:#e3e3e3;color:#a9a9a9;cursor:not-allowed}.chip[_ngcontent-%COMP%]{display:inline-block;padding:0 7px;height:30px;font-size:14px;line-height:30px;border-radius:4px;background-color:#f4f5f8;margin:0 0 4px 4px}.chipClosebtn[_ngcontent-%COMP%]{padding-left:10px;font-weight:500;float:right;font-size:20px;cursor:pointer;opacity:.6}.chipClosebtn[_ngcontent-%COMP%]:hover{font-weight:700;opacity:.5;color:#000}.sh-select-disabled[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .sh-select-disabled[_ngcontent-%COMP%]   .selectedVal[_ngcontent-%COMP%]{background:#eee!important;pointer-events:none;cursor:not-allowed}.selectedVal[_ngcontent-%COMP%]{border:1px solid #d6d6d6!important;padding-right:22px!important;background:#fff!important}.header.open[_ngcontent-%COMP%] > input[type=text][_ngcontent-%COMP%]{border-color:#d6d6d6}.header[_ngcontent-%COMP%]   .bdr[_ngcontent-%COMP%] > input[type=text][_ngcontent-%COMP%]{border:0}']],data:{}});function O(n){return l["\u0275vid"](2,[l["\u0275qud"](402653184,1,{inputFilter:0}),l["\u0275qud"](402653184,2,{mainContainer:0}),l["\u0275qud"](402653184,3,{menuEle:0}),l["\u0275qud"](402653184,4,{ele:0}),(n()(),l["\u0275eld"](4,0,[[4,0],["dd",1]],null,2,"div",[],[[4,"width",null]],null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,"virtual-list-menu",[],null,[[null,"noToggleClick"],[null,"noResultClicked"]],function(n,e,t){var l=!0,o=n.component;return"noToggleClick"===e&&(l=!1!==o.toggleSelected(t)&&l),"noResultClicked"===e&&(o.noResultsClicked.emit(),l=!1!==o.hide()&&l),l},E,v)),l["\u0275did"](6,573440,[[3,4],["menuEle",4]],0,f,[],{selectedValues:[0,"selectedValues"],isOpen:[1,"isOpen"],optionTemplate:[2,"optionTemplate"],notFoundMsg:[3,"notFoundMsg"],notFoundLinkText:[4,"notFoundLinkText"],noResultLinkEnabled:[5,"noResultLinkEnabled"],ItemHeight:[6,"ItemHeight"],NoFoundMsgHeight:[7,"NoFoundMsgHeight"],NoFoundLinkHeight:[8,"NoFoundLinkHeight"],dropdownMinHeight:[9,"dropdownMinHeight"],rows:[10,"rows"]},{noToggleClick:"noToggleClick",noResultClicked:"noResultClicked"})],function(n,e){var t=e.component;n(e,6,1,[t.selectedValues,t.isOpen,t.optionTemplate,t.notFoundMsg,t.notFoundLinkText,t.notFoundLink,t.ItemHeight,t.NoFoundMsgHeight,t.NoFoundLinkHeight,t.dropdownMinHeight,t.rows])},function(n,e){n(e,4,0,e.component.width)})}var N=t("gdoh"),D=t("ecKS"),I=t("Rt5d"),M=t("OQ+T"),P=t("+aGA"),T=t("9fUo"),F=t("lqvn"),V=t("mhnT"),q=t("rRBh"),L=t("ULJ3"),U=(t("ZL5D"),t("Ymxs")),B=t("fQLH"),j=function(){function n(){this.keyInformation=new B.a}return n.prototype.setKey=function(n){this.keyInformation.next(n)},n}(),$=t("Mr//"),G=t("flj8"),K=t("Zl8a"),H=t("wgY5"),Q=t("RSyT"),Y=(t("IWM5"),t("LiEJ")),z=function(){function n(n){var e=this;this._toaster=n,this.selectedPageInfo=new Y.a(null),this.flattenAccounts=new Y.a(null),this.cashAccounts=new Y.a(null),this.purchaseAccounts=new Y.a(null),this.bankAccounts=new Y.a(null),this.taxAccounts=new Y.a(null),this.expenseAccounts=new Y.a(null),this.salesAccounts=new Y.a(null),this.filteredAccounts=new Y.a(null),this.selectedFieldType=new Y.a(null),this.mappingObj=[{purchase:{by:["cash","bank","currentliabilities"],to:["expenses"]},sales:{by:["currentassets","currentliabilities"],to:["income"]}}],this.requestData=new Y.a(null),this.transactionObj={},this.selectedFieldType.pipe(Object(F.a)(function(n,e){return n===e})).subscribe(function(n){if(n&&e.selectedPageInfo.value){var t=void 0;"Journal"===e.selectedPageInfo.value.page&&("by"===n?(t=_.cloneDeep(e.flattenAccounts.value),e.filteredAccounts.next(t)):"to"===n&&(t=_.cloneDeep(e.flattenAccounts.value),e.filteredAccounts.next(t))),"Purchase"===e.selectedPageInfo.value.page&&("by"===n?(t=_.cloneDeep(e.cashAccounts.value.concat(e.bankAccounts.value).concat(e.taxAccounts.value)),e.filteredAccounts.next(t)):"to"===n&&(t=_.cloneDeep(e.expenseAccounts.value),e.filteredAccounts.next(t))),"Sales"===e.selectedPageInfo.value.page&&("by"===n?(t=_.cloneDeep(e.salesAccounts.value),e.filteredAccounts.next(t)):"to"===n&&(t=_.cloneDeep(e.salesAccounts.value),e.filteredAccounts.next(t))),"Payment"===e.selectedPageInfo.value.page&&("by"===n?(t=_.cloneDeep(e.flattenAccounts.value),e.filteredAccounts.next(t)):"to"===n&&(t=_.cloneDeep(e.salesAccounts.value.concat(e.bankAccounts.value)),e.filteredAccounts.next(t))),"Contra"===e.selectedPageInfo.value.page&&("by"===n?(t=_.cloneDeep(e.salesAccounts.value.concat(e.bankAccounts.value).concat(e.taxAccounts.value)),e.filteredAccounts.next(t)):"to"===n&&(t=_.cloneDeep(e.salesAccounts.value.concat(e.bankAccounts.value).concat(e.taxAccounts.value)),e.filteredAccounts.next(t))),"Receipt"===e.selectedPageInfo.value.page&&("by"===n?(t=_.cloneDeep(e.cashAccounts.value.concat(e.bankAccounts.value)),e.filteredAccounts.next(t)):"to"===n&&(t=_.cloneDeep(e.flattenAccounts.value),e.filteredAccounts.next(t))),"Debit note"===e.selectedPageInfo.value.page&&("by"===n?(t=_.cloneDeep(e.cashAccounts.value.concat(e.bankAccounts.value).concat(e.taxAccounts.value)),e.filteredAccounts.next(t)):"to"===n&&(t=_.cloneDeep(e.expenseAccounts.value),e.filteredAccounts.next(t))),"Credit note"===e.selectedPageInfo.value.page&&("by"===n?(t=_.cloneDeep(e.salesAccounts.value),e.filteredAccounts.next(t)):"to"===n&&(t=_.cloneDeep(e.salesAccounts.value),e.filteredAccounts.next(t)))}else e.filteredAccounts.next(e.flattenAccounts.value)})}return n.prototype.setVoucher=function(n){this.selectedPageInfo.next(n),this.getAccounts()},n.prototype.setFlattenAccounts=function(n){var e=[],t=[],l=[],o=[],u=[],i=[];n.forEach(function(n){n.parentGroups.find(function(n){return"cash"===n.uniqueName})&&e.push(n),n.parentGroups.find(function(n){return"purchases"===n.uniqueName||"directexpenses"===n.uniqueName})&&t.push(n),n.parentGroups.find(function(n){return"bankaccounts"===n.uniqueName})&&l.push(n),n.parentGroups.find(function(n){return"currentliabilities"===n.uniqueName})&&o.push(n),n.parentGroups.find(function(n){return"indirectexpenses"===n.uniqueName||"operatingcost"===n.uniqueName})&&u.push(n),n.parentGroups.find(function(n){return"revenuefromoperations"===n.uniqueName||"currentassets"===n.uniqueName||"currentliabilities"===n.uniqueName})&&i.push(n)}),this.cashAccounts.next(e),this.purchaseAccounts.next(t),this.bankAccounts.next(l),this.taxAccounts.next(o),this.expenseAccounts.next(u),this.salesAccounts.next(i),this.flattenAccounts.next(n),this.filteredAccounts.next(this.flattenAccounts.value)},n.prototype.getAccounts=function(){var n=[];if(this.selectedPageInfo.value){switch(this.selectedPageInfo.value.page){case"Journal":n=this.purchaseAccounts.value.concat(this.expenseAccounts.value).concat(this.taxAccounts.value).concat(this.salesAccounts.value);break;case"Purchase":n=this.bankAccounts.value.concat(this.cashAccounts.value).concat(this.expenseAccounts.value).concat(this.taxAccounts.value);break;case"Sales":n=this.bankAccounts.value.concat(this.cashAccounts.value).concat(this.expenseAccounts.value).concat(this.salesAccounts.value);break;case"Credit note":n=this.taxAccounts.value.concat(this.salesAccounts.value);break;case"Debit note":n=this.purchaseAccounts.value.concat(this.taxAccounts.value).concat(this.expenseAccounts.value);break;case"Payment":n=this.flattenAccounts.value;break;case"Receipt":n=this.flattenAccounts.value;case"Contra":n=this.cashAccounts.value.concat(this.bankAccounts.value);break;default:n=this.flattenAccounts.value}n&&n.length&&this.filteredAccounts.next(n)}},n.prototype.prepareRequestForAPI=function(n){var e=_.cloneDeep(n),t=[];return _.each(e.transactions,function(n){n.inventory&&n.inventory.length?_.each(n.inventory,function(e,l){var o=null;o=_.cloneDeep(n),e.stock.name&&e.amount?o.inventory=e:delete o.inventory,o.amount=o.inventory?o.inventory.amount:o.amount,t.push(o)}):(delete n.inventory,t.push(n))}),t.length&&(e.transactions=t),e},n.prototype.validateForData=function(n){return!0},n}(),J=(t("NXsP"),t("fc5e")),W=[{code:"F9",route:"purchase"}],Z=function(){function n(n,e,t,o,u,i,s,a,r,c,d){var p=this;this._accountService=n,this._ledgerActions=e,this.store=t,this._keyboardService=o,this.flyAccountActions=u,this._toaster=i,this._router=s,this._tallyModuleService=a,this.componentFactoryResolver=r,this.inventoryService=c,this.fb=d,this.showAccountList=new l.EventEmitter,this.showLedgerAccountList=!1,this.selectedInput="by",this.requestObj={},this.totalCreditAmount=0,this.totalDebitAmount=0,this.showConfirmationBox=!1,this.moment=H,this.showFromDatePicker=!1,this.navigateURL=W,this.showStockList=!1,this.activeIndex=0,this.displayDay="",this.dateMask=[/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],this.totalDiffAmount=0,this.voucherType=null,this.currentSelectedValue="",this.filterByText="",this.asideMenuStateForProductService="out",this.isFirstRowDeleted=!1,this.autoFocusStockGroupField=!1,this.destroyed$=new K.a(1),this.isNoAccFound=!1,this.isComponentLoaded=!1,this.requestObj.transactions=[],this._keyboardService.keyInformation.subscribe(function(n){p.watchKeyboardEvent(n)}),this._tallyModuleService.selectedPageInfo.pipe(Object(F.a)(function(n,e){return n&&e?w.isEqual(n,e):!(n&&!e||!n&&e)})).subscribe(function(n){n&&"voucher"===n.gridType?(p.requestObj.voucherType=n.page,setTimeout(function(){p.dateField.nativeElement.focus()},50)):n&&p._tallyModuleService.requestData.next(p.requestObj)}),this.createStockSuccess$=this.store.select(function(n){return n.inventory.createStockSuccess}).pipe(Object(V.a)(this.destroyed$))}return n.prototype.ngOnInit=function(){var n=this;this.chequeDetailForm=this.fb.group({chequeClearanceDate:[""],chequeNumber:["",[a.Validators.required]]}),this._tallyModuleService.requestData.pipe(Object(F.a)(function(n,e){return n&&e?w.isEqual(n,e):!(n&&!e||!n&&e)})).subscribe(function(e){e&&(n.requestObj=w.cloneDeep(e))}),this.store.select(function(n){return n.ledger.ledgerCreateSuccess}).pipe(Object(V.a)(this.destroyed$)).subscribe(function(e){e&&(n._toaster.successToast("Entry created successfully","Success"),n.refreshEntry(),n.store.dispatch(n._ledgerActions.ResetLedger()),n.requestObj.description="",n.dateField.nativeElement.focus())}),this.refreshEntry(),this._tallyModuleService.filteredAccounts.subscribe(function(e){if(e){var t=[];e.forEach(function(n){t.push({label:n.name+" ("+n.uniqueName+")",value:n.uniqueName,additional:n})}),n.flattenAccounts=t,n.inputForList=w.cloneDeep(n.flattenAccounts)}}),this.createStockSuccess$.pipe(Object(V.a)(this.destroyed$)).subscribe(function(e){e&&(n.asideMenuStateForProductService="out",n.autoFocusStockGroupField=!1,n.getStock(null,null,!0),setTimeout(function(){n.dateField.nativeElement.focus()},1e3))})},n.prototype.ngOnChanges=function(n){"openDatePicker"in n&&n.openDatePicker.currentValue!==n.openDatePicker.previousValue&&(this.showFromDatePicker=n.openDatePicker.currentValue,this.dateField.nativeElement.focus()),"openCreateAccountPopup"in n&&n.openCreateAccountPopup.currentValue!==n.openCreateAccountPopup.previousValue&&n.openCreateAccountPopup.currentValue&&this.showQuickAccountModal(),"saveEntryOnCtrlA"in n&&n.saveEntryOnCtrlA.currentValue!==n.saveEntryOnCtrlA.previousValue&&n.saveEntryOnCtrlA.currentValue&&this.saveEntry()},n.prototype.newEntryObj=function(n){void 0===n&&(n="to"),this.requestObj.transactions.push({amount:null,particular:"",applyApplicableTaxes:!1,isInclusiveTax:!1,type:n,taxes:[],total:null,discounts:[],inventory:[],selectedAccount:{name:"",UniqueName:"",groupUniqueName:"",account:""}})},n.prototype.initInventory=function(){return{unit:{stockUnitCode:"",code:"",rate:null},quantity:null,stock:{uniqueName:"",name:""},amount:null}},n.prototype.selectRow=function(n,e){this.isSelectedRow=n,this.selectedIdx=e,this.showLedgerAccountList=!1},n.prototype.selectEntryType=function(n,e,t){2===(e=e.trim()).length&&"to"!==e.toLowerCase()&&"by"!==e.toLowerCase()?(this._toaster.errorToast("Spell error, you can only use 'To/By'"),n.type="to"):n.type=e},n.prototype.onAccountFocus=function(n,e,t,l){var o=this;this.selectedAccountInputField=n.target,this.selectedField="account",this.showConfirmationBox=!1,this.inputForList=w.cloneDeep(this.flattenAccounts),this.selectedParticular=e,this.selectRow(!0,l),this.filterAccount(t),setTimeout(function(){o.showLedgerAccountList=!0},200)},n.prototype.onStockFocus=function(n,e,t){var l=this;this.selectedStockInputField=n.target,this.showConfirmationBox=!1,this.selectedStockIdx=e,this.selectedIdx=t,this.getStock(this.groupUniqueName),this.getStock(),this.showLedgerAccountList=!0,setTimeout(function(){l.selectedField="stock"},100)},n.prototype.onAccountBlur=function(n){this.arrowInput={key:0},this.accountSearch&&(this.searchAccount(""),this.accountSearch="")},n.prototype.openCreateAccountPopupIfRequired=function(n){},n.prototype.onDateFieldFocus=function(){var n=this;setTimeout(function(){n.showLedgerAccountList=!1,n.showStockList=!1},100)},n.prototype.onAmountFieldBlur=function(n){},n.prototype.onSubmitChequeDetail=function(){var n=this,e=this.chequeDetailForm.value;this.requestObj.chequeNumber=e.chequeNumber,this.requestObj.chequeClearanceDate=e.chequeClearanceDate,this.closeChequeDetailForm(),setTimeout(function(){n.selectedParticular.focus()},10)},n.prototype.closeChequeDetailForm=function(){this.chequeEntryModal.hide()},n.prototype.openChequeDetailForm=function(n){var e=this;return this.chequeEntryModal.show(),setTimeout(function(){e.chequeNumberInput.nativeElement.focus()},200)},n.prototype.setAccount=function(n){!n.parentGroups.find(function(n){return"bankaccounts"===n.uniqueName})||this.requestObj.chequeNumber||this.requestObj.chequeClearanceDate||this.openChequeDetailForm(n);var e=this.selectedIdx,t=this.requestObj.transactions[e];if(n){var l={name:n.name,UniqueName:n.uniqueName,groupUniqueName:n.parentGroups[n.parentGroups.length-1].uniqueName,account:n.name,parentGroups:n.parentGroups};if(t.particular=l.UniqueName,t.selectedAccount=l,t.stocks=n.stocks,t.amount=this.calculateDiffAmount(t.type),t.amount=t.amount?t.amount:null,n){this.groupUniqueName=l.groupUniqueName,this.selectAccUnqName=n.uniqueName;var o=this.requestObj.transactions[e].inventory?this.requestObj.transactions[e].inventory.length:0;(!o||this.requestObj.transactions[e].inventory&&this.requestObj.transactions[e].inventory[o-1].stock.uniqueName)&&this.requestObj.transactions[e].inventory.push(this.initInventory())}}else this.deleteRow(e)},n.prototype.searchAccount=function(n){this.filterByText=n},n.prototype.searchStock=function(n){this.filterByText=n},n.prototype.onStockBlur=function(n){this.selectedStk=n,this.filterByText="",this.showLedgerAccountList=!1},n.prototype.addNewEntry=function(n,e,t){var l=t,o=document.getElementById("first_element_"+(t-1));0===n||"0"===n?(this.isFirstRowDeleted=0===t,this.requestObj.transactions.splice(l,1),null===o?this.dateField.nativeElement.focus():o.focus(),this.requestObj.transactions.length||this.newEntryObj("by")):this.calModAmt(n,e,l)},n.prototype.calModAmt=function(n,e,t){var l=this.requestObj.transactions.length-1;e.amount=Number(n),e.total=e.amount,t===l&&this.requestObj.transactions[t].selectedAccount.name&&this.newEntryObj();var o=w.filter(this.requestObj.transactions,function(n){return"by"===n.type});this.totalDebitAmount=w.sumBy(o,function(n){return Number(n.amount)});var u=w.filter(this.requestObj.transactions,function(n){return"to"===n.type});this.totalCreditAmount=w.sumBy(u,function(n){return Number(n.amount)})},n.prototype.openConfirmBox=function(n){var e=this;if(this.showLedgerAccountList=!1,this.showStockList=!1,!(this.requestObj.transactions.length>2))return this._toaster.errorToast("Total credit amount and Total debit amount should be equal.","Error"),setTimeout(function(){return e.narrationBox.nativeElement.focus()},500);this.showConfirmationBox=!0,this.requestObj.description.length>1&&(this.requestObj.description=this.requestObj.description.replace(/(?:\r\n|\r|\n)/g,""),setTimeout(function(){n.focus()},100))},n.prototype.saveEntry=function(){var n=this,e=w.cloneDeep(this.requestObj);if(w.clone(e.voucherType),e.entryDate=this.journalDate,e.transactions=this.validateTransaction(e.transactions),e.transactions){var t=this.validateForContraEntry(e),l=this.validateForSalesAndPurchaseEntry(e);if(t&&"Contra"!==e.voucherType)return this._toaster.errorToast("Contra entry (Cash + Bank), not allowed in "+e.voucherType,"Error"),setTimeout(function(){return n.narrationBox.nativeElement.focus()},500);if(!t&&"Contra"===e.voucherType)return this._toaster.errorToast("There should be Cash and Bank entry in contra.","Error"),setTimeout(function(){return n.narrationBox.nativeElement.focus()},500);if(l&&"Journal"===e.voucherType)return this._toaster.errorToast("Sales and Purchase entry not allowed in journal.","Error"),setTimeout(function(){return n.narrationBox.nativeElement.focus()},500);if(this.totalCreditAmount===this.totalDebitAmount)if(this.validatePaymentAndReceipt(e)){w.forEach(e.transactions,function(n){n.type="by"===n.type?"credit":"debit"});var o=w.maxBy(e.transactions,function(n){return n.amount}).selectedAccount.UniqueName,u=w.findIndex(e.transactions,function(n){return n.selectedAccount.UniqueName===o});e.transactions.splice(u,1),e=this._tallyModuleService.prepareRequestForAPI(e),this.store.dispatch(this._ledgerActions.CreateBlankLedger(e,o))}else this._toaster.errorToast("Please select at least one cash or bank account in "+("Payment"===e.voucherType?"to":"by").toUpperCase(),"Error"),setTimeout(function(){return n.narrationBox.nativeElement.focus()},500);else this._toaster.errorToast("Total credit amount and Total debit amount should be equal.","Error"),setTimeout(function(){return n.narrationBox.nativeElement.focus()},500)}},n.prototype.validateForContraEntry=function(n){var e=n.transactions.find(function(n){return"by"===n.type&&n.selectedAccount.parentGroups.find(function(n){return"bankaccounts"===n.uniqueName||"cash"===n.uniqueName})}),t=n.transactions.find(function(n){return"to"===n.type&&n.selectedAccount.parentGroups.find(function(n){return"bankaccounts"===n.uniqueName||"cash"===n.uniqueName})});return!(!e||!t)},n.prototype.validateForSalesAndPurchaseEntry=function(n){var e=n.transactions.find(function(n){return"by"===n.type&&n.selectedAccount.parentGroups.find(function(n){return"revenuefromoperations"===n.uniqueName||"currentassets"===n.uniqueName||"currentliabilities"===n.uniqueName||"purchases"===n.uniqueName||"directexpenses"===n.uniqueName})}),t=n.transactions.find(function(n){return"to"===n.type&&n.selectedAccount.parentGroups.find(function(n){return"revenuefromoperations"===n.uniqueName||"currentassets"===n.uniqueName||"currentliabilities"===n.uniqueName||"purchases"===n.uniqueName||"directexpenses"===n.uniqueName})});return!(!e||!t)},n.prototype.validatePaymentAndReceipt=function(n){if("Payment"===n.voucherType||"Receipt"===n.voucherType){var e="Payment"===n.voucherType?"to":"by",t=n.transactions.filter(function(n){return n.type===e}).filter(function(n){return-1!==n.selectedAccount.parentGroups.findIndex(function(n){return"cash"===n.uniqueName||"bankaccounts"===n.uniqueName})});return!(!t||!t.length)}return!0},n.prototype.refreshEntry=function(){var n=this;this.requestObj.transactions=[],this.showConfirmationBox=!1,this.totalCreditAmount=0,this.totalDebitAmount=0,this.requestObj.entryDate=H().format(L.a),this.journalDate=H().format(L.a),this.requestObj.description="",this.dateField.nativeElement.focus(),setTimeout(function(){n.newEntryObj(),n.requestObj.transactions[0].type="by"},100)},n.prototype.ngAfterViewInit=function(){var n=this;this.isComponentLoaded=!0,setTimeout(function(){n.isNoAccFound=!1},3e3),setTimeout(function(){n.refreshEntry()},200)},n.prototype.ngOnDestroy=function(){this.destroyed$.next(!0),this.destroyed$.complete()},n.prototype.setDate=function(n){this.showFromDatePicker=!this.showFromDatePicker,this.requestObj.entryDate=H(n).format(L.a)},n.prototype.watchKeyboardEvent=function(n){if(n){var e=w.find(this.navigateURL,function(e){return e.code===n.key});e&&this._router.navigate(["accounting",e.route])}},n.prototype.removeBlankTransaction=function(n){return w.forEach(n,function(e,t){!e||e.particular||e.amount||(n=w.without(n,e))}),n},n.prototype.validateTransaction=function(n){var e=this.removeBlankTransaction(n);return w.forEach(e,function(n,e){if(n.particular&&!n.amount)n.amount=0;else if(n&&!n.particular)return this.entryIsValid=!1,!1}),e},n.prototype.openStockList=function(){this.showLedgerAccountList=!1,this.showStockList=!0},n.prototype.onSelectStock=function(n){if(n){var e=w.cloneDeep(n);this.prepareEntry(e,this.selectedIdx)}else this.requestObj.transactions[this.selectedIdx].inventory.splice(this.selectedStockIdx,1)},n.prototype.prepareEntry=function(n,e){var t=this.selectedStockIdx;n&&n.stockUnit&&(this.requestObj.transactions[e].inventory[t].unit&&(this.requestObj.transactions[e].inventory[t].unit.rate=n.amount/n.openingQuantity,this.requestObj.transactions[e].inventory[t].unit.code=n.stockUnit.code,this.requestObj.transactions[e].inventory[t].unit.stockUnitCode=n.stockUnit.name),this.requestObj.transactions[e].inventory[t].stock={name:n.name,uniqueName:n.uniqueName},this.changePrice(t,this.requestObj.transactions[e].inventory[t].unit.rate))},n.prototype.changePrice=function(n,e){var t=this.selectedIdx;this.requestObj.transactions[t].inventory[n].unit.rate=Number.isNaN(e)?0:Number(w.cloneDeep(e)),this.requestObj.transactions[t].inventory[n].amount=Number((this.requestObj.transactions[t].inventory[n].unit.rate*this.requestObj.transactions[t].inventory[n].quantity).toFixed(2)),this.amountChanged(n)},n.prototype.amountChanged=function(n){var e=this.selectedIdx;this.requestObj.transactions&&this.requestObj.transactions[e].inventory[n].stock&&this.requestObj.transactions[e].inventory[n].quantity&&(this.requestObj.transactions[e].inventory[n].unit.rate=Number((this.requestObj.transactions[e].inventory[n].amount/this.requestObj.transactions[e].inventory[n].quantity).toFixed(2)));var t=this.calculateTransactionTotal(this.requestObj.transactions[e].inventory);this.requestObj.transactions[e].total=t,this.requestObj.transactions[e].amount=t},n.prototype.calculateTransactionTotal=function(n){var e=0;return n.forEach(function(n){e+=Number(n.amount)}),e},n.prototype.changeQuantity=function(n,e){var t=this.selectedIdx;this.requestObj.transactions[t].inventory[n].quantity=Number(e),this.requestObj.transactions[t].inventory[n].amount=Number((this.requestObj.transactions[t].inventory[n].unit.rate*this.requestObj.transactions[t].inventory[n].quantity).toFixed(2)),this.amountChanged(n)},n.prototype.validateAndAddNewStock=function(n){var e=this.selectedIdx;this.requestObj.transactions[e].inventory.length-1===n&&this.requestObj.transactions[e].inventory[n].amount&&this.requestObj.transactions[e].inventory.push(this.initInventory())},n.prototype.filterAccount=function(n){n&&this._tallyModuleService.selectedFieldType.next(n)},n.prototype.detectKey=function(n){this.keyUpDownEvent=n},n.prototype.hideListItems=function(){},n.prototype.dateEntered=function(){var n=H(this.journalDate,"DD-MM-YYYY");this.displayDay="Invalid date"!==H(n).format("dddd")?H(n).format("dddd"):""},n.prototype.validateAccount=function(n,e,t){if(t!==this.requestObj.transactions.length-1)return n.selectedAccount.account?n.selectedAccount.account!==n.selectedAccount.name?(this._toaster.errorToast("No account found with name "+n.selectedAccount.account),void e.preventDefault()):void 0:(n.selectedAccount={},n.amount=0,n.inventory=[],void(t?this.requestObj.transactions.splice(t,1):e.preventDefault()))},n.prototype.onItemSelected=function(n){var e=this;if(setTimeout(function(){e.currentSelectedValue="",e.showLedgerAccountList=!1},200),"createnewitem"===n.value)return this.showQuickAccountModal();"account"===this.selectedField?this.setAccount(n.additional):"stock"===this.selectedField&&this.onSelectStock(n.additional)},n.prototype.getStock=function(n,e,t,l){var o=this;void 0===t&&(t=!1),void 0===l&&(l=!1),this.allStocks&&this.allStocks.length&&!t?this.sortStockItems(w.cloneDeep(this.allStocks)):this.inventoryService.GetStocks().pipe(Object(V.a)(this.destroyed$)).subscribe(function(n){"success"===n.status&&(o.allStocks=w.cloneDeep(n.body.results),o.sortStockItems(o.allStocks),l&&(o.selectedStockInputField.value="",o.selectedStockInputField.focus()))})},n.prototype.sortStockItems=function(n){var e=[];w.forEach(n,function(n){e.push({label:n.name+" ("+n.uniqueName+")",value:n.uniqueName,additional:n})}),this.stockList=e,this.inputForList=w.cloneDeep(this.stockList)},n.prototype.loadQuickAccountComponent=function(){var n=this;this.quickAccountModal.config.backdrop=!1;var e=this.componentFactoryResolver.resolveComponentFactory(J.a),t=this.quickAccountComponent.viewContainerRef;t.remove();var l=t.createComponent(e).instance;l.needAutoFocus=!0,l.closeQuickAccountModal.subscribe(function(e){n.hideQuickAccountModal(),l.newAccountForm.reset(),l.destroyed$.next(!0),l.destroyed$.complete(),n.isNoAccFound=!1,n.dateField.nativeElement.focus()}),l.isQuickAccountCreatedSuccessfully$.subscribe(function(e){e&&n.refreshAccountListData(!0)})},n.prototype.showQuickAccountModal=function(){"account"===this.selectedField?(this.loadQuickAccountComponent(),this.quickAccountModal.show()):"stock"===this.selectedField&&(this.asideMenuStateForProductService="in",this.autoFocusStockGroupField=!0)},n.prototype.hideQuickAccountModal=function(){var n=this;return this.quickAccountModal.hide(),this.dateField.nativeElement.focus(),setTimeout(function(){n.selectedAccountInputField.value="",n.selectedAccountInputField.focus()},200)},n.prototype.closeCreateStock=function(){this.asideMenuStateForProductService="out",this.autoFocusStockGroupField=!1,this.filterByText="",this.dateField.nativeElement.focus(),this.getStock(null,null,!0,!0)},n.prototype.onCheckNumberFieldKeyDown=function(n,e){var t=this;if(n&&(13===n.keyCode||13===n.which))return n.preventDefault(),n.stopPropagation(),setTimeout(function(){"chqNumber"===e?t.chequeClearanceDateInput.nativeElement.focus():"chqDate"===e&&t.chqFormSubmitBtn.nativeElement.focus()},100)},n.prototype.keyUpOnSubmitButton=function(n){var e=this;return n&&(39===n.keyCode||39===n.which)||78===n.keyCode||78===n.which?setTimeout(function(){return e.resetButton.nativeElement.focus()},50):!n||8!==n.keyCode&&8!==n.which?void 0:(this.showConfirmationBox=!1,setTimeout(function(){return e.narrationBox.nativeElement.focus()},50))},n.prototype.keyUpOnResetButton=function(n){var e=this;return n&&(37===n.keyCode||37===n.which)||89===n.keyCode||89===n.which?setTimeout(function(){return e.submitButton.nativeElement.focus()},50):!n||13!==n.keyCode&&13!==n.which?void 0:(this.showConfirmationBox=!1,setTimeout(function(){return e.narrationBox.nativeElement.focus()},50))},n.prototype.onNoAccountFound=function(n){n&&this.isComponentLoaded&&(this.isNoAccFound=!0)},n.prototype.deleteRow=function(n){this.requestObj.transactions.splice(n,1),n||(this.newEntryObj(),this.requestObj.transactions[0].type="by")},n.prototype.calculateDiffAmount=function(n){return"by"===n?this.totalDiffAmount=this.totalDebitAmount<this.totalCreditAmount?this.totalCreditAmount-this.totalDebitAmount:0:"to"===n?this.totalDiffAmount=this.totalCreditAmount<this.totalDebitAmount?this.totalDebitAmount-this.totalCreditAmount:0:void 0},n.prototype.refreshAccountListData=function(n){var e=this;void 0===n&&(n=!1),this.store.select(function(n){return n.session.companyUniqueName}).subscribe(function(t){t&&""!==t&&e._accountService.GetFlattenAccounts("","","").pipe(Object(V.a)(e.destroyed$)).subscribe(function(t){"success"===t.status&&(e._tallyModuleService.setFlattenAccounts(t.body.results),n&&(e.selectedAccountInputField.value="",e.selectedAccountInputField.focus()))})})},n}(),X=t("981U"),nn=l["\u0275crt"]({encapsulation:0,styles:[i],data:{animation:[{type:7,name:"slideInOut",definitions:[{type:0,name:"in",styles:{type:6,styles:{transform:"translate3d(0, 0, 0)"},offset:null},options:void 0},{type:0,name:"out",styles:{type:6,styles:{transform:"translate3d(100%, 0, 0)"},offset:null},options:void 0},{type:1,expr:"in => out",animation:{type:4,styles:null,timings:"400ms ease-in-out"},options:null},{type:1,expr:"out => in",animation:{type:4,styles:null,timings:"400ms ease-in-out"},options:null}],options:{}}]}});function en(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,52,"tr",[],null,null,null,null,null)),l["\u0275did"](1,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](2,{activeRow:0}),(n()(),l["\u0275eld"](3,0,null,null,9,"td",[["colspan",""]],[[4,"width","px"]],null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,8,"input",[["class","form-control stock-field"],["onReturn",""],["placeholder","Type to search stock"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"],[null,"keydown.Tab"],[null,"keyup"],[null,"ngModelChange"],[null,"focus"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,7)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,7).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,7)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,7)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,12).onKeyDown(t)&&o),"keydown"===e&&(o=!1!==u.detectKey(t)&&o),"keydown.Tab"===e&&(o=!1!==u.addNewEntry(n.parent.parent.context.$implicit.amount,n.parent.parent.context.$implicit,n.parent.parent.context.index)&&o),"keyup"===e&&(o=!1!==u.searchStock(null==t?null:null==t.target?null:t.target.value)&&o),"ngModelChange"===e&&(o=!1!==(n.context.$implicit.stock.name=t)&&o),"focus"===e&&(o=!1!==u.onStockFocus(t,n.context.index,n.parent.parent.context.index)&&o),"blur"===e&&(o=!1!==u.onStockBlur(l["\u0275nov"](n,14))&&o),o},null,null)),l["\u0275did"](5,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](6,{focus:0}),l["\u0275did"](7,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](9,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](11,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](12,16384,null,0,r,[l.ElementRef],{onReturn:[0,"onReturn"]},null),(n()(),l["\u0275eld"](13,0,null,null,10,"td",[],null,null,null,null,null)),(n()(),l["\u0275eld"](14,0,[["qty",1]],null,9,"input",[["class","form-control text-right"],["decimalDigitsDirective",""],["onReturn",""],["placeholder","Quantity"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"],[null,"keypress"],[null,"paste"],[null,"drop"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,17)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,17).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,17)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,17)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,22).onKeyDown(t)&&o),"keypress"===e&&(o=!1!==l["\u0275nov"](n,22).onKeyPress(t)&&o),"paste"===e&&(o=!1!==l["\u0275nov"](n,22).onPaste(t)&&o),"drop"===e&&(o=!1!==l["\u0275nov"](n,22).onDrop(t)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,23).onKeyDown(t)&&o),"ngModelChange"===e&&(o=!1!==(n.context.$implicit.quantity=t)&&o),"ngModelChange"===e&&(o=!1!==u.changeQuantity(n.context.index,n.context.$implicit.quantity)&&o),"focus"===e&&(o=!1!==(u.selectedIdx=n.parent.parent.context.index)&&o),o},null,null)),l["\u0275did"](15,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](16,{focus:0}),l["\u0275did"](17,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](19,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](21,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](22,147456,null,0,c.a,[l.ElementRef,d.m],{DecimalPlaces:[0,"DecimalPlaces"]},null),l["\u0275did"](23,16384,null,0,r,[l.ElementRef],{onReturn:[0,"onReturn"]},null),(n()(),l["\u0275eld"](24,0,null,null,10,"td",[],null,null,null,null,null)),(n()(),l["\u0275eld"](25,0,null,null,9,"input",[["class","form-control text-right"],["decimalDigitsDirective",""],["onReturn",""],["placeholder","Rate"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"],[null,"keypress"],[null,"paste"],[null,"drop"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,28)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,28).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,28)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,28)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,33).onKeyDown(t)&&o),"keypress"===e&&(o=!1!==l["\u0275nov"](n,33).onKeyPress(t)&&o),"paste"===e&&(o=!1!==l["\u0275nov"](n,33).onPaste(t)&&o),"drop"===e&&(o=!1!==l["\u0275nov"](n,33).onDrop(t)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,34).onKeyDown(t)&&o),"ngModelChange"===e&&(o=!1!==(n.context.$implicit.unit.rate=t)&&o),"ngModelChange"===e&&(o=!1!==u.changePrice(n.context.index,n.context.$implicit.unit.rate)&&o),"focus"===e&&(u.selectedStockIdx=n.context.index,o=!1!==(u.selectedIdx=n.parent.parent.context.index)&&o),o},null,null)),l["\u0275did"](26,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](27,{focus:0}),l["\u0275did"](28,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](30,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](32,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](33,147456,null,0,c.a,[l.ElementRef,d.m],{DecimalPlaces:[0,"DecimalPlaces"]},null),l["\u0275did"](34,16384,null,0,r,[l.ElementRef],{onReturn:[0,"onReturn"]},null),(n()(),l["\u0275eld"](35,0,null,null,6,"td",[],null,null,null,null,null)),(n()(),l["\u0275eld"](36,0,null,null,5,"input",[["class","form-control text-left"],["placeholder","Unit"],["type","text"]],[[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,37)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,37).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,37)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,37)._compositionEnd(t.target.value)&&o),"ngModelChange"===e&&(o=!1!==(n.context.$implicit.unit.stockUnitCode=t)&&o),"focus"===e&&(u.selectedStockIdx=n.context.index,o=!1!==(u.selectedIdx=n.parent.parent.context.index)&&o),o},null,null)),l["\u0275did"](37,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](39,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](41,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](42,0,null,null,10,"td",[],null,null,null,null,null)),(n()(),l["\u0275eld"](43,0,[["toAmountField",1]],null,9,"input",[["class","form-control text-right"],["decimalDigitsDirective",""],["onReturn",""],["placeholder","Total"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"keydown.Tab"],[null,"keyup.Enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"],[null,"keypress"],[null,"paste"],[null,"drop"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,46)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,46).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,46)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,46)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,51).onKeyDown(t)&&o),"keypress"===e&&(o=!1!==l["\u0275nov"](n,51).onKeyPress(t)&&o),"paste"===e&&(o=!1!==l["\u0275nov"](n,51).onPaste(t)&&o),"drop"===e&&(o=!1!==l["\u0275nov"](n,51).onDrop(t)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,52).onKeyDown(t)&&o),"ngModelChange"===e&&(o=!1!==(n.context.$implicit.amount=t)&&o),"focus"===e&&(u.selectedStockIdx=n.context.index,o=!1!==(u.selectedIdx=n.parent.parent.context.index)&&o),"ngModelChange"===e&&(o=!1!==u.amountChanged(n.context.index)&&o),"keydown.Tab"===e&&(o=!1!==u.validateAndAddNewStock(n.context.index)&&o),"keyup.Enter"===e&&(o=!1!==u.validateAndAddNewStock(n.context.index)&&o),o},null,null)),l["\u0275did"](44,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](45,{focus:0}),l["\u0275did"](46,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](48,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](50,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](51,147456,null,0,c.a,[l.ElementRef,d.m],{DecimalPlaces:[0,"DecimalPlaces"]},null),l["\u0275did"](52,16384,null,0,r,[l.ElementRef],{onReturn:[0,"onReturn"]},null)],function(n,e){var t=e.component,l=n(e,2,0,t.isSelectedRow&&t.selectedStockIdx===e.context.index&&t.selectedIdx===e.parent.parent.context.index);n(e,1,0,l);var o=n(e,6,0,t.isSelectedRow&&t.selectedStockIdx===e.context.index);n(e,5,0,"form-control stock-field",o),n(e,9,0,e.context.$implicit.stock.name),n(e,12,0,"");var u=n(e,16,0,t.isSelectedRow&&t.selectedStockIdx===e.context.index);n(e,15,0,"form-control text-right",u),n(e,19,0,!e.context.$implicit.stock.name,e.context.$implicit.quantity),n(e,22,0,2),n(e,23,0,"");var i=n(e,27,0,t.isSelectedRow&&t.selectedStockIdx===e.context.index);n(e,26,0,"form-control text-right",i),n(e,30,0,!e.context.$implicit.stock.name,e.context.$implicit.unit.rate),n(e,33,0,2),n(e,34,0,""),n(e,39,0,!e.context.$implicit.stock.name,e.context.$implicit.unit.stockUnitCode);var s=n(e,45,0,t.isSelectedRow&&t.selectedStockIdx===e.context.index);n(e,44,0,"form-control text-right",s),n(e,48,0,!e.context.$implicit.stock.name,e.context.$implicit.amount),n(e,51,0,2),n(e,52,0,"")},function(n,e){n(e,3,0,250),n(e,4,0,l["\u0275nov"](e,11).ngClassUntouched,l["\u0275nov"](e,11).ngClassTouched,l["\u0275nov"](e,11).ngClassPristine,l["\u0275nov"](e,11).ngClassDirty,l["\u0275nov"](e,11).ngClassValid,l["\u0275nov"](e,11).ngClassInvalid,l["\u0275nov"](e,11).ngClassPending),n(e,14,0,l["\u0275nov"](e,21).ngClassUntouched,l["\u0275nov"](e,21).ngClassTouched,l["\u0275nov"](e,21).ngClassPristine,l["\u0275nov"](e,21).ngClassDirty,l["\u0275nov"](e,21).ngClassValid,l["\u0275nov"](e,21).ngClassInvalid,l["\u0275nov"](e,21).ngClassPending),n(e,25,0,l["\u0275nov"](e,32).ngClassUntouched,l["\u0275nov"](e,32).ngClassTouched,l["\u0275nov"](e,32).ngClassPristine,l["\u0275nov"](e,32).ngClassDirty,l["\u0275nov"](e,32).ngClassValid,l["\u0275nov"](e,32).ngClassInvalid,l["\u0275nov"](e,32).ngClassPending),n(e,36,0,!0,l["\u0275nov"](e,41).ngClassUntouched,l["\u0275nov"](e,41).ngClassTouched,l["\u0275nov"](e,41).ngClassPristine,l["\u0275nov"](e,41).ngClassDirty,l["\u0275nov"](e,41).ngClassValid,l["\u0275nov"](e,41).ngClassInvalid,l["\u0275nov"](e,41).ngClassPending),n(e,43,0,l["\u0275nov"](e,50).ngClassUntouched,l["\u0275nov"](e,50).ngClassTouched,l["\u0275nov"](e,50).ngClassPristine,l["\u0275nov"](e,50).ngClassDirty,l["\u0275nov"](e,50).ngClassValid,l["\u0275nov"](e,50).ngClassInvalid,l["\u0275nov"](e,50).ngClassPending)})}function tn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,en)),l["\u0275did"](2,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275and"](0,null,null,0))],function(n,e){n(e,2,0,e.parent.context.$implicit.inventory)},null)}function ln(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,53,"tr",[],null,null,null,null,null)),l["\u0275did"](1,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](2,{activeRow:0}),(n()(),l["\u0275eld"](3,0,null,null,12,"td",[],[[4,"width","px"]],null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,11,"input",[["class","form-control txtCpc byTo"],["maxlength","2"],["onReturn",""],["type","text"]],[[8,"value",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModel"],[null,"ngModelChange"],[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,7)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,7).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,7)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,7)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,14).onKeyDown(t)&&o),"ngModel"===e&&(o=!1!==n.context.$implicit.type&&o),"ngModelChange"===e&&(o=!1!==u.selectEntryType(n.context.$implicit,t,n.context.index)&&o),"focus"===e&&(u.selectRow(!0,n.context.index),o=!1!==u.hideListItems()&&o),o},null,null)),l["\u0275did"](5,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](6,{focus:0}),l["\u0275did"](7,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](8,540672,null,0,a.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,function(n){return[n]},[a.MaxLengthValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](11,671744,null,0,a.NgModel,[[8,null],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](13,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](14,16384,null,0,r,[l.ElementRef],{onReturn:[0,"onReturn"]},null),l["\u0275ppd"](15,1),(n()(),l["\u0275eld"](16,0,null,null,15,"td",[],null,null,null,null,null)),(n()(),l["\u0275eld"](17,0,[[5,0],["particular",1]],null,10,"input",[["class","form-control from-or-to-acc"],["onReturn",""],["type","text"]],[[8,"id",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"focus"],[null,"blur"],[null,"keydown"],[null,"keydown.Tab"],[null,"keydown.arrowDown"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,20)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,20).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,20)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,20)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,27).onKeyDown(t)&&o),"ngModelChange"===e&&(o=!1!==(n.context.$implicit.selectedAccount.account=t)&&o),"keyup"===e&&(o=!1!==u.searchAccount(null==t?null:null==t.target?null:t.target.value)&&o),"focus"===e&&(o=!1!==u.onAccountFocus(t,l["\u0275nov"](n,"by"===n.context.$implicit.type?33:44),n.context.$implicit.type,n.context.index)&&o),"blur"===e&&(o=!1!==u.onAccountBlur(t)&&o),"keydown"===e&&(o=!1!==u.detectKey(t)&&o),"keydown.Tab"===e&&(o=!1!==u.validateAccount(n.context.$implicit,t,n.context.index)&&o),"keydown.arrowDown"===e&&(o=!1!==u.openCreateAccountPopupIfRequired(t)&&o),o},null,null)),l["\u0275did"](18,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](19,{focus:0}),l["\u0275did"](20,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](21,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,function(n){return[n]},[a.RequiredValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](24,671744,null,0,a.NgModel,[[8,null],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](26,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](27,16384,null,0,r,[l.ElementRef],{onReturn:[0,"onReturn"]},null),(n()(),l["\u0275eld"](28,0,null,null,3,"table",[],null,null,null,null,null)),(n()(),l["\u0275eld"](29,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,tn)),l["\u0275did"](31,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](32,0,null,null,10,"td",[],null,null,null,null,null)),(n()(),l["\u0275eld"](33,0,[["byAmountField",1],["amountField1",1]],null,9,"input",[["class","form-control text-right debit-credit"],["decimalDigitsDirective",""],["onReturn",""],["type","text"]],[[8,"hidden",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"keydown.Enter"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"],[null,"keypress"],[null,"paste"],[null,"drop"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,36)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,36).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,36)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,36)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,41).onKeyDown(t)&&o),"keypress"===e&&(o=!1!==l["\u0275nov"](n,41).onKeyPress(t)&&o),"paste"===e&&(o=!1!==l["\u0275nov"](n,41).onPaste(t)&&o),"drop"===e&&(o=!1!==l["\u0275nov"](n,41).onDrop(t)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,42).onKeyDown(t)&&o),"ngModelChange"===e&&(o=!1!==(n.context.$implicit.amount=t)&&o),"focus"===e&&(u.selectRow(!0,n.context.index),o=!1!==u.hideListItems()&&o),"keydown.Enter"===e&&(o=!1!==u.addNewEntry(n.context.$implicit.amount,n.context.$implicit,n.context.index)&&o),"blur"===e&&(o=!1!==u.addNewEntry(n.context.$implicit.amount,n.context.$implicit,n.context.index)&&o),"ngModelChange"===e&&(o=!1!==u.calModAmt(n.context.$implicit.amount,n.context.$implicit,n.context.index)&&o),o},null,null)),l["\u0275did"](34,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](35,{focus:0}),l["\u0275did"](36,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](38,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](40,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](41,147456,null,0,c.a,[l.ElementRef,d.m],{DecimalPlaces:[0,"DecimalPlaces"]},null),l["\u0275did"](42,16384,null,0,r,[l.ElementRef],{onReturn:[0,"onReturn"]},null),(n()(),l["\u0275eld"](43,0,null,null,10,"td",[],null,null,null,null,null)),(n()(),l["\u0275eld"](44,0,[["toAmountField",1],["amountField2",1]],null,9,"input",[["class","form-control text-right debit-credit"],["decimalDigitsDirective",""],["onReturn",""],["type","text"]],[[8,"hidden",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"keydown.Enter"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"],[null,"keypress"],[null,"paste"],[null,"drop"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,47)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,47).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,47)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,47)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,52).onKeyDown(t)&&o),"keypress"===e&&(o=!1!==l["\u0275nov"](n,52).onKeyPress(t)&&o),"paste"===e&&(o=!1!==l["\u0275nov"](n,52).onPaste(t)&&o),"drop"===e&&(o=!1!==l["\u0275nov"](n,52).onDrop(t)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,53).onKeyDown(t)&&o),"ngModelChange"===e&&(o=!1!==(n.context.$implicit.amount=t)&&o),"focus"===e&&(u.selectRow(!0,n.context.index),o=!1!==u.hideListItems()&&o),"keydown.Enter"===e&&(o=!1!==u.addNewEntry(n.context.$implicit.amount,n.context.$implicit,n.context.index)&&o),"blur"===e&&(o=!1!==u.addNewEntry(n.context.$implicit.amount,n.context.$implicit,n.context.index)&&o),"ngModelChange"===e&&(o=!1!==u.calModAmt(n.context.$implicit.amount,n.context.$implicit,n.context.index)&&o),o},null,null)),l["\u0275did"](45,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](46,{focus:0}),l["\u0275did"](47,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](49,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](51,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](52,147456,null,0,c.a,[l.ElementRef,d.m],{DecimalPlaces:[0,"DecimalPlaces"]},null),l["\u0275did"](53,16384,null,0,r,[l.ElementRef],{onReturn:[0,"onReturn"]},null)],function(n,e){var t=e.component,l=n(e,2,0,t.isSelectedRow&&t.selectedIdx===e.context.index||!t.selectedIdx&&!t.isSelectedRow&&0==e.context.index);n(e,1,0,l);var o=n(e,6,0,t.isSelectedRow&&t.selectedIdx===e.context.index);n(e,5,0,"form-control txtCpc byTo",o),n(e,8,0,"2"),n(e,11,0,0===e.context.index&&!t.isFirstRowDeleted),n(e,14,0,"");var u=n(e,19,0,t.isSelectedRow&&t.selectedIdx===e.context.index);n(e,18,0,"form-control from-or-to-acc",u),n(e,21,0,e.context.$implicit.amount),n(e,24,0,e.context.$implicit.selectedAccount.account),n(e,27,0,""),n(e,31,0,e.context.$implicit.inventory&&e.context.$implicit.inventory.length);var i=n(e,35,0,t.isSelectedRow&&t.selectedIdx===e.context.index);n(e,34,0,"form-control text-right debit-credit",i),n(e,38,0,!e.context.$implicit.selectedAccount.name||"by"!==e.context.$implicit.type,e.context.$implicit.amount),n(e,41,0,2),n(e,42,0,"");var s=n(e,46,0,t.isSelectedRow&&t.selectedIdx===e.context.index);n(e,45,0,"form-control text-right debit-credit",s),n(e,49,0,!e.context.$implicit.selectedAccount.name||"to"!==e.context.$implicit.type,e.context.$implicit.amount),n(e,52,0,2),n(e,53,0,"")},function(n,e){n(e,3,0,40);var t=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](e,4,0,n(e,15,0,l["\u0275nov"](e.parent,0),e.context.$implicit.type)),"");n(e,4,0,t,l["\u0275nov"](e,8).maxlength?l["\u0275nov"](e,8).maxlength:null,l["\u0275nov"](e,13).ngClassUntouched,l["\u0275nov"](e,13).ngClassTouched,l["\u0275nov"](e,13).ngClassPristine,l["\u0275nov"](e,13).ngClassDirty,l["\u0275nov"](e,13).ngClassValid,l["\u0275nov"](e,13).ngClassInvalid,l["\u0275nov"](e,13).ngClassPending),n(e,17,0,l["\u0275inlineInterpolate"](1,"first_element_",e.context.index,""),l["\u0275nov"](e,21).required?"":null,l["\u0275nov"](e,26).ngClassUntouched,l["\u0275nov"](e,26).ngClassTouched,l["\u0275nov"](e,26).ngClassPristine,l["\u0275nov"](e,26).ngClassDirty,l["\u0275nov"](e,26).ngClassValid,l["\u0275nov"](e,26).ngClassInvalid,l["\u0275nov"](e,26).ngClassPending),n(e,33,0,"by"!==e.context.$implicit.type,l["\u0275nov"](e,40).ngClassUntouched,l["\u0275nov"](e,40).ngClassTouched,l["\u0275nov"](e,40).ngClassPristine,l["\u0275nov"](e,40).ngClassDirty,l["\u0275nov"](e,40).ngClassValid,l["\u0275nov"](e,40).ngClassInvalid,l["\u0275nov"](e,40).ngClassPending),n(e,44,0,"to"!==e.context.$implicit.type,l["\u0275nov"](e,51).ngClassUntouched,l["\u0275nov"](e,51).ngClassTouched,l["\u0275nov"](e,51).ngClassPristine,l["\u0275nov"](e,51).ngClassDirty,l["\u0275nov"](e,51).ngClassValid,l["\u0275nov"](e,51).ngClassInvalid,l["\u0275nov"](e,51).ngClassPending)})}function on(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"h3",[["class","pd1 bdrB primary_clr"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["List of Ledger Accounts"]))],null,null)}function un(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"h3",[["class","pd1 bdrB primary_clr"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["List of Stock Items"]))],null,null)}function sn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"div",[["class","aside-overlay"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.closeCreateStock(t)&&l),l},null,null))],null,null)}function an(n){return l["\u0275vid"](0,[l["\u0275pid"](0,s.LowerCasePipe,[]),l["\u0275pid"](0,s.DecimalPipe,[l.LOCALE_ID]),l["\u0275qud"](402653184,1,{quickAccountComponent:0}),l["\u0275qud"](402653184,2,{quickAccountModal:0}),l["\u0275qud"](402653184,3,{chequeEntryModal:0}),l["\u0275qud"](671088640,4,{columnView:1}),l["\u0275qud"](671088640,5,{accountField:0}),l["\u0275qud"](402653184,6,{dateField:0}),l["\u0275qud"](402653184,7,{narrationBox:0}),l["\u0275qud"](402653184,8,{chequeNumberInput:0}),l["\u0275qud"](402653184,9,{chequeClearanceDateInput:0}),l["\u0275qud"](402653184,10,{chqFormSubmitBtn:0}),l["\u0275qud"](402653184,11,{submitButton:0}),l["\u0275qud"](402653184,12,{resetButton:0}),l["\u0275qud"](402653184,13,{manageGroupsAccountsModal:0}),(n()(),l["\u0275eld"](15,0,null,null,80,"div",[["class","col-xs-10"]],null,null,null,null,null)),(n()(),l["\u0275eld"](16,0,null,null,67,"div",[["class","col-xs-12 bg_wrap"]],null,null,null,null,null)),(n()(),l["\u0275eld"](17,0,null,null,66,"div",[["class","row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](18,0,null,null,14,"div",[["class","clearfix pdT2"]],null,null,null,null,null)),(n()(),l["\u0275eld"](19,0,null,null,1,"span",[["class","btn label isActive"]],null,null,null,null,null)),(n()(),l["\u0275ted"](20,null,["",""])),(n()(),l["\u0275eld"](21,0,null,null,11,"div",[["class","pull-right text-right mrB1"]],null,[[null,"clickOutside"]],function(n,e,t){var l=!0;return"clickOutside"===e&&(l=0!=(n.component.showFromDatePicker=!1)&&l),l},null,null)),l["\u0275did"](22,737280,null,0,p.ClickOutsideDirective,[l.ElementRef,l.NgZone,l.PLATFORM_ID],null,{clickOutside:"clickOutside"}),(n()(),l["\u0275eld"](23,0,[[6,0],["dateField",1]],null,8,"input",[["class","form-control text-right voucher-date-field"],["name","entryDate"],["onReturn",""],["placeholder","DD-MM-YYYY"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"blur"],[null,"focus"],[null,"input"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,24)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,24).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,24)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,24)._compositionEnd(t.target.value)&&o),"input"===e&&(o=!1!==l["\u0275nov"](n,25)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,25).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,25)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,25)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,31).onKeyDown(t)&&o),"ngModelChange"===e&&(o=!1!==(u.journalDate=t)&&o),"blur"===e&&(o=!1!==u.dateEntered()&&o),"focus"===e&&(o=!1!==u.onDateFieldFocus()&&o),o},null,null)),l["\u0275did"](24,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](25,540672,null,0,h.MaskedInputDirective,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],{textMaskConfig:[0,"textMaskConfig"]},null),l["\u0275pod"](26,{mask:0,guide:1}),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n,e){return[n,e]},[a.DefaultValueAccessor,h.MaskedInputDirective]),l["\u0275did"](28,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](30,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](31,16384,null,0,r,[l.ElementRef],{onReturn:[0,"onReturn"]},null),(n()(),l["\u0275ted"](32,null,[" "," "])),(n()(),l["\u0275eld"](33,0,null,null,17,"div",[["class","clearfix"]],[[4,"min-height","vh"]],null,null,null,null)),(n()(),l["\u0275eld"](34,0,null,null,16,"div",[["class","table-responsive bdrT"]],null,null,null,null,null)),(n()(),l["\u0275eld"](35,0,null,null,15,"table",[["class","table entry_table"]],null,null,null,null,null)),(n()(),l["\u0275eld"](36,0,null,null,9,"thead",[],null,null,null,null,null)),(n()(),l["\u0275eld"](37,0,null,null,8,"tr",[],null,null,null,null,null)),(n()(),l["\u0275eld"](38,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" \xa0"])),(n()(),l["\u0275eld"](40,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Particulars"])),(n()(),l["\u0275eld"](42,0,null,null,1,"th",[["class","text-right"]],[[4,"min-width","px"],[4,"width","px"]],null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Debit"])),(n()(),l["\u0275eld"](44,0,null,null,1,"th",[["class","text-right"]],[[4,"min-width","px"],[4,"width","px"]],null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Credit"])),(n()(),l["\u0275eld"](46,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),l["\u0275eld"](47,0,null,null,3,"tbody",[],null,[[null,"clickOutside"]],function(n,e,t){var l=!0;return"clickOutside"===e&&(l=!1!==n.component.hideListItems()&&l),l},null,null)),l["\u0275did"](48,737280,null,0,p.ClickOutsideDirective,[l.ElementRef,l.NgZone,l.PLATFORM_ID],null,{clickOutside:"clickOutside"}),(n()(),l["\u0275and"](16777216,null,null,1,null,ln)),l["\u0275did"](50,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275eld"](51,0,null,null,32,"div",[["class","clearfix"]],null,null,null,null,null)),(n()(),l["\u0275eld"](52,0,null,null,10,"div",[["class","col-xs-4"]],null,null,null,null,null)),(n()(),l["\u0275eld"](53,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](54,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Narration:"])),(n()(),l["\u0275eld"](56,0,[[7,0],["narrationBox",1]],null,6,"textarea",[["class","form-control"],["id","narration"],["name","narration"],["onReturn",""],["resize","false"],["rows","6"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"keydown.tab"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,57)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,57).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,57)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,57)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,62).onKeyDown(t)&&o),"keyup.enter"===e&&(o=!1!==u.openConfirmBox(l["\u0275nov"](n,68))&&o),"keydown.tab"===e&&(o=!1!==u.openConfirmBox(l["\u0275nov"](n,68))&&o),"ngModelChange"===e&&(o=!1!==(u.requestObj.description=t)&&o),o},null,null)),l["\u0275did"](57,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](59,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](61,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](62,16384,null,0,r,[l.ElementRef],{onReturn:[0,"onReturn"]},null),(n()(),l["\u0275eld"](63,0,null,null,11,"div",[["class","confirmation_box bdr text-center pd2"]],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275eld"](64,0,null,null,10,"div",[["class",""]],null,null,null,null,null)),(n()(),l["\u0275eld"](65,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Accept?"])),(n()(),l["\u0275eld"](67,0,null,null,7,"div",[["class","pdT2"]],null,null,null,null,null)),(n()(),l["\u0275eld"](68,0,[[11,0],["submitButton",1]],null,1,"button",[["class","btn btn-primary"]],null,[[null,"keyup"],[null,"click"]],function(n,e,t){var l=!0,o=n.component;return"keyup"===e&&(l=!1!==o.keyUpOnSubmitButton(t)&&l),"click"===e&&(l=!1!==o.saveEntry()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["Yes"])),(n()(),l["\u0275eld"](70,0,[[12,0],["resetButton",1]],null,1,"button",[["class","btn btn-default"]],null,[[null,"keyup"]],function(n,e,t){var l=!0;return"keyup"===e&&(l=!1!==n.component.keyUpOnResetButton(t)&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["No"])),(n()(),l["\u0275eld"](72,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),l["\u0275eld"](73,0,null,null,1,"button",[["class","btn btn-link mrT1"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.refreshEntry()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["Reset"])),(n()(),l["\u0275eld"](75,0,null,null,8,"div",[["class","total_box text-right pull-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](76,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),l["\u0275eld"](77,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),l["\u0275ted"](78,null,["",""])),l["\u0275ppd"](79,2),(n()(),l["\u0275eld"](80,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),l["\u0275eld"](81,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),l["\u0275ted"](82,null,["",""])),l["\u0275ppd"](83,2),(n()(),l["\u0275eld"](84,0,null,null,11,"div",[["class","sidebar_list form-control"]],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,on)),l["\u0275did"](86,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,un)),l["\u0275did"](88,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](89,0,null,null,6,"accounting-virtual-list",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"ngModelChange"],[null,"noResultsClicked"],[null,"noOptionsFound"]],function(n,e,t){var l=!0,o=n.component;return"selected"===e&&(l=!1!==o.onItemSelected(t)&&l),"ngModelChange"===e&&(l=!1!==(o.currentSelectedValue=t)&&l),"noResultsClicked"===e&&(l=!1!==o.showQuickAccountModal()&&l),"noOptionsFound"===e&&(l=!1!==o.onNoAccountFound(t)&&l),l},O,R)),l["\u0275did"](90,4833280,null,1,S,[l.ElementRef,l.Renderer,l.ChangeDetectorRef],{placeholder:[0,"placeholder"],multiple:[1,"multiple"],notFoundLink:[2,"notFoundLink"],isFilterEnabled:[3,"isFilterEnabled"],ItemHeight:[4,"ItemHeight"],showList:[5,"showList"],filterText:[6,"filterText"],keydownUpInput:[7,"keydownUpInput"],options:[8,"options"]},{selected:"selected",noOptionsFound:"noOptionsFound",noResultsClicked:"noResultsClicked"}),l["\u0275qud"](335544320,14,{optionTemplate:0}),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[S]),l["\u0275did"](93,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](95,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](96,16777216,null,null,6,"div",[["bsModal",""],["class","modal"],["role","dialog"]],null,[[null,"click"],[null,"keydown.esc"]],function(n,e,t){var o=!0;return"click"===e&&(o=!1!==l["\u0275nov"](n,97).onClick(t)&&o),"keydown.esc"===e&&(o=!1!==l["\u0275nov"](n,97).onEsc(t)&&o),o},null,null)),l["\u0275did"](97,212992,[[2,4],["quickAccountModal",4]],0,N.a,[l.ElementRef,l.ViewContainerRef,l.Renderer2,D.a],{config:[0,"config"]},null),l["\u0275pod"](98,{backdrop:0}),(n()(),l["\u0275eld"](99,0,null,null,3,"div",[["class","modal-dialog modal-sm"],["style","width: 298px"]],null,null,null,null,null)),(n()(),l["\u0275eld"](100,0,null,null,2,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),l["\u0275eld"](101,16777216,null,null,1,"div",[["element-view-container-ref",""]],null,null,null,null,null)),l["\u0275did"](102,16384,[[1,4],["quickAccountComponent",4]],0,I.a,[l.ViewContainerRef],null,null),(n()(),l["\u0275eld"](103,16777216,null,null,40,"div",[["bsModal",""],["class","modal"],["role","dialog"]],null,[[null,"click"],[null,"keydown.esc"]],function(n,e,t){var o=!0;return"click"===e&&(o=!1!==l["\u0275nov"](n,104).onClick(t)&&o),"keydown.esc"===e&&(o=!1!==l["\u0275nov"](n,104).onEsc(t)&&o),o},null,null)),l["\u0275did"](104,212992,[[3,4],["chequeEntryModal",4]],0,N.a,[l.ElementRef,l.ViewContainerRef,l.Renderer2,D.a],{config:[0,"config"]},null),l["\u0275pod"](105,{backdrop:0}),(n()(),l["\u0275eld"](106,0,null,null,37,"div",[["class","modal-dialog modal-sm"],["style","width: 298px"]],null,null,null,null,null)),(n()(),l["\u0275eld"](107,0,null,null,36,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),l["\u0275eld"](108,0,null,null,35,"form",[["autocomplete","off"],["class","newAccounform"],["name","chequeDetailForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,e,t){var o=!0,u=n.component;return"submit"===e&&(o=!1!==l["\u0275nov"](n,110).onSubmit(t)&&o),"reset"===e&&(o=!1!==l["\u0275nov"](n,110).onReset()&&o),"submit"===e&&(o=!1!==u.onSubmitChequeDetail()&&o),o},null,null)),l["\u0275did"](109,16384,null,0,a["\u0275angular_packages_forms_forms_bh"],[],null,null),l["\u0275did"](110,540672,null,0,a.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,a.ControlContainer,null,[a.FormGroupDirective]),l["\u0275did"](112,16384,null,0,a.NgControlStatusGroup,[[4,a.ControlContainer]],null,null),(n()(),l["\u0275eld"](113,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),l["\u0275eld"](114,0,null,null,1,"h3",[["class","modal-title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Cheque details (if any)"])),(n()(),l["\u0275eld"](116,0,null,null,22,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),l["\u0275eld"](117,0,null,null,10,"div",[["class","clearfix mrT1"]],null,null,null,null,null)),(n()(),l["\u0275eld"](118,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Cheque Number:"])),(n()(),l["\u0275eld"](120,0,[[8,0],["chequeNumberInput",1]],null,7,"input",[["class","form-control"],["formControlName","chequeNumber"],["name","account"],["placeholder","Cheque Number"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,121)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,121).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,121)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,121)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==u.onCheckNumberFieldKeyDown(t,"chqNumber")&&o),o},null,null)),l["\u0275did"](121,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](122,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,function(n){return[n]},[a.RequiredValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](125,671744,null,0,a.FormControlName,[[3,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR],[2,a["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,a.NgControl,null,[a.FormControlName]),l["\u0275did"](127,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](128,0,null,null,10,"div",[["class","clearfix mrT1"]],null,null,null,null,null)),(n()(),l["\u0275eld"](129,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Cheque Clearance Date:"])),(n()(),l["\u0275eld"](131,0,[[9,0],["chequeClearanceDateInput",1]],null,7,"input",[["class","form-control"],["formControlName","chequeClearanceDate"],["name","account"],["placeholder","Cheque Clearance Date"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,132)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,132).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,132)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,132)._compositionEnd(t.target.value)&&o),"input"===e&&(o=!1!==l["\u0275nov"](n,133)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,133).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,133)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,133)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==u.onCheckNumberFieldKeyDown(t,"chqDate")&&o),o},null,null)),l["\u0275did"](132,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](133,540672,null,0,h.MaskedInputDirective,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],{textMaskConfig:[0,"textMaskConfig"]},null),l["\u0275pod"](134,{mask:0,guide:1}),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n,e){return[n,e]},[a.DefaultValueAccessor,h.MaskedInputDirective]),l["\u0275did"](136,671744,null,0,a.FormControlName,[[3,a.ControlContainer],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR],[2,a["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,a.NgControl,null,[a.FormControlName]),l["\u0275did"](138,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](139,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),l["\u0275eld"](140,0,[[10,0],["chqFormSubmitBtn",1]],null,1,"button",[["class","btn btn-success"],["type","submit"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Create"])),(n()(),l["\u0275eld"](142,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.closeChequeDetailForm()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["Cancel"])),(n()(),l["\u0275and"](16777216,null,null,1,null,sn)),l["\u0275did"](145,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](146,0,null,null,1,"aside-inventory-stock-group",[],[[8,"className",0],[24,"@slideInOut",0]],[[null,"closeAsideEvent"]],function(n,e,t){var l=!0;return"closeAsideEvent"===e&&(l=!1!==n.component.closeCreateStock()&&l),l},M.b,M.a)),l["\u0275did"](147,770048,null,0,P.a,[d.m,T.a],{autoFocus:[0,"autoFocus"]},{closeAsideEvent:"closeAsideEvent"})],function(n,e){var t=e.component;n(e,22,0);var l=n(e,26,0,t.dateMask,!0);n(e,25,0,l),n(e,28,0,"entryDate",t.journalDate),n(e,31,0,""),n(e,48,0),n(e,50,0,t.requestObj.transactions),n(e,59,0,"narration",t.requestObj.description),n(e,62,0,""),n(e,86,0,"account"===t.selectedField),n(e,88,0,"stock"===t.selectedField),n(e,90,0,"Select Option",!1,"account"===t.selectedField,!0,33,t.showLedgerAccountList,t.filterByText,t.keyUpDownEvent,t.inputForList),n(e,93,0,t.currentSelectedValue);var o=n(e,98,0,!1);n(e,97,0,o);var u=n(e,105,0,"static");n(e,104,0,u),n(e,110,0,t.chequeDetailForm),n(e,122,0,""),n(e,125,0,"chequeNumber");var i=n(e,134,0,t.dateMask,!0);n(e,133,0,i),n(e,136,0,"chequeClearanceDate"),n(e,145,0,"in"===t.asideMenuStateForProductService),n(e,147,0,t.autoFocusStockGroupField)},function(n,e){var t=e.component;n(e,20,0,t.requestObj.voucherType),n(e,23,0,l["\u0275nov"](e,30).ngClassUntouched,l["\u0275nov"](e,30).ngClassTouched,l["\u0275nov"](e,30).ngClassPristine,l["\u0275nov"](e,30).ngClassDirty,l["\u0275nov"](e,30).ngClassValid,l["\u0275nov"](e,30).ngClassInvalid,l["\u0275nov"](e,30).ngClassPending),n(e,32,0,t.displayDay),n(e,33,0,61),n(e,42,0,140,140),n(e,44,0,140,140),n(e,56,0,l["\u0275nov"](e,61).ngClassUntouched,l["\u0275nov"](e,61).ngClassTouched,l["\u0275nov"](e,61).ngClassPristine,l["\u0275nov"](e,61).ngClassDirty,l["\u0275nov"](e,61).ngClassValid,l["\u0275nov"](e,61).ngClassInvalid,l["\u0275nov"](e,61).ngClassPending),n(e,63,0,!t.showConfirmationBox);var o=l["\u0275unv"](e,78,0,n(e,79,0,l["\u0275nov"](e,1),t.totalDebitAmount,"1.2-2"));n(e,78,0,o);var u=l["\u0275unv"](e,82,0,n(e,83,0,l["\u0275nov"](e,1),t.totalCreditAmount,"1.2-2"));n(e,82,0,u),n(e,84,0,!t.showLedgerAccountList),n(e,89,0,l["\u0275nov"](e,95).ngClassUntouched,l["\u0275nov"](e,95).ngClassTouched,l["\u0275nov"](e,95).ngClassPristine,l["\u0275nov"](e,95).ngClassDirty,l["\u0275nov"](e,95).ngClassValid,l["\u0275nov"](e,95).ngClassInvalid,l["\u0275nov"](e,95).ngClassPending),n(e,108,0,l["\u0275nov"](e,112).ngClassUntouched,l["\u0275nov"](e,112).ngClassTouched,l["\u0275nov"](e,112).ngClassPristine,l["\u0275nov"](e,112).ngClassDirty,l["\u0275nov"](e,112).ngClassValid,l["\u0275nov"](e,112).ngClassInvalid,l["\u0275nov"](e,112).ngClassPending),n(e,120,0,l["\u0275nov"](e,122).required?"":null,l["\u0275nov"](e,127).ngClassUntouched,l["\u0275nov"](e,127).ngClassTouched,l["\u0275nov"](e,127).ngClassPristine,l["\u0275nov"](e,127).ngClassDirty,l["\u0275nov"](e,127).ngClassValid,l["\u0275nov"](e,127).ngClassInvalid,l["\u0275nov"](e,127).ngClassPending),n(e,131,0,l["\u0275nov"](e,138).ngClassUntouched,l["\u0275nov"](e,138).ngClassTouched,l["\u0275nov"](e,138).ngClassPristine,l["\u0275nov"](e,138).ngClassDirty,l["\u0275nov"](e,138).ngClassValid,l["\u0275nov"](e,138).ngClassInvalid,l["\u0275nov"](e,138).ngClassPending),n(e,146,0,t.asideMenuStateForProductService,t.asideMenuStateForProductService)})}var rn=t("G2Mx"),cn=t("z9ar"),dn=t("9mK2"),pn=t("EIkE"),hn=[{code:"F9",route:"purchase"}],gn=function(){function n(n,e,t,o,u,i,s,a,r,c,d,p,h){var g=this;this._accountService=n,this._ledgerActions=e,this.store=t,this._keyboardService=o,this.flyAccountActions=u,this._toaster=i,this._router=s,this._salesActions=a,this._tallyModuleService=r,this.componentFactoryResolver=c,this.inventoryService=d,this.inventoryAction=p,this.invoiceActions=h,this.showAccountList=new l.EventEmitter,this.showStockList=new l.EventEmitter,this.TransactionType="by",this.data=new cn.a,this.totalCreditAmount=0,this.totalDebitAmount=0,this.showConfirmationBox=!1,this.moment=H,this.accountSearch="",this.navigateURL=hn,this.showInvoiceDate=!1,this.groupUniqueName="purchases",this.filterByGrp=!1,this.accountsTransaction=[],this.stocksTransaction=[],this.creditorAcc={},this.debtorAcc={},this.stockTotal=null,this.accountsTotal=null,this.gridType="invoice",this.isPartyACFocused=!1,this.displayDay="",this.dateMask=[/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],this.filterByText="",this.showLedgerAccountList=!1,this.currentSelectedValue="",this.invoiceNoHeading="Supplier Invoice No",this.isSalesInvoiceSelected=!1,this.isPurchaseInvoiceSelected=!1,this.asideMenuStateForProductService="out",this.autoFocusStockGroupField=!1,this.isCustomInvoice=!1,this.destroyed$=new K.a(1),this.taxesToRemember=[],this.isAccountListFiltered=!1,this.allFlattenAccounts=[],this._keyboardService.keyInformation.subscribe(function(n){g.watchKeyboardEvent(n)}),this._tallyModuleService.selectedPageInfo.pipe(Object(F.a)(function(n,e){return n&&e?w.isEqual(n,e):!(n&&!e||!n&&e)})).subscribe(function(n){n&&"invoice"===n.gridType?(g.data.voucherType=n.page,g.gridType=n.gridType,setTimeout(function(){g.dateField.nativeElement.focus()},50),g.invoiceNoHeading="Debit note"===n.page||"Credit note"===n.page?"Original invoice number":"Supplier Invoice No",g.isSalesInvoiceSelected="Sales"===n.page,g.isPurchaseInvoiceSelected="Purchase"===n.page):n&&g.data.transactions&&(g.gridType=n.gridType,g.data.transactions=g.prepareDataForVoucher(),g._tallyModuleService.requestData.next(g.data))}),this._tallyModuleService.requestData.pipe(Object(F.a)(function(n,e){return n&&e?w.isEqual(n,e):!(n&&!e||!n&&e)})).subscribe(function(n){n&&(g.data=w.cloneDeep(n),"invoice"===g.gridType&&g.prepareDataForInvoice(g.data))}),this.companyTaxesList$=this.store.select(function(n){return n.company.taxes}).pipe(Object(V.a)(this.destroyed$)),this.createStockSuccess$=this.store.select(function(n){return n.inventory.createStockSuccess}).pipe(Object(V.a)(this.destroyed$)),this.store.dispatch(this.invoiceActions.getInvoiceSetting())}return n.prototype.ngOnInit=function(){var n=this;this.store.dispatch(this.inventoryAction.GetStock()),this.store.select(function(n){return n.ledger.ledgerCreateSuccess}).pipe(Object(V.a)(this.destroyed$)).subscribe(function(e){e&&(n._toaster.successToast("Entry created successfully","Success"),n.refreshEntry(),n.data.description="",n.dateField.nativeElement.focus(),n.taxesToRemember=[])}),this.entryDate=H().format(L.a),this._tallyModuleService.filteredAccounts.subscribe(function(e){if(e){var t=[];e.forEach(function(n){t.push({label:n.name+" ("+n.uniqueName+")",value:n.uniqueName,additional:n})}),n.flattenAccounts=t,n.inputForList=w.cloneDeep(n.flattenAccounts)}}),this.createStockSuccess$.pipe(Object(V.a)(this.destroyed$)).subscribe(function(e){e&&n.closeCreateStock()}),this.store.pipe(Object(d.A)(function(n){return n.invoice.settings}),Object(V.a)(this.destroyed$)).subscribe(function(e){n.isCustomInvoice=!(!e||!e.invoiceSettings)&&e.invoiceSettings.useCustomInvoiceNumber})},n.prototype.ngOnChanges=function(n){"openDatePicker"in n&&n.openDatePicker.currentValue!==n.openDatePicker.previousValue&&this.dateField.nativeElement.focus(),"newSelectedAccount"in n&&n.newSelectedAccount.currentValue!==n.newSelectedAccount.previousValue&&this.setAccount(n.newSelectedAccount.currentValue),"openCreateAccountPopup"in n&&n.openCreateAccountPopup.currentValue!==n.openCreateAccountPopup.previousValue&&n.openCreateAccountPopup.currentValue&&(this.focusedField?this.showQuickAccountModal():(this.asideMenuStateForProductService="in",this.autoFocusStockGroupField=!0)),"saveEntryOnCtrlA"in n&&n.saveEntryOnCtrlA.currentValue!==n.saveEntryOnCtrlA.previousValue&&n.saveEntryOnCtrlA.currentValue&&this.saveEntry()},n.prototype.addNewRow=function(n){var e={amount:null,particular:"",applyApplicableTaxes:!1,isInclusiveTax:!1,type:"by",taxes:[],total:null,discounts:[],inventory:{},selectedAccount:{name:"",uniqueName:""}};if("stock"===n){var t=e;t.inventory=this.initInventory(),this.stocksTransaction.push(t)}else"account"===n&&this.accountsTransaction.push(e)},n.prototype.initInventory=function(){return{unit:{stockUnitCode:"",code:"",rate:null},quantity:null,stock:{uniqueName:"",name:""},amount:null}},n.prototype.selectRow=function(n,e){this.isSelectedRow=n,this.selectedRowIdx=e,this.showLedgerAccountList=!1},n.prototype.selectAccountRow=function(n,e){},n.prototype.getFlattenGrpAccounts=function(n,e){this.groupUniqueName=n||this.groupUniqueName,this.filterByGrp=e,this.showStockList.emit(!1)},n.prototype.selectEntryType=function(n,e,t){2===e.length&&"to"!==e.toLowerCase()&&"by"!==e.toLowerCase()?(this._toaster.errorToast("Spell error, you can only use 'To/By'"),n.type="DEBIT"):n.type=e},n.prototype.onStockItemBlur=function(n,e){},n.prototype.onAccountFocus=function(n,e){var t=this;this.selectedAccountInputField=n.target,this.showConfirmationBox=!1,this.selectedAccIdx=e,this.inputForList=w.cloneDeep(this.flattenAccounts),this.selectedField="account",this.isAccountListFiltered&&this.refreshAccountListData(),setTimeout(function(){t.showLedgerAccountList=!0},200)},n.prototype.onAccountBlur=function(n){this.selectedInput=n,this.showLedgerAccountList=!1,this.filterByText=""},n.prototype.setAccount=function(n){var e=this,t=this.selectedAccIdx;if(n){if("creditor"===this.accountType)return setTimeout(function(){"ledgerName"===e.focusedField?e.debtorAcc=n:"partyAcc"===e.focusedField&&(e.creditorAcc=n)},10),this.accountType=null;if("debitor"===this.accountType&&(this.debtorAcc=n),this.selectedAccIdx>-1){var l={name:n.name,UniqueName:n.uniqueName,groupUniqueName:n.parentGroups[n.parentGroups.length-1],account:n.name};this.accountsTransaction[t].particular=l.UniqueName,this.accountsTransaction[t].selectedAccount=l,this.accountsTransaction[t].stocks=n.stocks}setTimeout(function(){e.showAccountList.emit(!1)},50)}else this.accountsTransaction.splice(t,1),t||this.addNewRow("account")},n.prototype.searchAccount=function(n){this.filterByText=n},n.prototype.searchStock=function(n){this.filterByText=n},n.prototype.addNewStock=function(n,e,t){var l=this.stocksTransaction.length-1;n&&(e.amount=Number(n)),!n||e.inventory.stock||e.inventory.stock.name?t===l&&this.addNewRow("stock"):this._toaster.errorToast("Stock can't be blank")},n.prototype.openConfirmBox=function(n){this.showLedgerAccountList=!1,this.showStockList.emit(!1),this.showConfirmationBox=!0,this.data.description.length>1&&(this.data.description=this.data.description.replace(/(?:\r\n|\r|\n)/g,""),setTimeout(function(){n.focus()},100))},n.prototype.refreshEntry=function(){this.stocksTransaction=[],this.accountsTransaction=[],this.showConfirmationBox=!1,this.showAccountList.emit(!1),this.totalCreditAmount=0,this.totalDebitAmount=0,this.addNewRow("stock"),this.addNewRow("account"),this.data.entryDate=H().format(L.a),this.entryDate=H().format(L.a),this.creditorAcc={},this.debtorAcc={},this.stockTotal=null,this.accountsTotal=null,this.data.description="",this.dateField.nativeElement.focus(),this.data.invoiceNumberAgainstVoucher=null},n.prototype.ngAfterViewInit=function(){},n.prototype.ngOnDestroy=function(){this.destroyed$.next(!0),this.destroyed$.complete()},n.prototype.setInvoiceDate=function(n){this.showInvoiceDate=!this.showInvoiceDate},n.prototype.watchKeyboardEvent=function(n){if(n){var e=w.find(this.navigateURL,function(e){return e.code===n.key});e&&this._router.navigate(["accounting",e.route])}},n.prototype.removeBlankTransaction=function(n){return w.forEach(n,function(e){!e||e.particular||e.amount||(n=w.without(n,e))}),n},n.prototype.validateTransaction=function(n){return this.removeBlankTransaction(n)},n.prototype.onSelectStock=function(n){var e=this;if(n){var t=this.selectedRowIdx,l=w.cloneDeep(n);this.prepareEntry(l,t),setTimeout(function(){e.showStockList.emit(!1)},50)}else this.stocksTransaction.splice(this.selectedRowIdx),this.selectedRowIdx||this.addNewRow("stock")},n.prototype.prepareEntry=function(n,e){this.stocksTransaction[e].inventory.unit.rate=n.amount/n.openingQuantity,this.stocksTransaction[e].inventory.unit.code=n.stockUnit.code,this.stocksTransaction[e].inventory.unit.stockUnitCode=n.stockUnit.name,this.stocksTransaction[e].inventory.stock={name:n.name,uniqueName:n.uniqueName}},n.prototype.changeQuantity=function(n,e){var t=this.selectedRowIdx;this.stocksTransaction[t].inventory.quantity=Number(e),this.stocksTransaction[t].inventory.amount=Number((this.stocksTransaction[t].inventory.unit.rate*this.stocksTransaction[t].inventory.quantity).toFixed(2)),this.stocksTransaction[t].amount=this.stocksTransaction[t].inventory.amount,this.amountChanged(n)},n.prototype.changePrice=function(n,e){var t=this.selectedRowIdx;this.stocksTransaction[t].inventory.unit.rate=Number(w.cloneDeep(e)),this.stocksTransaction[t].inventory.amount=Number((this.stocksTransaction[t].inventory.unit.rate*this.stocksTransaction[t].inventory.quantity).toFixed(2)),this.stocksTransaction[t].amount=this.stocksTransaction[t].inventory.amount,this.amountChanged(n)},n.prototype.amountChanged=function(n){var e=this.selectedRowIdx;this.stocksTransaction[e]&&this.stocksTransaction[n].inventory.stock&&this.stocksTransaction[e].inventory.quantity&&this.stocksTransaction[e].inventory.quantity&&(this.stocksTransaction[e].inventory.unit.rate=Number((this.stocksTransaction[e].inventory.amount/this.stocksTransaction[e].inventory.quantity).toFixed(2))),this.stocksTransaction[e].amount=this.stocksTransaction[e].inventory.amount;var t=w.sumBy(this.stocksTransaction,function(n){return Number(n.inventory.amount)});this.stockTotal=t},n.prototype.calculateRate=function(n,e){e&&(this.accountsTransaction[n].amount=Number(this.stockTotal*e/100)),this.calculateAmount()},n.prototype.changeTotal=function(n,e){e&&(this.accountsTransaction[n].rate=null),this.calculateAmount()},n.prototype.calculateAmount=function(){var n=w.sumBy(this.accountsTransaction,function(n){return Number(n.amount)});this.accountsTotal=n},n.prototype.changeStock=function(n,e){var t=this.selectedRowIdx;e||(this.stocksTransaction[t].inventory&&this.stocksTransaction[t].inventory.length&&this.stocksTransaction[t].inventory.splice(n,1),this.amountChanged(n))},n.prototype.saveEntry=function(){var n=this;if(!this.creditorAcc.uniqueName)return this._toaster.errorToast("Party A/c Name can't be blank."),setTimeout(function(){return n.partyAccNameInputField.nativeElement.focus()},200);var e=w.cloneDeep(this.data);e.generateInvoice=!!e.invoiceNumberAgainstVoucher&&!!e.invoiceNumberAgainstVoucher.trim(),e.transactions=this.prepareDataForVoucher(),(e=this._tallyModuleService.prepareRequestForAPI(e)).transactions=this.validateTransaction(e.transactions);var t=this.creditorAcc.uniqueName;w.forEach(e.transactions,function(n){n.type="by"===n.type?"debit":"credit"}),"Sales"===e.voucherType?w.forEach(e.transactions,function(n){n.particular||(n.particular="sales"),n.type="debit"}):"Purchase"===e.voucherType?w.forEach(e.transactions,function(n){n.particular||(n.particular="purchases"),n.type="credit"}):"Credit note"===e.voucherType?w.forEach(e.transactions,function(n){n.particular||(n.particular="sales"),n.type="credit"}):"Debit note"===e.voucherType&&w.forEach(e.transactions,function(n){n.particular||(n.particular="purchases"),n.type="debit"}),this.store.dispatch(this._ledgerActions.CreateBlankLedger(e,t))},n.prototype.prepareDataForInvoice=function(n){var e=[],t=[],l=this._tallyModuleService.prepareRequestForAPI(n);l.transactions.length&&(w.forEach(l.transactions,function(n,l){n.inventory&&n.inventory.amount?e.push(n):(n.inventory={},t.push(n))}),this.accountsTransaction=t,this.stocksTransaction=e,e.length||this.addNewRow("stock"),t.length||this.addNewRow("account"))},n.prototype.prepareDataForVoucher=function(){var n=w.concat(w.cloneDeep(this.accountsTransaction),w.cloneDeep(this.stocksTransaction));return n=w.orderBy(n,"type"),w.forEach(n,function(n,e){var t=[];n.inventory&&n.inventory.amount?(t.push(n.inventory),n.inventory=t):n.inventory=t}),n},n.prototype.detectKey=function(n,e){if(void 0===e&&(e=!1),this.keyUpDownEvent=n,n&&8===n.which&&e&&n.target&&("false"===n.target.getAttribute("data-changed")||""===n.target.value))return document.getElementById("stock_"+(this.stocksTransaction.length-1-1)).focus()},n.prototype.hideListItems=function(){this.isPartyACFocused||(this.showStockList.emit(!1),this.showAccountList.emit(!1))},n.prototype.dateEntered=function(){var n=H(this.entryDate,"DD-MM-YYYY");this.displayDay="Invalid date"!==H(n).format("dddd")?H(n).format("dddd"):""},n.prototype.onStockFocus=function(n,e){this.selectedStockInputField=n.target,this.showConfirmationBox=!1,this.selectRow(!0,e),this.selectedField="stock",this.getFlattenGrpofAccounts(this.groupUniqueName)},n.prototype.getFlattenGrpofAccounts=function(n,e,t,l){var o=this;void 0===t&&(t=!1),void 0===l&&(l=!1),this.allStocks&&this.allStocks.length&&!t?this.sortStockItems(w.cloneDeep(this.allStocks)):this.inventoryService.GetStocks().pipe(Object(V.a)(this.destroyed$)).subscribe(function(n){"success"===n.status&&(o.sortStockItems(n.body.results),o.allStocks=w.cloneDeep(n.body.results),l&&o.selectedStockInputField.focus())})},n.prototype.sortStockItems=function(n){var e=this,t=[];w.forEach(n,function(n){t.push({label:n.name+" ("+n.uniqueName+")",value:n.uniqueName,additional:n})}),this.stockList=t,this.inputForList=w.cloneDeep(this.stockList),setTimeout(function(){e.showLedgerAccountList=!0},200)},n.prototype.onItemSelected=function(n){var e=this;if(setTimeout(function(){e.currentSelectedValue="",e.showLedgerAccountList=!1},200),"createnewitem"===n.value)return this.showQuickAccountModal();if("account"===this.selectedField)this.setAccount(n.additional),setTimeout(function(){var t=e.accountsTransaction.findIndex(function(e){return e.selectedAccount.UniqueName===n.value}),l=e.taxesToRemember.findIndex(function(e){return e.taxUniqueName===n.value});if(l>-1&&t>-1){var o=e.taxesToRemember[l].taxValue;e.accountsTransaction[t].rate=o,e.calculateRate(t,o)}},100);else if("stock"===this.selectedField){var t=n.value;-1===this.taxesToRemember.findIndex(function(n){return n.stockUniqueName===t})&&this.inventoryService.GetStockUniqueNameWithDetail(t).pipe(Object(V.a)(this.destroyed$)).subscribe(function(n){n&&n.body.taxes&&n.body.taxes.length&&e.companyTaxesList$.pipe(Object(rn.a)(1)).subscribe(function(l){n.body.taxes.forEach(function(n){var o=l.find(function(e){return e.uniqueName===n}),u=0;o&&o.taxDetail.forEach(function(n){u+=n.taxValue}),-1===e.taxesToRemember.findIndex(function(e){return e.taxUniqueName===n})&&e.taxesToRemember.push({stockUniqueName:t,taxUniqueName:n,taxValue:u})})})}),this.onSelectStock(n.additional)}else"partyAcc"===this.selectedField&&this.setAccount(n.additional)},n.prototype.loadQuickAccountComponent=function(){var n=this,e=this.componentFactoryResolver.resolveComponentFactory(J.a),t=this.quickAccountComponent.viewContainerRef;t.remove();var l=t.createComponent(e).instance;l.needAutoFocus=!0,l.closeQuickAccountModal.subscribe(function(e){n.hideQuickAccountModal(),l.needAutoFocus=!1,l.newAccountForm.reset(),l.destroyed$.next(!0),l.destroyed$.complete(),n.dateField.nativeElement.focus(),n.selectedAccountInputField&&(n.selectedAccountInputField.value="")}),l.isQuickAccountCreatedSuccessfully$.subscribe(function(e){e&&n.refreshAccountListData(null,!0)})},n.prototype.showQuickAccountModal=function(){"account"===this.selectedField?(this.loadQuickAccountComponent(),this.quickAccountModal.show()):"stock"===this.selectedField&&(this.asideMenuStateForProductService="in",this.autoFocusStockGroupField=!0)},n.prototype.hideQuickAccountModal=function(){this.quickAccountModal.hide()},n.prototype.onPartyAccFocusInput=function(n,e){var t=this;void 0===e&&(e=null),this.selectedAccountInputField=n.target,this.showConfirmationBox=!1,this.accountType="creditor",this.isPartyACFocused=!0,this.selectedField="partyAcc",setTimeout(function(){t.currentSelectedValue="",t.showLedgerAccountList=!0,t.filterByText=""},10)},n.prototype.onPartyAccFocus=function(n,e){var t=this;void 0===e&&(e=null),this.selectedAccountInputField=n.target,this.showConfirmationBox=!1,this.getFlattenGrpAccounts(null,!1),this.refreshAccountListData(e),this.accountType="creditor",this.isPartyACFocused=!0,this.selectedField="partyAcc",setTimeout(function(){t.currentSelectedValue="",t.showLedgerAccountList=!0,t.filterByText=""},10)},n.prototype.onPartyAccBlur=function(n){void 0===n&&(n=!1),this.filterByText="",this.currentSelectedValue="",this.showLedgerAccountList=!1,n&&this.refreshAccountListData()},n.prototype.closeCreateStock=function(){this.asideMenuStateForProductService="out",this.autoFocusStockGroupField=!1,this.selectedStockInputField.value="",this.filterByText="",this.dateField.nativeElement.focus(),this.getFlattenGrpofAccounts(null,null,!0,!0)},n.prototype.addNewAccount=function(n,e){n&&e&&this.addNewRow("account")},n.prototype.checkIfEnteredAmountIsZero=function(n,e,t){Number(n)||("stock"===t?(0===e?this.dateField.nativeElement.focus():document.getElementById("stock_"+(e-1)).focus(),this.stocksTransaction.splice(e,1)):"account"===t&&(0===e?this.dateField.nativeElement.focus():document.getElementById("account_"+(e-1)).focus(),this.accountsTransaction.splice(e,1)))},n.prototype.keyUpOnSubmitButton=function(n){var e=this;return n&&(39===n.keyCode||39===n.which)||78===n.keyCode||78===n.which?setTimeout(function(){return e.resetButton.nativeElement.focus()},50):!n||8!==n.keyCode&&8!==n.which?void 0:(this.showConfirmationBox=!1,setTimeout(function(){return e.narrationBox.nativeElement.focus()},50))},n.prototype.keyUpOnResetButton=function(n){var e=this;return n&&(37===n.keyCode||37===n.which)||89===n.keyCode||89===n.which?setTimeout(function(){return e.submitButton.nativeElement.focus()},50):!n||13!==n.keyCode&&13!==n.which?void 0:(this.showConfirmationBox=!1,setTimeout(function(){return e.narrationBox.nativeElement.focus()},50))},n.prototype.deleteRow=function(n){this.stocksTransaction.splice(n,1),n||this.addNewRow("stock")},n.prototype.refreshAccountListData=function(n,e){var t=this;void 0===n&&(n=null),void 0===e&&(e=!1),this.store.select(function(n){return n.session.companyUniqueName}).subscribe(function(l){l&&""!==l&&t._accountService.GetFlattenAccounts("","","").pipe(Object(V.a)(t.destroyed$)).subscribe(function(l){if("success"===l.status){if(t.allFlattenAccounts=w.cloneDeep(l.body.results),n){var o=l.body.results.filter(function(e){return e.parentGroups.findIndex(function(e){return e.uniqueName===n})>-1});t._tallyModuleService.setFlattenAccounts(o),t.isAccountListFiltered=!0}else t._tallyModuleService.setFlattenAccounts(l.body.results),t.isAccountListFiltered=!1;e&&t.selectedAccountInputField.focus()}})})},n}(),mn=l["\u0275crt"]({encapsulation:0,styles:[[".mx-300[_ngcontent-%COMP%]{max-width:300px}.mx-350[_ngcontent-%COMP%]{max-width:350px}.appearance_none[_ngcontent-%COMP%]:focus{background:#ccc!important}.appearance_none[_ngcontent-%COMP%]{background:#e5e5e5!important}.max-height28[_ngcontent-%COMP%]{max-height:28px}.form-inline[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:14px;padding:2px 7px!important;text-transform:capitalize}.lh24[_ngcontent-%COMP%]{line-height:24px}.mx-300[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:130px}.mx-350[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:160px}"],i],data:{animation:[{type:7,name:"slideInOut",definitions:[{type:0,name:"in",styles:{type:6,styles:{transform:"translate3d(0, 0, 0)"},offset:null},options:void 0},{type:0,name:"out",styles:{type:6,styles:{transform:"translate3d(100%, 0, 0)"},offset:null},options:void 0},{type:1,expr:"in => out",animation:{type:4,styles:null,timings:"400ms ease-in-out"},options:null},{type:1,expr:"out => in",animation:{type:4,styles:null,timings:"400ms ease-in-out"},options:null}],options:{}}]}});function fn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,10,"div",[["class","form-group"],["style","margin-top: 5px;"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,3,"label",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Ledger name:"])),(n()(),l["\u0275eld"](3,0,null,null,1,"sup",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["*"])),(n()(),l["\u0275eld"](5,0,null,null,5,"input",[["class","form-control max-height28 appearance_none upper-fields"],["name","ledger_name"],["placeholder","Ledger name"],["style","max-width:200px"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"keyup"],[null,"keydown"],[null,"ngModelChange"],[null,"focus"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,6)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,6).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,6)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,6)._compositionEnd(t.target.value)&&o),"input"===e&&(u.onPartyAccFocusInput(t,"purchases"),u.selectedField="account",o=!1!==(u.focusedField="ledgerName")&&o),"keyup"===e&&(o=!1!==u.searchAccount(null==t?null:null==t.target?null:t.target.value)&&o),"keydown"===e&&(o=!1!==u.detectKey(t)&&o),"ngModelChange"===e&&(o=!1!==(u.debtorAcc.name=t)&&o),"focus"===e&&(u.onPartyAccFocus(t,"purchases"),u.selectedField="account",o=!1!==(u.focusedField="ledgerName")&&o),"blur"===e&&(u.onPartyAccBlur(),u.selectedField=null,u.focusedField=null,o=!1!==(u.filterByText="")&&o),o},null,null)),l["\u0275did"](6,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](8,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](10,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null)],function(n,e){n(e,8,0,"ledger_name",e.component.debtorAcc.name)},function(n,e){n(e,5,0,l["\u0275nov"](e,10).ngClassUntouched,l["\u0275nov"](e,10).ngClassTouched,l["\u0275nov"](e,10).ngClassPristine,l["\u0275nov"](e,10).ngClassDirty,l["\u0275nov"](e,10).ngClassValid,l["\u0275nov"](e,10).ngClassInvalid,l["\u0275nov"](e,10).ngClassPending)})}function vn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,54,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,53,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,52,"tr",[],null,null,null,null,null)),l["\u0275did"](3,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](4,{activeRow:0}),(n()(),l["\u0275eld"](5,0,null,null,9,"td",[],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,8,"input",[["class","form-control select-stock-in-invoice"],["onReturn",""],["type","text"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"blur"],[null,"keydown"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,9)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,9).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,9)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,9)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,14).onKeyDown(t)&&o),"ngModelChange"===e&&(o=!1!==(n.context.$implicit.inventory.stock.name=t)&&o),"ngModelChange"===e&&(u.searchStock(t),o=!1!==u.changeStock(n.context.index,null==n.context.$implicit?null:null==n.context.$implicit.inventory?null:null==n.context.$implicit.inventory.stock?null:n.context.$implicit.inventory.stock.name)&&o),"focus"===e&&(u.onPartyAccBlur(),o=!1!==u.onStockFocus(t,n.context.index)&&o),"blur"===e&&(u.onStockItemBlur(t,l["\u0275nov"](n,16)),o=!1!==(u.filterByText="")&&o),"keydown"===e&&(o=!1!==u.detectKey(t)&&o),o},null,null)),l["\u0275did"](7,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](8,{focus:0}),l["\u0275did"](9,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](11,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](13,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](14,16384,null,0,r,[l.ElementRef],{onReturn:[0,"onReturn"]},null),(n()(),l["\u0275eld"](15,0,null,null,10,"td",[],null,null,null,null,null)),(n()(),l["\u0275eld"](16,0,[["qty",1]],null,9,"input",[["class","form-control text-right"],["decimalDigitsDirective",""],["onReturn",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"],[null,"keypress"],[null,"paste"],[null,"drop"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,19)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,19).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,19)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,19)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,24).onKeyDown(t)&&o),"keypress"===e&&(o=!1!==l["\u0275nov"](n,24).onKeyPress(t)&&o),"paste"===e&&(o=!1!==l["\u0275nov"](n,24).onPaste(t)&&o),"drop"===e&&(o=!1!==l["\u0275nov"](n,24).onDrop(t)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,25).onKeyDown(t)&&o),"ngModelChange"===e&&(o=!1!==(n.context.$implicit.inventory.quantity=t)&&o),"ngModelChange"===e&&(o=!1!==u.changeQuantity(n.context.index,t)&&o),"focus"===e&&(u.selectRow(!0,n.context.index,null),o=!1!==u.hideListItems()&&o),o},null,null)),l["\u0275did"](17,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](18,{focus:0}),l["\u0275did"](19,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](21,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](23,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](24,147456,null,0,c.a,[l.ElementRef,d.m],{DecimalPlaces:[0,"DecimalPlaces"]},null),l["\u0275did"](25,16384,null,0,r,[l.ElementRef],{onReturn:[0,"onReturn"]},null),(n()(),l["\u0275eld"](26,0,null,null,10,"td",[],null,null,null,null,null)),(n()(),l["\u0275eld"](27,0,null,null,9,"input",[["class","form-control text-right"],["decimalDigitsDirective",""],["onReturn",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"],[null,"keypress"],[null,"paste"],[null,"drop"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,30)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,30).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,30)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,30)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,35).onKeyDown(t)&&o),"keypress"===e&&(o=!1!==l["\u0275nov"](n,35).onKeyPress(t)&&o),"paste"===e&&(o=!1!==l["\u0275nov"](n,35).onPaste(t)&&o),"drop"===e&&(o=!1!==l["\u0275nov"](n,35).onDrop(t)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,36).onKeyDown(t)&&o),"ngModelChange"===e&&(o=!1!==(n.context.$implicit.inventory.unit.rate=t)&&o),"ngModelChange"===e&&(o=!1!==u.changePrice(n.context.index,t)&&o),"focus"===e&&(o=!1!==u.selectRow(!0,n.context.index,null)&&o),o},null,null)),l["\u0275did"](28,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](29,{focus:0}),l["\u0275did"](30,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](32,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](34,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](35,147456,null,0,c.a,[l.ElementRef,d.m],{DecimalPlaces:[0,"DecimalPlaces"]},null),l["\u0275did"](36,16384,null,0,r,[l.ElementRef],{onReturn:[0,"onReturn"]},null),(n()(),l["\u0275eld"](37,0,null,null,6,"td",[],null,null,null,null,null)),(n()(),l["\u0275eld"](38,0,null,null,5,"input",[["class","form-control text-left"],["type","text"]],[[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,39)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,39).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,39)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,39)._compositionEnd(t.target.value)&&o),"ngModelChange"===e&&(o=!1!==(n.context.$implicit.inventory.unit.stockUnitCode=t)&&o),"focus"===e&&(o=!1!==u.selectRow(!0,n.context.index)&&o),o},null,null)),l["\u0275did"](39,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](41,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](43,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](44,0,null,null,10,"td",[],null,null,null,null,null)),(n()(),l["\u0275eld"](45,0,[["toAmountField",1]],null,9,"input",[["class","form-control text-right"],["decimalDigitsDirective",""],["onReturn",""],["type","text"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"keydown.Tab"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"],[null,"keypress"],[null,"paste"],[null,"drop"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,48)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,48).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,48)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,48)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,53).onKeyDown(t)&&o),"keypress"===e&&(o=!1!==l["\u0275nov"](n,53).onKeyPress(t)&&o),"paste"===e&&(o=!1!==l["\u0275nov"](n,53).onPaste(t)&&o),"drop"===e&&(o=!1!==l["\u0275nov"](n,53).onDrop(t)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,54).onKeyDown(t)&&o),"ngModelChange"===e&&(o=!1!==(n.context.$implicit.inventory.amount=t)&&o),"ngModelChange"===e&&(o=!1!==u.amountChanged(n.context.index)&&o),"focus"===e&&(u.selectRow(!0,n.context.index),o=!1!==u.addNewStock(n.context.$implicit.inventory.amount,n.context.$implicit,n.context.index)&&o),"keydown.Tab"===e&&(o=!1!==u.addNewStock(n.context.$implicit.inventory.amount,n.context.$implicit,n.context.index)&&o),"blur"===e&&(o=!1!==u.checkIfEnteredAmountIsZero(n.context.$implicit.inventory.amount,n.context.index,"stock")&&o),o},null,null)),l["\u0275did"](46,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](47,{focus:0}),l["\u0275did"](48,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](50,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](52,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](53,147456,null,0,c.a,[l.ElementRef,d.m],{DecimalPlaces:[0,"DecimalPlaces"]},null),l["\u0275did"](54,16384,null,0,r,[l.ElementRef],{onReturn:[0,"onReturn"]},null)],function(n,e){var t=e.component,l=n(e,4,0,t.isSelectedRow&&t.selectedRowIdx===e.context.index||!t.selectedRowIdx&&!t.isSelectedRow&&0==e.context.index);n(e,3,0,l);var o=n(e,8,0,t.isSelectedRow&&t.selectedRowIdx===e.context.index);n(e,7,0,"form-control select-stock-in-invoice",o),n(e,11,0,e.context.$implicit.inventory.stock.name),n(e,14,0,"");var u=n(e,18,0,t.isSelectedRow&&t.selectedRowIdx===e.context.index);n(e,17,0,"form-control text-right",u),n(e,21,0,!e.context.$implicit.inventory.stock.name,e.context.$implicit.inventory.quantity),n(e,24,0,2),n(e,25,0,"");var i=n(e,29,0,t.isSelectedRow&&t.selectedRowIdx===e.context.index);n(e,28,0,"form-control text-right",i),n(e,32,0,!e.context.$implicit.inventory.stock.name,e.context.$implicit.inventory.unit.rate),n(e,35,0,2),n(e,36,0,""),n(e,41,0,!e.context.$implicit.inventory.stock.name,e.context.$implicit.inventory.unit.stockUnitCode);var s=n(e,47,0,t.isSelectedRow&&t.selectedRowIdx===e.context.index);n(e,46,0,"form-control text-right",s),n(e,50,0,!e.context.$implicit.inventory.stock.name,e.context.$implicit.inventory.amount),n(e,53,0,2),n(e,54,0,"")},function(n,e){n(e,6,0,l["\u0275inlineInterpolate"](2,"first_element_",e.context.index,"_",e.context.index,""),l["\u0275nov"](e,13).ngClassUntouched,l["\u0275nov"](e,13).ngClassTouched,l["\u0275nov"](e,13).ngClassPristine,l["\u0275nov"](e,13).ngClassDirty,l["\u0275nov"](e,13).ngClassValid,l["\u0275nov"](e,13).ngClassInvalid,l["\u0275nov"](e,13).ngClassPending),n(e,16,0,l["\u0275nov"](e,23).ngClassUntouched,l["\u0275nov"](e,23).ngClassTouched,l["\u0275nov"](e,23).ngClassPristine,l["\u0275nov"](e,23).ngClassDirty,l["\u0275nov"](e,23).ngClassValid,l["\u0275nov"](e,23).ngClassInvalid,l["\u0275nov"](e,23).ngClassPending),n(e,27,0,l["\u0275nov"](e,34).ngClassUntouched,l["\u0275nov"](e,34).ngClassTouched,l["\u0275nov"](e,34).ngClassPristine,l["\u0275nov"](e,34).ngClassDirty,l["\u0275nov"](e,34).ngClassValid,l["\u0275nov"](e,34).ngClassInvalid,l["\u0275nov"](e,34).ngClassPending),n(e,38,0,!0,l["\u0275nov"](e,43).ngClassUntouched,l["\u0275nov"](e,43).ngClassTouched,l["\u0275nov"](e,43).ngClassPristine,l["\u0275nov"](e,43).ngClassDirty,l["\u0275nov"](e,43).ngClassValid,l["\u0275nov"](e,43).ngClassInvalid,l["\u0275nov"](e,43).ngClassPending),n(e,45,0,l["\u0275inlineInterpolate"](1,"stock_",e.context.index,""),l["\u0275nov"](e,52).ngClassUntouched,l["\u0275nov"](e,52).ngClassTouched,l["\u0275nov"](e,52).ngClassPristine,l["\u0275nov"](e,52).ngClassDirty,l["\u0275nov"](e,52).ngClassValid,l["\u0275nov"](e,52).ngClassInvalid,l["\u0275nov"](e,52).ngClassPending)})}function yn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"td",[["colspan","4"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,2,"td",[["class",""]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,0,"input",[["class","form-control text-right"],["disabled",""],["readonly",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,0,"div",[["class","bdrB"]],null,null,null,null,null))],null,function(n,e){n(e,3,0,e.component.stockTotal)})}function Cn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"input",[["class","form-control"],["disabled",""],["onReturn",""],["readonly",""],["type","text"]],[[8,"value",0]],[[null,"keydown"]],function(n,e,t){var o=!0;return"keydown"===e&&(o=!1!==l["\u0275nov"](n,1).onKeyDown(t)&&o),o},null,null)),l["\u0275did"](1,16384,null,0,r,[l.ElementRef],{onReturn:[0,"onReturn"]},null)],function(n,e){n(e,1,0,"")},function(n,e){n(e,0,0,"%")})}function bn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,38,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,37,"tr",[],null,null,null,null,null)),l["\u0275did"](2,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](3,{activeRow:0}),(n()(),l["\u0275eld"](4,0,null,null,9,"td",[["colspan","2"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,[[4,0],["particular",1]],null,8,"input",[["class","form-control invoice-account-field"],["data-accountlistid","i"],["onReturn",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"keydown"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,8)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,8).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,8)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,8)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,13).onKeyDown(t)&&o),"ngModelChange"===e&&(o=!1!==(n.context.$implicit.selectedAccount.account=t)&&o),"ngModelChange"===e&&(o=!1!==u.searchAccount(t)&&o),"focus"===e&&(u.selectedAccIdx=n.context.index,o=!1!==u.onAccountFocus(t,n.context.index)&&o),"keydown"===e&&(o=!1!==u.detectKey(t,0===n.context.index)&&o),"blur"===e&&(o=!1!==u.onAccountBlur(l["\u0275nov"](n,5))&&o),o},null,null)),l["\u0275did"](6,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](7,{focus:0}),l["\u0275did"](8,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](10,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](12,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](13,16384,null,0,r,[l.ElementRef],{onReturn:[0,"onReturn"]},null),(n()(),l["\u0275eld"](14,0,null,null,10,"td",[],null,null,null,null,null)),(n()(),l["\u0275eld"](15,0,null,null,9,"input",[["class","form-control text-right"],["decimalDigitsDirective",""],["onReturn",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"],[null,"keypress"],[null,"paste"],[null,"drop"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,18)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,18).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,18)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,18)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,23).onKeyDown(t)&&o),"keypress"===e&&(o=!1!==l["\u0275nov"](n,23).onKeyPress(t)&&o),"paste"===e&&(o=!1!==l["\u0275nov"](n,23).onPaste(t)&&o),"drop"===e&&(o=!1!==l["\u0275nov"](n,23).onDrop(t)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,24).onKeyDown(t)&&o),"ngModelChange"===e&&(o=!1!==(n.context.$implicit.rate=t)&&o),"ngModelChange"===e&&(o=!1!==u.calculateRate(n.context.index,null==n.context.$implicit?null:n.context.$implicit.rate)&&o),"focus"===e&&(u.selectedAccIdx=n.context.index,o=!1!==u.hideListItems()&&o),o},null,null)),l["\u0275did"](16,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](17,{focus:0}),l["\u0275did"](18,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](20,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](22,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](23,147456,null,0,c.a,[l.ElementRef,d.m],{DecimalPlaces:[0,"DecimalPlaces"]},null),l["\u0275did"](24,16384,null,0,r,[l.ElementRef],{onReturn:[0,"onReturn"]},null),(n()(),l["\u0275eld"](25,0,null,null,2,"td",[],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Cn)),l["\u0275did"](27,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](28,0,null,null,10,"td",[],null,null,null,null,null)),(n()(),l["\u0275eld"](29,0,null,null,9,"input",[["class","form-control text-right"],["decimalDigitsDirective",""],["onReturn",""],["type","text"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.Enter"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"],[null,"keypress"],[null,"paste"],[null,"drop"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,32)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,32).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,32)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,32)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,37).onKeyDown(t)&&o),"keypress"===e&&(o=!1!==l["\u0275nov"](n,37).onKeyPress(t)&&o),"paste"===e&&(o=!1!==l["\u0275nov"](n,37).onPaste(t)&&o),"drop"===e&&(o=!1!==l["\u0275nov"](n,37).onDrop(t)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,38).onKeyDown(t)&&o),"ngModelChange"===e&&(o=!1!==(n.context.$implicit.amount=t)&&o),"keyup.Enter"===e&&(u.selectedAccIdx=n.context.index,o=!1!==u.addNewAccount(n.context.$implicit.amount,n.context.last)&&o),"blur"===e&&(o=!1!==u.checkIfEnteredAmountIsZero(n.context.$implicit.amount,n.context.index,"account")&&o),o},null,null)),l["\u0275did"](30,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](31,{focus:0}),l["\u0275did"](32,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](34,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](36,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](37,147456,null,0,c.a,[l.ElementRef,d.m],{DecimalPlaces:[0,"DecimalPlaces"]},null),l["\u0275did"](38,16384,null,0,r,[l.ElementRef],{onReturn:[0,"onReturn"]},null)],function(n,e){var t=e.component,l=n(e,3,0,t.isSelectedRow&&t.selectedAccIdx===e.context.index);n(e,2,0,l);var o=n(e,7,0,t.isSelectedRow&&t.selectedAccIdx===e.context.index);n(e,6,0,"form-control invoice-account-field",o),n(e,10,0,e.context.$implicit.selectedAccount.account),n(e,13,0,"");var u=n(e,17,0,t.isSelectedRow&&t.selectedAccIdx===e.context.index);n(e,16,0,"form-control text-right",u),n(e,20,0,!e.context.$implicit.selectedAccount.account,e.context.$implicit.rate),n(e,23,0,2),n(e,24,0,""),n(e,27,0,e.context.$implicit.rate);var i=n(e,31,0,t.isSelectedRow&&t.selectedAccIdx===e.context.index);n(e,30,0,"form-control text-right",i),n(e,34,0,!e.context.$implicit.selectedAccount.account,e.context.$implicit.amount),n(e,37,0,2),n(e,38,0,"")},function(n,e){n(e,5,0,l["\u0275nov"](e,12).ngClassUntouched,l["\u0275nov"](e,12).ngClassTouched,l["\u0275nov"](e,12).ngClassPristine,l["\u0275nov"](e,12).ngClassDirty,l["\u0275nov"](e,12).ngClassValid,l["\u0275nov"](e,12).ngClassInvalid,l["\u0275nov"](e,12).ngClassPending),n(e,15,0,l["\u0275nov"](e,22).ngClassUntouched,l["\u0275nov"](e,22).ngClassTouched,l["\u0275nov"](e,22).ngClassPristine,l["\u0275nov"](e,22).ngClassDirty,l["\u0275nov"](e,22).ngClassValid,l["\u0275nov"](e,22).ngClassInvalid,l["\u0275nov"](e,22).ngClassPending),n(e,29,0,l["\u0275inlineInterpolate"](1,"account_",e.context.index,""),l["\u0275nov"](e,36).ngClassUntouched,l["\u0275nov"](e,36).ngClassTouched,l["\u0275nov"](e,36).ngClassPristine,l["\u0275nov"](e,36).ngClassDirty,l["\u0275nov"](e,36).ngClassValid,l["\u0275nov"](e,36).ngClassInvalid,l["\u0275nov"](e,36).ngClassPending)})}function kn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"h3",[["class","pd1 bdrB primary_clr"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["List of Ledger Accounts"]))],null,null)}function xn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"h3",[["class","pd1 bdrB primary_clr"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["List of Stock Items"]))],null,null)}function An(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"div",[["class","aside-overlay"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.closeCreateStock(t)&&l),l},null,null))],null,null)}function _n(n){return l["\u0275vid"](0,[l["\u0275pid"](0,s.DecimalPipe,[l.LOCALE_ID]),l["\u0275qud"](402653184,1,{quickAccountComponent:0}),l["\u0275qud"](402653184,2,{quickAccountModal:0}),l["\u0275qud"](671088640,3,{columnView:1}),l["\u0275qud"](671088640,4,{accountField:0}),l["\u0275qud"](402653184,5,{dateField:0}),l["\u0275qud"](402653184,6,{manageGroupsAccountsModal:0}),l["\u0275qud"](402653184,7,{partyAccNameInputField:0}),l["\u0275qud"](402653184,8,{submitButton:0}),l["\u0275qud"](402653184,9,{resetButton:0}),l["\u0275qud"](402653184,10,{narrationBox:0}),(n()(),l["\u0275eld"](11,0,null,null,113,"div",[["class","col-xs-10"]],null,null,null,null,null)),(n()(),l["\u0275eld"](12,0,null,null,100,"div",[["class","col-xs-12 bg_wrap"]],null,null,null,null,null)),(n()(),l["\u0275eld"](13,0,null,null,99,"div",[["class","row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](14,0,null,null,20,"div",[["class","clearfix pdT2"]],null,null,null,null,null)),(n()(),l["\u0275eld"](15,0,null,null,8,"div",[["class","d-flex"]],null,null,null,null,null)),(n()(),l["\u0275eld"](16,0,null,null,1,"span",[["class","btn label isActive"]],null,null,null,null,null)),(n()(),l["\u0275ted"](17,null,["",""])),(n()(),l["\u0275eld"](18,0,null,null,5,"input",[["class","text-center appearance_none"],["name","invoiceNumberAgainstVoucher"],["placeholder","Invoice No"],["style","width: 128px"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,19)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,19).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,19)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,19)._compositionEnd(t.target.value)&&o),"ngModelChange"===e&&(o=!1!==(u.data.invoiceNumberAgainstVoucher=t)&&o),o},null,null)),l["\u0275did"](19,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](21,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](23,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](24,0,null,null,10,"div",[["class","pull-right text-right mrB1"]],null,null,null,null,null)),(n()(),l["\u0275eld"](25,0,[[5,0],["dateField",1]],null,8,"input",[["class","form-control text-right invoice-date-field"],["name","entryDate"],["onReturn",""],["placeholder","DD-MM-YYYY"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,26)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,26).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,26)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,26)._compositionEnd(t.target.value)&&o),"input"===e&&(o=!1!==l["\u0275nov"](n,27)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,27).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,27)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,27)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,33).onKeyDown(t)&&o),"ngModelChange"===e&&(o=!1!==(u.entryDate=t)&&o),"blur"===e&&(o=!1!==u.dateEntered()&&o),o},null,null)),l["\u0275did"](26,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](27,540672,null,0,h.MaskedInputDirective,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],{textMaskConfig:[0,"textMaskConfig"]},null),l["\u0275pod"](28,{mask:0,guide:1}),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n,e){return[n,e]},[a.DefaultValueAccessor,h.MaskedInputDirective]),l["\u0275did"](30,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](32,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](33,16384,null,0,r,[l.ElementRef],{onReturn:[0,"onReturn"]},null),(n()(),l["\u0275ted"](34,null,[" "," "])),(n()(),l["\u0275eld"](35,0,null,null,9,"div",[["class","clearfix form-inline mrB"]],null,null,null,null,null)),(n()(),l["\u0275eld"](36,0,null,null,8,"div",[["class","mx-350 form-group"]],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275eld"](37,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),l["\u0275ted"](38,null,["",":"])),(n()(),l["\u0275eld"](39,0,null,null,5,"input",[["class","form-control max-height28 appearance_none"],["placeholder","Invoice no."],["style","max-width:200px"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,40)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,40).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,40)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,40)._compositionEnd(t.target.value)&&o),"ngModelChange"===e&&(o=!1!==(u.data.invoiceNumberAgainstVoucher=t)&&o),o},null,null)),l["\u0275did"](40,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](42,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](44,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](45,0,null,null,13,"div",[["class","mx-350 clearfix form-inline mrB"]],null,null,null,null,null)),(n()(),l["\u0275eld"](46,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](47,0,null,null,3,"label",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Party A/c Name: "])),(n()(),l["\u0275eld"](49,0,null,null,1,"sup",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["*"])),(n()(),l["\u0275eld"](51,0,[[7,0],["partyAccNameInputField",1]],null,5,"input",[["class","form-control max-height28 appearance_none upper-fields"],["name","party_name"],["placeholder","Party account"],["style","max-width:200px;"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"keyup"],[null,"keydown"],[null,"ngModelChange"],[null,"focus"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,52)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,52).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,52)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,52)._compositionEnd(t.target.value)&&o),"input"===e&&(u.onPartyAccFocusInput(t),u.selectedField="account",o=!1!==(u.focusedField="partyAcc")&&o),"keyup"===e&&(o=!1!==u.searchAccount(null==t?null:null==t.target?null:t.target.value)&&o),"keydown"===e&&(o=!1!==u.detectKey(t)&&o),"ngModelChange"===e&&(o=!1!==(u.creditorAcc.name=t)&&o),"focus"===e&&(u.onPartyAccFocus(t),u.selectedField="account",o=!1!==(u.focusedField="partyAcc")&&o),"blur"===e&&(u.onPartyAccBlur(),u.selectedField=null,u.focusedField=null,o=!1!==(u.filterByText="")&&o),o},null,null)),l["\u0275did"](52,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](54,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](56,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,fn)),l["\u0275did"](58,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](59,0,null,null,24,"div",[["class","clearfix mrT1"]],[[4,"min-height","vh"]],null,null,null,null)),(n()(),l["\u0275eld"](60,0,null,null,23,"div",[["class","table-responsive bdrT"]],null,null,null,null,null)),(n()(),l["\u0275eld"](61,0,null,null,22,"table",[["class","table entry_table"]],null,null,null,null,null)),(n()(),l["\u0275eld"](62,0,null,null,11,"thead",[],null,null,null,null,null)),(n()(),l["\u0275eld"](63,0,null,null,10,"tr",[],null,null,null,null,null)),(n()(),l["\u0275eld"](64,0,null,null,1,"th",[["style","width:70%;"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Name of Item"])),(n()(),l["\u0275eld"](66,0,null,null,1,"th",[["class","text-right"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Quantity"])),(n()(),l["\u0275eld"](68,0,null,null,1,"th",[["class","text-right"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Rate"])),(n()(),l["\u0275eld"](70,0,null,null,1,"th",[["class","text-left"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Per"])),(n()(),l["\u0275eld"](72,0,null,null,1,"th",[["class","text-right"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Amount"])),(n()(),l["\u0275eld"](74,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),l["\u0275eld"](75,0,null,null,8,"tbody",[],null,[[null,"clickOutside"]],function(n,e,t){var l=!0;return"clickOutside"===e&&(l=!1!==n.component.hideListItems()&&l),l},null,null)),l["\u0275did"](76,737280,null,0,p.ClickOutsideDirective,[l.ElementRef,l.NgZone,l.PLATFORM_ID],null,{clickOutside:"clickOutside"}),(n()(),l["\u0275and"](16777216,null,null,1,null,vn)),l["\u0275did"](78,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,yn)),l["\u0275did"](80,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](81,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,bn)),l["\u0275did"](83,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275eld"](84,0,null,null,28,"div",[["class","clearfix"]],null,null,null,null,null)),(n()(),l["\u0275eld"](85,0,null,null,10,"div",[["class","col-xs-4"]],null,null,null,null,null)),(n()(),l["\u0275eld"](86,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](87,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Narration:"])),(n()(),l["\u0275eld"](89,0,[[10,0],["narrationBox",1]],null,6,"textarea",[["class","form-control appearance_none"],["id","invoice-narration"],["name","narration"],["onReturn",""],["resize","false"],["rows","6"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"keydown.tab"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],function(n,e,t){var o=!0,u=n.component;return"input"===e&&(o=!1!==l["\u0275nov"](n,90)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,90).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,90)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,90)._compositionEnd(t.target.value)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,95).onKeyDown(t)&&o),"keyup.enter"===e&&(o=!1!==u.openConfirmBox(l["\u0275nov"](n,101))&&o),"keydown.tab"===e&&(o=!1!==u.openConfirmBox(l["\u0275nov"](n,101))&&o),"ngModelChange"===e&&(o=!1!==(u.data.description=t)&&o),o},null,null)),l["\u0275did"](90,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[a.DefaultValueAccessor]),l["\u0275did"](92,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](94,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](95,16384,null,0,r,[l.ElementRef],{onReturn:[0,"onReturn"]},null),(n()(),l["\u0275eld"](96,0,null,null,11,"div",[["class","confirmation_box bdr text-center pd2"]],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275eld"](97,0,null,null,10,"div",[["class",""]],null,null,null,null,null)),(n()(),l["\u0275eld"](98,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Accept?"])),(n()(),l["\u0275eld"](100,0,null,null,7,"div",[["class","pdT2"]],null,null,null,null,null)),(n()(),l["\u0275eld"](101,0,[[8,0],["submitButton",1]],null,1,"button",[["class","btn btn-primary"]],null,[[null,"keyup"],[null,"click"]],function(n,e,t){var l=!0,o=n.component;return"keyup"===e&&(l=!1!==o.keyUpOnSubmitButton(t)&&l),"click"===e&&(l=!1!==o.saveEntry()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["Yes "])),(n()(),l["\u0275eld"](103,0,[[9,0],["resetButton",1]],null,1,"button",[["class","btn btn-default"]],null,[[null,"keyup"]],function(n,e,t){var l=!0;return"keyup"===e&&(l=!1!==n.component.keyUpOnResetButton(t)&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["No"])),(n()(),l["\u0275eld"](105,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),l["\u0275eld"](106,0,null,null,1,"button",[["class","btn btn-link mrT1"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.refreshEntry()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["Reset"])),(n()(),l["\u0275eld"](108,0,null,null,4,"div",[["class","total_box text-right pull-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](109,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),l["\u0275eld"](110,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),l["\u0275ted"](111,null,["",""])),l["\u0275ppd"](112,2),(n()(),l["\u0275eld"](113,0,null,null,11,"div",[["class","sidebar_list form-control"]],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,kn)),l["\u0275did"](115,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,xn)),l["\u0275did"](117,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](118,0,null,null,6,"accounting-virtual-list",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"ngModelChange"],[null,"noResultsClicked"]],function(n,e,t){var l=!0,o=n.component;return"selected"===e&&(l=!1!==o.onItemSelected(t)&&l),"ngModelChange"===e&&(l=!1!==(o.currentSelectedValue=t)&&l),"noResultsClicked"===e&&(l=!1!==o.showQuickAccountModal()&&l),l},O,R)),l["\u0275did"](119,4833280,null,1,S,[l.ElementRef,l.Renderer,l.ChangeDetectorRef],{placeholder:[0,"placeholder"],multiple:[1,"multiple"],notFoundLink:[2,"notFoundLink"],isFilterEnabled:[3,"isFilterEnabled"],ItemHeight:[4,"ItemHeight"],showList:[5,"showList"],filterText:[6,"filterText"],keydownUpInput:[7,"keydownUpInput"],options:[8,"options"]},{selected:"selected",noResultsClicked:"noResultsClicked"}),l["\u0275qud"](335544320,11,{optionTemplate:0}),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(n){return[n]},[S]),l["\u0275did"](122,671744,null,0,a.NgModel,[[8,null],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](124,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](125,16777216,null,null,6,"div",[["bsModal",""],["class","modal"],["role","dialog"]],null,[[null,"click"],[null,"keydown.esc"]],function(n,e,t){var o=!0;return"click"===e&&(o=!1!==l["\u0275nov"](n,126).onClick(t)&&o),"keydown.esc"===e&&(o=!1!==l["\u0275nov"](n,126).onEsc(t)&&o),o},null,null)),l["\u0275did"](126,212992,[[2,4],["quickAccountModal",4]],0,N.a,[l.ElementRef,l.ViewContainerRef,l.Renderer2,D.a],{config:[0,"config"]},null),l["\u0275pod"](127,{backdrop:0}),(n()(),l["\u0275eld"](128,0,null,null,3,"div",[["class","modal-dialog modal-sm"],["style","width: 298px"]],null,null,null,null,null)),(n()(),l["\u0275eld"](129,0,null,null,2,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),l["\u0275eld"](130,16777216,null,null,1,"div",[["element-view-container-ref",""]],null,null,null,null,null)),l["\u0275did"](131,16384,[[1,4],["quickAccountComponent",4]],0,I.a,[l.ViewContainerRef],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,An)),l["\u0275did"](133,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](134,0,null,null,1,"aside-inventory-stock-group",[],[[8,"className",0],[24,"@slideInOut",0]],[[null,"closeAsideEvent"]],function(n,e,t){var l=!0;return"closeAsideEvent"===e&&(l=!1!==n.component.closeCreateStock()&&l),l},M.b,M.a)),l["\u0275did"](135,770048,null,0,P.a,[d.m,T.a],{autoFocus:[0,"autoFocus"]},{closeAsideEvent:"closeAsideEvent"})],function(n,e){var t=e.component;n(e,21,0,"invoiceNumberAgainstVoucher",!t.isCustomInvoice,t.data.invoiceNumberAgainstVoucher);var l=n(e,28,0,t.dateMask,!0);n(e,27,0,l),n(e,30,0,"entryDate",t.entryDate),n(e,33,0,""),n(e,42,0,t.isSalesInvoiceSelected,t.data.invoiceNumberAgainstVoucher),n(e,54,0,"party_name",t.creditorAcc.name),n(e,58,0,t.isPurchaseInvoiceSelected),n(e,76,0),n(e,78,0,t.stocksTransaction),n(e,80,0,t.stockTotal),n(e,83,0,t.accountsTransaction),n(e,92,0,"narration",t.data.description),n(e,95,0,""),n(e,115,0,"account"===t.selectedField),n(e,117,0,"stock"===t.selectedField),n(e,119,0,"Select Option",!1,!0,!0,33,t.showLedgerAccountList,t.filterByText,t.keyUpDownEvent,t.inputForList),n(e,122,0,t.currentSelectedValue);var o=n(e,127,0,!1);n(e,126,0,o),n(e,133,0,"in"===t.asideMenuStateForProductService),n(e,135,0,t.autoFocusStockGroupField)},function(n,e){var t=e.component;n(e,17,0,t.data.voucherType),n(e,18,0,l["\u0275nov"](e,23).ngClassUntouched,l["\u0275nov"](e,23).ngClassTouched,l["\u0275nov"](e,23).ngClassPristine,l["\u0275nov"](e,23).ngClassDirty,l["\u0275nov"](e,23).ngClassValid,l["\u0275nov"](e,23).ngClassInvalid,l["\u0275nov"](e,23).ngClassPending),n(e,25,0,l["\u0275nov"](e,32).ngClassUntouched,l["\u0275nov"](e,32).ngClassTouched,l["\u0275nov"](e,32).ngClassPristine,l["\u0275nov"](e,32).ngClassDirty,l["\u0275nov"](e,32).ngClassValid,l["\u0275nov"](e,32).ngClassInvalid,l["\u0275nov"](e,32).ngClassPending),n(e,34,0,t.displayDay),n(e,36,0,t.isSalesInvoiceSelected),n(e,38,0,t.invoiceNoHeading),n(e,39,0,l["\u0275nov"](e,44).ngClassUntouched,l["\u0275nov"](e,44).ngClassTouched,l["\u0275nov"](e,44).ngClassPristine,l["\u0275nov"](e,44).ngClassDirty,l["\u0275nov"](e,44).ngClassValid,l["\u0275nov"](e,44).ngClassInvalid,l["\u0275nov"](e,44).ngClassPending),n(e,51,0,l["\u0275nov"](e,56).ngClassUntouched,l["\u0275nov"](e,56).ngClassTouched,l["\u0275nov"](e,56).ngClassPristine,l["\u0275nov"](e,56).ngClassDirty,l["\u0275nov"](e,56).ngClassValid,l["\u0275nov"](e,56).ngClassInvalid,l["\u0275nov"](e,56).ngClassPending),n(e,59,0,61),n(e,89,0,l["\u0275nov"](e,94).ngClassUntouched,l["\u0275nov"](e,94).ngClassTouched,l["\u0275nov"](e,94).ngClassPristine,l["\u0275nov"](e,94).ngClassDirty,l["\u0275nov"](e,94).ngClassValid,l["\u0275nov"](e,94).ngClassInvalid,l["\u0275nov"](e,94).ngClassPending),n(e,96,0,!t.showConfirmationBox);var o=l["\u0275unv"](e,111,0,n(e,112,0,l["\u0275nov"](e,0),t.stockTotal+t.accountsTotal,"1.2-2"));n(e,111,0,o),n(e,113,0,!t.showLedgerAccountList),n(e,118,0,l["\u0275nov"](e,124).ngClassUntouched,l["\u0275nov"](e,124).ngClassTouched,l["\u0275nov"](e,124).ngClassPristine,l["\u0275nov"](e,124).ngClassDirty,l["\u0275nov"](e,124).ngClassValid,l["\u0275nov"](e,124).ngClassInvalid,l["\u0275nov"](e,124).ngClassPending),n(e,134,0,t.asideMenuStateForProductService,t.asideMenuStateForProductService)})}var En=function(){function n(n){this._tallyModuleService=n,this.flyAccounts=new K.a,this.accountSearch="",this.grpUniqueName="",this.showAccountList=!0,this.selectedVoucher=null,this.selectedGrid=null,this.destroyed$=new K.a(1)}return n.prototype.ngOnInit=function(){var n=this;this._tallyModuleService.flattenAccounts.pipe(Object(rn.a)(2)).subscribe(function(e){e&&n.setSelectedPage("Journal","voucher","purchases")}),this._tallyModuleService.selectedPageInfo.pipe(Object(F.a)(function(n,e){return n&&e?w.isEqual(n,e):!(n&&!e||!n&&e)})).subscribe(function(e){e&&(n.selectedVoucher=e.page,n.selectedGrid=e.gridType)})},n.prototype.ngOnChanges=function(n){n.AccountListOpen&&(this.showAccountList=!this.showAccountList)},n.prototype.setSelectedPage=function(n,e,t){this._tallyModuleService.setVoucher({page:n,uniqueName:t,gridType:e}),this.selectedVoucher=n,this.selectedGrid=e},n.prototype.ngOnDestroy=function(){this.destroyed$.next(!0),this.destroyed$.complete()},n}(),wn=l["\u0275crt"]({encapsulation:0,styles:[[".account_listbar[_ngcontent-%COMP%]{overflow-y:hidden;height:100vh;width:250px;background:#fff;position:absolute;left:-250px;z-index:0}.appearance_none[_ngcontent-%COMP%]{background:0 0!important;border:0!important;font-size:16px;color:#333}.sidebar_menu[_ngcontent-%COMP%]{min-height:100vh;background:#262626;color:#fff;float:right;position:relative}.menu_list[_ngcontent-%COMP%]{padding:0}.menu_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.menu_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;padding:7px 12px;display:block;font-size:14px}.menu_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#333;color:#ff5f00}.menu_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.isHidden[_ngcontent-%COMP%]{color:#4d4d4d}.activechild[_ngcontent-%COMP%]{background:#333;padding-left:20px}.activechild[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-right:2px}.activeparent[_ngcontent-%COMP%]{color:#ff5f00!important}.dblUnderlined[_ngcontent-%COMP%]{border-bottom:3px double}"]],data:{}});function Sn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,100,"ul",[["class","menu_list"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,3,"a",[["class","cp"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.setSelectedPage("Contra","voucher","purchases")&&l),l},null,null)),l["\u0275did"](3,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](4,{activeparent:0}),(n()(),l["\u0275ted"](-1,null,["F4: Contra"])),(n()(),l["\u0275eld"](6,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,3,"a",[["class","cp"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.setSelectedPage("Payment","voucher","purchases")&&l),l},null,null)),l["\u0275did"](8,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](9,{activeparent:0}),(n()(),l["\u0275ted"](-1,null,["F5: Payment"])),(n()(),l["\u0275eld"](11,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](12,0,null,null,3,"a",[["class","cp"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.setSelectedPage("Receipt","voucher","purchases")&&l),l},null,null)),l["\u0275did"](13,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](14,{activeparent:0}),(n()(),l["\u0275ted"](-1,null,["F6: Receipt"])),(n()(),l["\u0275eld"](16,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](17,0,null,null,3,"a",[["class","cp"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.setSelectedPage("Journal","voucher",null)&&l),l},null,null)),l["\u0275did"](18,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](19,{activeparent:0}),(n()(),l["\u0275ted"](-1,null,["F7: Journal"])),(n()(),l["\u0275eld"](21,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](22,0,null,null,3,"a",[["class","cp"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.setSelectedPage("Sales","voucher","sales")&&l),l},null,null)),l["\u0275did"](23,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](24,{activeparent:0}),(n()(),l["\u0275ted"](-1,null,["F8: Sales"])),(n()(),l["\u0275eld"](26,0,null,null,6,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](27,0,null,null,5,"a",[["class","cp"]],[[8,"hidden",0]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.setSelectedPage("Sales","voucher","sales")&&l),l},null,null)),l["\u0275did"](28,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](29,{activechild:0}),(n()(),l["\u0275eld"](30,0,null,null,1,"span",[["class","dblUnderlined"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["V:"])),(n()(),l["\u0275ted"](-1,null,[" As Voucher"])),(n()(),l["\u0275eld"](33,0,null,null,6,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](34,0,null,null,5,"a",[["class","cp"]],[[8,"hidden",0]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.setSelectedPage("Sales","invoice","sales")&&l),l},null,null)),l["\u0275did"](35,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](36,{activechild:0}),(n()(),l["\u0275eld"](37,0,null,null,1,"span",[["class","dblUnderlined"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["I:"])),(n()(),l["\u0275ted"](-1,null,[" As Invoice"])),(n()(),l["\u0275eld"](40,0,null,null,6,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](41,0,null,null,5,"a",[["class","cp"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.setSelectedPage("Credit note","voucher","purchases")&&l),l},null,null)),l["\u0275did"](42,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](43,{activeparent:0}),(n()(),l["\u0275eld"](44,0,null,null,1,"span",[["class","dblUnderlined"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["F8:"])),(n()(),l["\u0275ted"](-1,null,[" Credit Note"])),(n()(),l["\u0275eld"](47,0,null,null,6,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](48,0,null,null,5,"a",[["class","cp"]],[[8,"hidden",0]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.setSelectedPage("Credit note","voucher","sales")&&l),l},null,null)),l["\u0275did"](49,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](50,{activechild:0}),(n()(),l["\u0275eld"](51,0,null,null,1,"span",[["class","dblUnderlined"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["V:"])),(n()(),l["\u0275ted"](-1,null,[" As Voucher"])),(n()(),l["\u0275eld"](54,0,null,null,6,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](55,0,null,null,5,"a",[["class","cp"]],[[8,"hidden",0]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.setSelectedPage("Credit note","invoice","sales")&&l),l},null,null)),l["\u0275did"](56,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](57,{activechild:0}),(n()(),l["\u0275eld"](58,0,null,null,1,"span",[["class","dblUnderlined"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["I:"])),(n()(),l["\u0275ted"](-1,null,[" As Invoice"])),(n()(),l["\u0275eld"](61,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](62,0,null,null,3,"a",[["class","cp"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.setSelectedPage("Purchase","voucher","purchases")&&l),l},null,null)),l["\u0275did"](63,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](64,{activeparent:0}),(n()(),l["\u0275ted"](-1,null,["F9: Purchase"])),(n()(),l["\u0275eld"](66,0,null,null,6,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](67,0,null,null,5,"a",[["class","cp"]],[[8,"hidden",0]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.setSelectedPage("Purchase","voucher","purchases")&&l),l},null,null)),l["\u0275did"](68,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](69,{activechild:0}),(n()(),l["\u0275eld"](70,0,null,null,1,"span",[["class","dblUnderlined"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["V:"])),(n()(),l["\u0275ted"](-1,null,[" As Voucher"])),(n()(),l["\u0275eld"](73,0,null,null,6,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](74,0,null,null,5,"a",[["class","cp"]],[[8,"hidden",0]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.setSelectedPage("Purchase","invoice","purchases")&&l),l},null,null)),l["\u0275did"](75,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](76,{activechild:0}),(n()(),l["\u0275eld"](77,0,null,null,1,"span",[["class","dblUnderlined"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["I:"])),(n()(),l["\u0275ted"](-1,null,[" As Invoice"])),(n()(),l["\u0275eld"](80,0,null,null,6,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](81,0,null,null,5,"a",[["class","cp"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.setSelectedPage("Debit note","voucher","purchases")&&l),l},null,null)),l["\u0275did"](82,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](83,{activeparent:0}),(n()(),l["\u0275eld"](84,0,null,null,1,"span",[["class","dblUnderlined"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["F9:"])),(n()(),l["\u0275ted"](-1,null,[" Debit Note"])),(n()(),l["\u0275eld"](87,0,null,null,6,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](88,0,null,null,5,"a",[["class","cp"]],[[8,"hidden",0]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.setSelectedPage("Debit note","voucher","sales")&&l),l},null,null)),l["\u0275did"](89,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](90,{activechild:0}),(n()(),l["\u0275eld"](91,0,null,null,1,"span",[["class","dblUnderlined"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["V:"])),(n()(),l["\u0275ted"](-1,null,["As Voucher"])),(n()(),l["\u0275eld"](94,0,null,null,6,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](95,0,null,null,5,"a",[["class","cp"]],[[8,"hidden",0]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.setSelectedPage("Debit note","invoice","sales")&&l),l},null,null)),l["\u0275did"](96,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](97,{activechild:0}),(n()(),l["\u0275eld"](98,0,null,null,1,"span",[["class","dblUnderlined"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["I:"])),(n()(),l["\u0275ted"](-1,null,["As Invoice"]))],function(n,e){var t=e.component,l=n(e,4,0,"Contra"===t.selectedVoucher);n(e,3,0,"cp",l);var o=n(e,9,0,"Payment"===t.selectedVoucher);n(e,8,0,"cp",o);var u=n(e,14,0,"Receipt"===t.selectedVoucher);n(e,13,0,"cp",u);var i=n(e,19,0,"Journal"===t.selectedVoucher);n(e,18,0,"cp",i);var s=n(e,24,0,"Sales"===t.selectedVoucher);n(e,23,0,"cp",s);var a=n(e,29,0,"Sales"===t.selectedVoucher);n(e,28,0,"cp",a);var r=n(e,36,0,"Sales"===t.selectedVoucher);n(e,35,0,"cp",r);var c=n(e,43,0,"Credit note"===t.selectedVoucher);n(e,42,0,"cp",c);var d=n(e,50,0,"Credit note"===t.selectedVoucher);n(e,49,0,"cp",d);var p=n(e,57,0,"Credit note"===t.selectedVoucher);n(e,56,0,"cp",p);var h=n(e,64,0,"Purchase"===t.selectedVoucher);n(e,63,0,"cp",h);var g=n(e,69,0,"Purchase"===t.selectedVoucher);n(e,68,0,"cp",g);var m=n(e,76,0,"Purchase"===t.selectedVoucher);n(e,75,0,"cp",m);var f=n(e,83,0,"Debit note"===t.selectedVoucher);n(e,82,0,"cp",f);var v=n(e,90,0,"Debit note"===t.selectedVoucher);n(e,89,0,"cp",v);var y=n(e,97,0,"Debit note"===t.selectedVoucher);n(e,96,0,"cp",y)},function(n,e){var t=e.component;n(e,27,0,"Sales"!==t.selectedVoucher),n(e,34,0,"Sales"!==t.selectedVoucher),n(e,48,0,"Credit note"!==t.selectedVoucher),n(e,55,0,"Credit note"!==t.selectedVoucher),n(e,67,0,"Purchase"!==t.selectedVoucher),n(e,74,0,"Purchase"!==t.selectedVoucher),n(e,88,0,"Debit note"!==t.selectedVoucher),n(e,95,0,"Debit note"!==t.selectedVoucher)})}var Rn=t("Le07"),On=t("JCN2"),Nn=t("62ci"),Dn=[{keyCode:118,inputForFn:{page:"Journal",uniqueName:"purchases",gridType:"voucher"}},{keyCode:120,inputForFn:{page:"Purchase",uniqueName:"purchases",gridType:"voucher"}},{keyCode:119,inputForFn:{page:"Sales",uniqueName:"purchases",gridType:"voucher"}},{keyCode:120,altKey:!0,inputForFn:{page:"Debit note",uniqueName:"purchases",gridType:"voucher"}},{keyCode:119,altKey:!0,inputForFn:{page:"Credit note",uniqueName:"purchases",gridType:"voucher"}},{keyCode:116,inputForFn:{page:"Payment",uniqueName:"purchases",gridType:"voucher"}},{keyCode:117,inputForFn:{page:"Receipt",uniqueName:"null",gridType:"voucher"}},{keyCode:115,inputForFn:{page:"Contra",uniqueName:"purchases",gridType:"voucher"}}],In=["Purchase","Sales","Credit note","Debit note"],Mn=function(){function n(n,e,t,l,o){var u=this;this.store=n,this.companyActions=e,this._tallyModuleService=t,this._accountService=l,this.sidebarAction=o,this.gridType="voucher",this.selectedPage="journal",this.flattenAccounts=[],this.openDatePicker=!1,this.openCreateAccountPopupInVoucher=!1,this.openCreateAccountPopupInInvoice=!1,this.saveEntryInVoucher=!1,this.saveEntryInInvoice=!1,this.destroyed$=new K.a(1),this._tallyModuleService.selectedPageInfo.subscribe(function(n){n&&(u.gridType=n.gridType,u.selectedPage=n.page)})}return n.prototype.beforeunloadHandler=function(n){return 116!==(n.which||n.keyCode)},n.prototype.handleKeyboardEvent=function(n){var e=this;if(n.ctrlKey&&65===n.which)n.preventDefault(),n.stopPropagation(),"voucher"===this.gridType?(this.saveEntryInVoucher=!0,this.saveEntryInInvoice=!1):"invoice"===this.gridType&&(this.saveEntryInVoucher=!1,this.saveEntryInInvoice=!0),setTimeout(function(){e.saveEntryInVoucher=!1,e.saveEntryInInvoice=!1},100);else if(n.altKey&&86===n.which){if(!(In.indexOf((t=this._tallyModuleService.selectedPageInfo.value).page)>-1))return;this._tallyModuleService.setVoucher({page:t.page,uniqueName:t.uniqueName,gridType:"voucher"})}else if(n.altKey&&73===n.which){var t;if(!(In.indexOf((t=this._tallyModuleService.selectedPageInfo.value).page)>-1))return;this._tallyModuleService.setVoucher({page:t.page,uniqueName:t.uniqueName,gridType:"invoice"})}else if(n.altKey&&67===n.which)"voucher"===this.gridType?(this.openCreateAccountPopupInVoucher=!0,this.openCreateAccountPopupInInvoice=!1):"invoice"===this.gridType&&(this.openCreateAccountPopupInVoucher=!1,this.openCreateAccountPopupInInvoice=!0),setTimeout(function(){e.openCreateAccountPopupInVoucher=!1,e.openCreateAccountPopupInInvoice=!1},100);else{var l=Dn.findIndex(function(e){return n.altKey?e.keyCode===n.which&&e.altKey:e.keyCode===n.which});l>-1?this._tallyModuleService.setVoucher(Dn[l].inputForFn):113===n.which&&(this.openDatePicker=!this.openDatePicker)}},n.prototype.ngOnInit=function(){var n=this,e=null;this.store.select(function(n){return n.session.companyUniqueName}).pipe(Object(rn.a)(1)).subscribe(function(n){return e=n});var t=new On.f;t.companyUniqueName=e,t.lastState="accounting-voucher",this.store.dispatch(this.companyActions.SetStateDetails(t)),this.store.select(function(n){return n.session.companyUniqueName}).pipe(Object(rn.a)(1)).subscribe(function(e){e&&""!==e&&n._accountService.GetFlattenAccounts("","","").pipe(Object(V.a)(n.destroyed$)).subscribe(function(e){"success"===e.status&&(n.flattenAccounts=e.body.results,n._tallyModuleService.setFlattenAccounts(e.body.results))})}),this.store.dispatch(this.sidebarAction.GetGroupsWithStocksHierarchyMin())},n.prototype.setAccount=function(n){},n.prototype.setStock=function(n){},n.prototype.ngOnDestroy=function(){this.destroyed$.next(!0),this.destroyed$.complete()},n}(),Pn=l["\u0275crt"]({encapsulation:0,styles:[i],data:{}});function Tn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"account-as-voucher",[],[[8,"hidden",0]],null,null,an,nn)),l["\u0275did"](1,4964352,null,0,Z,[G.a,$.a,d.m,j,Q.a,U.a,X.p,z,l.ComponentFactoryResolver,q.a,a.FormBuilder],{saveEntryOnCtrlA:[0,"saveEntryOnCtrlA"],openDatePicker:[1,"openDatePicker"],openCreateAccountPopup:[2,"openCreateAccountPopup"]},null),(n()(),l["\u0275eld"](2,0,null,null,1,"account-as-invoice",[],[[8,"hidden",0]],null,null,_n,mn)),l["\u0275did"](3,4964352,null,0,gn,[G.a,$.a,d.m,j,Q.a,U.a,X.p,dn.a,z,l.ComponentFactoryResolver,q.a,T.a,pn.a],{saveEntryOnCtrlA:[0,"saveEntryOnCtrlA"],openDatePicker:[1,"openDatePicker"],openCreateAccountPopup:[2,"openCreateAccountPopup"]},null),(n()(),l["\u0275eld"](4,0,null,null,0,"input",[["id","get-grid-type"],["type","hidden"]],[[1,"data-gridType",0]],null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,2,"div",[["class","sidebar_menu col-xs-2 pd0"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,1,"accounting-sidebar",[],null,null,null,Sn,wn)),l["\u0275did"](7,770048,null,0,En,[z],null,null)],function(n,e){var t=e.component;n(e,1,0,t.saveEntryInVoucher,t.openDatePicker,t.openCreateAccountPopupInVoucher),n(e,3,0,t.saveEntryInInvoice,t.openDatePicker,t.openCreateAccountPopupInInvoice),n(e,7,0)},function(n,e){var t=e.component;n(e,0,0,"voucher"!==t.gridType),n(e,2,0,"invoice"!==t.gridType),n(e,4,0,t.gridType)})}function Fn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,[["document","keydown"],["document","keyup"]],function(n,e,t){var o=!0;return"document:keydown"===e&&(o=!1!==l["\u0275nov"](n,1).beforeunloadHandler(t)&&o),"document:keyup"===e&&(o=!1!==l["\u0275nov"](n,1).handleKeyboardEvent(t)&&o),o},Tn,Pn)),l["\u0275did"](1,245760,null,0,Mn,[d.m,Rn.a,z,G.a,Nn.a],null,null)],function(n,e){n(e,1,0)},null)}var Vn=l["\u0275ccf"]("ng-component",Mn,Fn,{},{},[]),qn=t("EtP8"),Ln=t("5l3R"),Un=t("ix3y"),Bn=t("HE9y"),jn=t("dvHK"),$n=t("Rxdl"),Gn=t("Czxk"),Kn=t("RRXf"),Hn=t("ET8j"),Qn=t("JNAd"),Yn=t("f/uU"),zn=t("akjY"),Jn=t("TjTr"),Wn=t("pQpa"),Zn=t("EKWN"),Xn=t("HRGU"),ne=t("PDhF"),ee=t("/8jh"),te=t("sX1l"),le=t("3GDS"),oe=t("B37V"),ue=t("ohUs"),ie=t("ry2x"),se=t("Sgbg"),ae=t("FM4k"),re=t("qPwL"),ce=t("A1GQ"),de=t("PRyX"),pe=t("gQbL"),he=t("ZHMy"),ge=t("kWE1"),me=t("r67W"),fe=t("12KX"),ve=t("a33D"),ye=t("4VbE"),Ce=t("PCNd"),be=t("tZCb"),ke=t("7/g3"),xe=t("KDQZ"),Ae=t("rHPu"),_e=t("q/tT"),Ee=t("Q00F"),we=t("klEI"),Se=t("uUAm"),Re=t("2QSz"),Oe=t("FQVY"),Ne=function(){return function(){}}(),De=t("bCPT"),Ie=t("LD3o"),Me=t("faXJ"),Pe=t("95e8"),Te=t("4g9S"),Fe=t("Xvr4"),Ve=function(){function n(){}return n.forRoot=function(){return{ngModule:n}},n}(),qe=t("UDDY"),Le=t("g4bL"),Ue=t("3ysa"),Be=t("SHvt"),je=t("f5nl"),$e=t("hCDZ"),Ge=t("H+be"),Ke=t("YEP7"),He=t("YxK5"),Qe=t("YxR2"),Ye=t("cLUr"),ze=t("Jq7O"),Je=t("rWuZ"),We=t("maXC"),Ze=t("nxlX"),Xe=t("m3jU"),nt=t("aAER"),et=t("qCda"),tt=t("slmN"),lt=t("s1Am"),ot=t("uPys"),ut=t("GxAW"),it=t("Ivu/"),st=t("2Tg9"),at=t("jMoS"),rt=t("hrRa"),ct=t("cLqD"),dt=t("6pUI"),pt=t("Cg25"),ht=t("Hwjr"),gt=t("Hde0"),mt=t("eqcC"),ft=t("EOwF"),vt=t("Sk87"),yt=t("gSQC"),Ct=t("uoJ3"),bt=t("MgZB"),kt=t("j2Nz");t.d(e,"AccountingModuleNgFactory",function(){return xt});var xt=l["\u0275cmf"](o,[],function(n){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[u.a,Vn,qn.a,Ln.a,Un.a,Bn.a,jn.a,$n.a,Gn.a,Kn.b,Hn.b,Qn.a,Yn.a,zn.a,Jn.a,Wn.a,Zn.a,Xn.a,ne.a,ee.a,te.a,le.a,oe.a,ue.a,ie.a,se.a,ae.a,re.a,ce.a,de.a,pe.a,he.a,ge.a,me.a]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,s.NgLocalization,s.NgLocaleLocalization,[l.LOCALE_ID,[2,s["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,a["\u0275angular_packages_forms_forms_j"],a["\u0275angular_packages_forms_forms_j"],[]),l["\u0275mpd"](4608,a.FormBuilder,a.FormBuilder,[]),l["\u0275mpd"](4608,fe.a,fe.a,[]),l["\u0275mpd"](4608,ve.a,ve.a,[]),l["\u0275mpd"](5120,ye.b,Ce.b,[]),l["\u0275mpd"](4608,ye.a,ye.a,[ye.b]),l["\u0275mpd"](4608,be.a,be.a,[]),l["\u0275mpd"](4608,ke.a,ke.a,[]),l["\u0275mpd"](4608,D.a,D.a,[l.ComponentFactoryResolver,l.NgZone,l.Injector,ke.a,l.ApplicationRef]),l["\u0275mpd"](4608,xe.a,xe.a,[]),l["\u0275mpd"](4608,Ae.a,Ae.a,[]),l["\u0275mpd"](4608,_e.a,_e.a,[]),l["\u0275mpd"](4608,Ee.a,Ee.a,[]),l["\u0275mpd"](4608,we.a,we.a,[]),l["\u0275mpd"](4608,Se.a,Se.a,[Ae.a,we.a]),l["\u0275mpd"](4608,Re.a,Re.a,[]),l["\u0275mpd"](4608,Oe.a,Oe.a,[]),l["\u0275mpd"](4608,j,j,[]),l["\u0275mpd"](4608,z,z,[U.a]),l["\u0275mpd"](1073742336,X.t,X.t,[[2,X.A],[2,X.p]]),l["\u0275mpd"](1073742336,Ne,Ne,[]),l["\u0275mpd"](1073742336,s.CommonModule,s.CommonModule,[]),l["\u0275mpd"](1073742336,a["\u0275angular_packages_forms_forms_bc"],a["\u0275angular_packages_forms_forms_bc"],[]),l["\u0275mpd"](1073742336,a.FormsModule,a.FormsModule,[]),l["\u0275mpd"](1073742336,a.ReactiveFormsModule,a.ReactiveFormsModule,[]),l["\u0275mpd"](1073742336,De.a,De.a,[]),l["\u0275mpd"](1073742336,Ie.a,Ie.a,[]),l["\u0275mpd"](1073742336,Me.a,Me.a,[]),l["\u0275mpd"](1073742336,Pe.c,Pe.c,[]),l["\u0275mpd"](1073742336,Te.a,Te.a,[]),l["\u0275mpd"](1073742336,m.b,m.b,[]),l["\u0275mpd"](1073742336,Fe.ClickOutsideModule,Fe.ClickOutsideModule,[]),l["\u0275mpd"](1073742336,Ve,Ve,[]),l["\u0275mpd"](1073742336,qe.a,qe.a,[]),l["\u0275mpd"](1073742336,Le.a,Le.a,[]),l["\u0275mpd"](1073742336,Ue.a,Ue.a,[]),l["\u0275mpd"](1073742336,Be.R,Be.R,[]),l["\u0275mpd"](1073742336,je.a,je.a,[]),l["\u0275mpd"](1073742336,$e.a,$e.a,[]),l["\u0275mpd"](1073742336,Ge.a,Ge.a,[]),l["\u0275mpd"](1073742336,Ke.d,Ke.d,[]),l["\u0275mpd"](1073742336,He.a,He.a,[]),l["\u0275mpd"](1073742336,Qe.a,Qe.a,[]),l["\u0275mpd"](1073742336,Ye.a,Ye.a,[]),l["\u0275mpd"](1073742336,ze.a,ze.a,[]),l["\u0275mpd"](1073742336,Je.a,Je.a,[]),l["\u0275mpd"](1073742336,We.a,We.a,[]),l["\u0275mpd"](1073742336,Ze.a,Ze.a,[]),l["\u0275mpd"](1073742336,Xe.a,Xe.a,[]),l["\u0275mpd"](1073742336,nt.a,nt.a,[]),l["\u0275mpd"](1073742336,et.a,et.a,[]),l["\u0275mpd"](1073742336,tt.a,tt.a,[]),l["\u0275mpd"](1073742336,lt.a,lt.a,[]),l["\u0275mpd"](1073742336,ot.a,ot.a,[]),l["\u0275mpd"](1073742336,ut.a,ut.a,[]),l["\u0275mpd"](1073742336,it.a,it.a,[]),l["\u0275mpd"](1073742336,Ce.a,Ce.a,[]),l["\u0275mpd"](1073742336,h.TextMaskModule,h.TextMaskModule,[]),l["\u0275mpd"](1073742336,st.a,st.a,[]),l["\u0275mpd"](1073742336,at.a,at.a,[]),l["\u0275mpd"](1073742336,rt.a,rt.a,[]),l["\u0275mpd"](1073742336,ct.a,ct.a,[]),l["\u0275mpd"](1073742336,o,o,[]),l["\u0275mpd"](1024,X.m,function(){return[[{path:"",component:Mn,canActivate:[dt.a]}],[{path:"",component:pt.a,children:[{path:"add-group/:groupUniqueName",pathMatch:"full",component:ht.a},{path:"add-group/:groupUniqueName/add-stock/:stockUniqueName",component:gt.a},{path:"stock/:groupUniqueName/report/:stockUniqueName",component:mt.a},{path:"group/:groupUniqueName/report",component:ft.a},{path:"custom-stock",component:vt.a},{path:"",pathMatch:"full",component:yt.a},{path:"jobwork",component:Ct.a},{path:"jobwork/:type/:uniqueName",component:Ct.a},{path:"manufacturing",component:bt.a},{path:"receipt-note",component:kt.a}]}]]},[]),l["\u0275mpd"](256,Ke.a,Ce.c,[])])})},vU59:function(n,e,t){n.exports=function(n){function e(l){if(t[l])return t[l].exports;var o=t[l]={exports:{},id:l,loaded:!1};return n[l].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var t={};return e.m=n,e.c=t,e.p="",e(0)}([function(n,e,t){"use strict";function l(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(e,"__esModule",{value:!0});var o=t(3);Object.defineProperty(e,"conformToMask",{enumerable:!0,get:function(){return l(o).default}});var u=t(2);Object.defineProperty(e,"adjustCaretPosition",{enumerable:!0,get:function(){return l(u).default}});var i=t(5);Object.defineProperty(e,"createTextMaskInputElement",{enumerable:!0,get:function(){return l(i).default}})},function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.placeholderChar="_",e.strFunction="function"},function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){var e=n.previousConformedValue,o=void 0===e?l:e,u=n.previousPlaceholder,i=void 0===u?l:u,s=n.currentCaretPosition,a=void 0===s?0:s,r=n.conformedValue,c=n.rawValue,d=n.placeholderChar,p=n.placeholder,h=n.indexesOfPipedChars,g=void 0===h?t:h,m=n.caretTrapIndexes,f=void 0===m?t:m;if(0===a||!c.length)return 0;var v=o.length,y=p.length,C=r.length,b=c.length-v,k=b>0;if(b>1&&!k&&0!==v)return a;var x=0,A=void 0,_=void 0;if(!k||o!==r&&r!==p){var E=r.toLowerCase(),w=c.toLowerCase().substr(0,a).split(l).filter(function(n){return-1!==E.indexOf(n)});_=w[w.length-1];var S=i.substr(0,w.length).split(l).filter(function(n){return n!==d}).length,R=p.substr(0,w.length).split(l).filter(function(n){return n!==d}).length;!k&&(R!==S||void 0!==i[w.length-1]&&void 0!==p[w.length-2]&&i[w.length-1]!==d&&i[w.length-1]!==p[w.length-1]&&i[w.length-1]===p[w.length-2])&&S>0&&p.indexOf(_)>-1&&void 0!==c[a]&&(A=!0,_=c[a]);for(var O=g.map(function(n){return E[n]}).filter(function(n){return n===_}).length,N=w.filter(function(n){return n===_}).length,D=p.substr(0,p.indexOf(d)).split(l).filter(function(n,e){return n===_&&c[e]!==n}).length+N+O+(A?1:0),I=0,M=0;M<C&&(x=M+1,E[M]===_&&I++,!(I>=D));M++);}else x=a-b;if(k){for(var P=x,T=x;T<=y;T++)if(p[T]===d&&(P=T),p[T]===d||-1!==f.indexOf(T)||T===y)return P}else if(A){for(var F=x-1;F>=0;F--)if(r[F]===_||-1!==f.indexOf(F)||0===F)return F}else for(var V=x;V>=0;V--)if(p[V-1]===d||-1!==f.indexOf(V)||0===V)return V};var t=[],l=""},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};e.default=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,o.isArray)(e)){if((void 0===e?"undefined":l(e))!==u.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");e=e(n,t),e=(0,o.processCaretTraps)(e).maskWithoutCaretTraps}var a=t.guide,r=void 0===a||a,c=t.previousConformedValue,d=void 0===c?s:c,p=t.placeholderChar,h=void 0===p?u.placeholderChar:p,g=t.placeholder,m=void 0===g?(0,o.convertMaskToPlaceholder)(e,h):g,f=t.keepCharPositions,v=!1===r&&void 0!==d,y=n.length,C=d.length,b=m.length,k=e.length,x=y-C,A=x>0,_=t.currentCaretPosition+(A?-x:0),E=_+Math.abs(x);if(!0===f&&!A){for(var w=s,S=_;S<E;S++)m[S]===h&&(w+=h);n=n.slice(0,_)+w+n.slice(_,y)}for(var R=n.split(s).map(function(n,e){return{char:n,isNew:e>=_&&e<E}}),O=y-1;O>=0;O--){var N=R[O].char;N!==h&&N===m[O>=_&&C===k?O-x:O]&&R.splice(O,1)}var D=s,I=!1;n:for(var M=0;M<b;M++){var P=m[M];if(P===h){if(R.length>0)for(;R.length>0;){var T=R.shift(),F=T.char,V=T.isNew;if(F===h&&!0!==v){D+=h;continue n}if(e[M].test(F)){if(!0===f&&!1!==V&&d!==s&&!1!==r&&A){for(var q=R.length,L=null,U=0;U<q;U++){var B=R[U];if(B.char!==h&&!1===B.isNew)break;if(B.char===h){L=U;break}}null!==L?(D+=F,R.splice(L,1)):M--}else D+=F;continue n}I=!0}!1===v&&(D+=m.substr(M,b));break}D+=P}if(v&&!1===A){for(var j=null,$=0;$<D.length;$++)m[$]===h&&(j=$);D=null!==j?D.substr(0,j+1):s}return{conformedValue:D,meta:{someCharsRejected:I}}};var o=t(4),u=t(1),i=[],s=""},function(n,e,t){"use strict";function l(n){return Array.isArray&&Array.isArray(n)||n instanceof Array}Object.defineProperty(e,"__esModule",{value:!0}),e.convertMaskToPlaceholder=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.placeholderChar;if(!l(n))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==n.indexOf(e))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(e)+"\n\nThe mask that was received is: "+JSON.stringify(n));return n.map(function(n){return n instanceof RegExp?e:n}).join("")},e.isArray=l,e.isString=function(n){return"string"==typeof n||n instanceof String},e.isNumber=function(n){return"number"==typeof n&&void 0===n.length&&!isNaN(n)},e.isNil=function(n){return null==n},e.processCaretTraps=function(n){for(var e=[],t=void 0;-1!==(t=n.indexOf(i));)e.push(t),n.splice(t,1);return{maskWithoutCaretTraps:n,indexes:e}};var o=t(1),u=[],i="[]"},function(n,e,t){"use strict";function l(n){return n&&n.__esModule?n:{default:n}}function o(n,e){document.activeElement===n&&(g?m(function(){return n.setSelectionRange(e,e,p)},0):n.setSelectionRange(e,e,p))}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l])}return n},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};e.default=function(n){var e={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:e,update:function(t){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,p=l.inputElement,g=l.mask,m=l.guide,f=l.pipe,v=l.placeholderChar,y=void 0===v?c.placeholderChar:v,C=l.keepCharPositions,b=void 0!==C&&C,k=l.showMask,x=void 0!==k&&k;if(void 0===t&&(t=p.value),t!==e.previousConformedValue){(void 0===g?"undefined":i(g))===h&&void 0!==g.pipe&&void 0!==g.mask&&(f=g.pipe,g=g.mask);var A=void 0,_=void 0;if(g instanceof Array&&(A=(0,r.convertMaskToPlaceholder)(g,y)),!1!==g){var E=function(n){if((0,r.isString)(n))return n;if((0,r.isNumber)(n))return String(n);if(null==n)return d;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(n))}(t),w=p.selectionEnd,S=e.previousConformedValue,R=e.previousPlaceholder,O=void 0;if((void 0===g?"undefined":i(g))===c.strFunction){if(!1===(_=g(E,{currentCaretPosition:w,previousConformedValue:S,placeholderChar:y})))return;var N=(0,r.processCaretTraps)(_);O=N.indexes,A=(0,r.convertMaskToPlaceholder)(_=N.maskWithoutCaretTraps,y)}else _=g;var D={previousConformedValue:S,guide:m,placeholderChar:y,pipe:f,placeholder:A,currentCaretPosition:w,keepCharPositions:b},I=(0,a.default)(E,_,D).conformedValue,M=(void 0===f?"undefined":i(f))===c.strFunction,P={};M&&(!1===(P=f(I,u({rawValue:E},D)))?P={value:S,rejected:!0}:(0,r.isString)(P)&&(P={value:P}));var T=M?P.value:I,F=(0,s.default)({previousConformedValue:S,previousPlaceholder:R,conformedValue:T,placeholder:A,rawValue:E,currentCaretPosition:w,placeholderChar:y,indexesOfPipedChars:P.indexesOfPipedChars,caretTrapIndexes:O}),V=T===A&&0===F?x?A:d:T;e.previousConformedValue=V,e.previousPlaceholder=A,p.value!==V&&(p.value=V,o(p,F))}}}}};var s=l(t(2)),a=l(t(3)),r=t(4),c=t(1),d="",p="none",h="object",g="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),m="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout}])}}]);