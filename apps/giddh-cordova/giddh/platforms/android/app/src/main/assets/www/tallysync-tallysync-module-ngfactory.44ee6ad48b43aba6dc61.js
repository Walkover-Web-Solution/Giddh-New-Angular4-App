(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{"XC/G":function(l,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=e("LoAr"),u=e("IfiR"),o=e("SeAg"),a=e("vU59");n.TextMaskConfig=function(){return function(){}}(),n.MASKEDINPUT_VALUE_ACCESSOR={provide:u.NG_VALUE_ACCESSOR,useExisting:t.forwardRef(function(){return r}),multi:!0};var r=function(){function l(l,n,e){var t;this._renderer=l,this._elementRef=n,this._compositionMode=e,this.textMaskConfig={mask:[],guide:!0,placeholderChar:"_",pipe:void 0,keepCharPositions:!1},this.onChange=function(l){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(t=o.\u0275getDOM()?o.\u0275getDOM().getUserAgent():"",!/android (\d+)/.test(t.toLowerCase())))}return l.prototype.ngOnChanges=function(l){this._setupMask(!0),void 0!==this.textMaskInputElement&&this.textMaskInputElement.update(this.inputElement.value)},l.prototype.writeValue=function(l){this._setupMask(),this._renderer.setProperty(this.inputElement,"value",null==l?"":l),void 0!==this.textMaskInputElement&&this.textMaskInputElement.update(l)},l.prototype.registerOnChange=function(l){this.onChange=l},l.prototype.registerOnTouched=function(l){this.onTouched=l},l.prototype.setDisabledState=function(l){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",l)},l.prototype._handleInput=function(l){(!this._compositionMode||this._compositionMode&&!this._composing)&&(this._setupMask(),void 0!==this.textMaskInputElement&&(this.textMaskInputElement.update(l),this.onChange(l=this.inputElement.value)))},l.prototype._setupMask=function(l){void 0===l&&(l=!1),this.inputElement||(this.inputElement="INPUT"===this._elementRef.nativeElement.tagName.toUpperCase()?this._elementRef.nativeElement:this._elementRef.nativeElement.getElementsByTagName("INPUT")[0]),this.inputElement&&l&&(this.textMaskInputElement=a.createTextMaskInputElement(Object.assign({inputElement:this.inputElement},this.textMaskConfig)))},l.prototype._compositionStart=function(){this._composing=!0},l.prototype._compositionEnd=function(l){this._composing=!1,this._compositionMode&&this._handleInput(l)},l.decorators=[{type:t.Directive,args:[{host:{"(input)":"_handleInput($event.target.value)","(blur)":"onTouched()","(compositionstart)":"_compositionStart()","(compositionend)":"_compositionEnd($event.target.value)"},selector:"[textMask]",exportAs:"textMask",providers:[n.MASKEDINPUT_VALUE_ACCESSOR]}]}],l.propDecorators={textMaskConfig:[{type:t.Input,args:["textMask"]}]},l}();n.MaskedInputDirective=r,n.TextMaskModule=function(){function l(){}return l.decorators=[{type:t.NgModule,args:[{declarations:[r],exports:[r]}]}],l}();var i=e("vU59");n.conformToMask=i.conformToMask},gDwi:function(l,n,e){"use strict";e.r(n);var t=e("LoAr"),u=function(){return function(){}}(),o=e("HE9y"),a=e("dvHK"),r=e("JNAd"),i=e("C9Ky"),s=e("5l3R"),c=e("ix3y"),d=e("EtP8"),p=e("f/uU"),m=e("ET8j"),f=e("WT9V"),g=e("Ymxs"),h=e("Jg5f"),v=e("IMYO"),y=e("8PoL"),b=e("6vYX"),C=e("FQVY"),_=e("Kxaf"),x={INPROGRESS:"/tally_logs/current_day?page=:page&count=20&sort=:sortBy",COMPLETED:"company/:companyUniqueName/tally_logs/completed?from=:from&to=:to&page=:page&count=:count&sort=:sortBy",ERROR_LOG:"company/:companyUniqueName/tally_logs/:tally_logs_id/error_report"},P=function(){function l(l,n,e,t){this.errorHandler=l,this._http=n,this._generalService=e,this.config=t}return l.prototype.getCompletedSync=function(l,n){var e=this,t=this.config.apiUrl+x.COMPLETED.replace(":companyUniqueName",this._generalService.companyUniqueName).replace(":from",l).replace(":to",n).replace(":page","1").replace(":count","20").replace(":sortBy","desc");return this._http.get(t).pipe(Object(h.a)(function(l){return l.body}),Object(v.a)(function(l){return e.errorHandler.HandleCatch(l)}))},l.prototype.getInProgressSync=function(){var l=this,n=this.config.apiUrl+x.INPROGRESS.replace(":page","1").replace(":count","20").replace(":sortBy","desc");return this._http.get(n).pipe(Object(h.a)(function(l){return l.body}),Object(v.a)(function(n){return l.errorHandler.HandleCatch(n)}))},l.prototype.getErrorLog=function(l,n){var e=this,t=this.config.apiUrl+x.ERROR_LOG.replace(":companyUniqueName",n).replace(":tally_logs_id",l);return this._http.get(t).pipe(Object(h.a)(function(l){return l}),Object(v.a)(function(l){return e.errorHandler.HandleCatch(l)}))},l}(),O=e("kO+N"),M=function(){function l(l,n){this._toaster=l,this.tallysyncService=n,this.imgPath="",this.isPageLoaded=!1,this.MONTHS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}return l.prototype.ngOnInit=function(){var l=this;this.isPageLoaded=!0,this.getCurrentData(),setInterval(function(){l.isPageLoaded&&l.getCurrentData()},3e4),this.imgPath="./assets/images/"},l.prototype.ngOnDestroy=function(){this.isPageLoaded=!1},l.prototype.getCurrentData=function(){var l=this;this.tallysyncService.getInProgressSync().subscribe(function(n){n&&n.results&&n.results.length>0&&(l.progressData=n.results,l.progressData.forEach(function(n){n.dateString=l.prepareDate(n.updatedAt);var e=100*n.totalSavedGroups/n.totalTallyGroups,t=100*n.totalSavedAccounts/n.totalTallyAccounts,u=100*n.totalSavedEntries/n.totalTallyEntries;n.groupsPercent=(isNaN(e)?0:e).toFixed(2)+"%",n.accountsPercent=(isNaN(t)?0:t).toFixed(2)+"%",n.entriesPercent=(isNaN(u)?0:u).toFixed(2)+"%";var o=100*n.tallyErrorGroups/n.totalTallyGroups,a=100*n.tallyErrorAccounts/n.totalTallyAccounts,r=100*n.tallyErrorEntries/n.totalTallyEntries;n.groupsErrorPercent=(isNaN(o)?0:o).toFixed(2)+"%",n.accountsErrorPercent=(isNaN(a)?0:a).toFixed(2)+"%",n.entriesErrorPercent=(isNaN(r)?0:r).toFixed(2)+"%"}))})},l.prototype.downloadLog=function(l){var n=this;this.tallysyncService.getErrorLog(l.id,l.company.uniqueName).subscribe(function(e){if("success"===e.status){var t=n.base64ToBlob(e.body,"text/csv",512);return Object(O.saveAs)(t,l.company.name+"-error-log.csv")}n._toaster.errorToast(e.message)})},l.prototype.base64ToBlob=function(l,n,e){n=n||"",e=e||512;for(var t=atob(l),u=[],o=0;o<t.length;){for(var a=t.slice(o,o+e),r=new Array(a.length),i=0;i<a.length;)r[i]=a.charCodeAt(i),i++;var s=new Uint8Array(r);u.push(s),o+=e}return new Blob(u,{type:n})},l.prototype.prepareDate=function(l){return l[5]<10&&(l[5]="0"+l[5]),"Last Import on "+l[2]+" "+this.MONTHS[l[1]-1]+" "+l[0]+" @ "+l[3]+":"+l[4]+":"+l[5]},l}(),N=t["\u0275crt"]({encapsulation:0,styles:[[".panel[_ngcontent-%COMP%]{box-shadow:none}.panel[_ngcontent-%COMP%]   .running[_ngcontent-%COMP%]{color:#0fa6e9}.panel[_ngcontent-%COMP%]   .panel-heading[_ngcontent-%COMP%]{background:#e6e6e6}.panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]{padding:10px 15px;background-color:transparent}.panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]{color:#707070;background:0 0;padding:15px 0 0}.panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{box-shadow:none;height:5px;margin-bottom:0;border:1px solid #dfdfdf}.panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:#bebebe;border:1px solid #bebebe;box-shadow:none}.panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]{margin-bottom:0}.panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]{margin-top:0;padding-left:30px}.panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{border:none;padding-right:0;background-color:transparent}.panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{margin-top:9px}.panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:14px}.panel[_ngcontent-%COMP%]   .text-success[_ngcontent-%COMP%]{color:#63b214}"]],data:{}});function T(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","no-data"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["No entries found"]))],null,null)}function E(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[""," error occured"]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.groupsErrorPercent)})}function S(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[""," error occured"]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.accountsErrorPercent)})}function R(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[""," error occured"]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.entriesErrorPercent)})}function w(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","panel-footer"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[["class","m-r-15"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Error Report:"])),(l()(),t["\u0275eld"](3,0,null,null,1,"a",[["class","running"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadLog(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275ted"](4,null,["","-error-log.csv"]))],null,function(l,n){l(n,4,0,n.parent.context.$implicit.company.name)})}function D(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,82,"div",[["class","panel panel-default"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,7,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[["class","m-r-15"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["",""])),(l()(),t["\u0275eld"](4,0,null,null,1,"small",[["class","m-r-15"]],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["Last Import on ",""])),(l()(),t["\u0275eld"](6,0,null,null,2,"small",[["class","running"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,0,"i",[["class","fa fa-circle"]],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,[" ",""])),(l()(),t["\u0275eld"](9,0,null,null,71,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,70,"ul",[["class","list-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,23,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,22,"div",[["class","clearfix"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,3,"div",[["class","col-sm-2 col-xs-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,0,"img",[["class","m-r-10"],["height","20"]],[[8,"src",4]],null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Groups"])),(l()(),t["\u0275eld"](17,0,null,null,10,"div",[["class","col-sm-6 col-xs-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,2,"small",[],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,1,"em",[],null,null,null,null,null)),(l()(),t["\u0275ted"](20,null,["","/",""])),(l()(),t["\u0275eld"](21,0,null,null,6,"div",[["class","progress"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,5,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["aria-valuenow","row.totalSavedGroups"],["class","progress-bar"],["role","progressbar"]],null,null,null,null,null)),t["\u0275did"](23,278528,null,0,f.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](24,{width:0}),(l()(),t["\u0275ted"](-1,null,[" > "])),(l()(),t["\u0275eld"](26,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),t["\u0275ted"](27,null,[""," Complete"])),(l()(),t["\u0275eld"](28,0,null,null,6,"div",[["class","col-sm-4 col-xs-4 text-success"]],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,5,"div",[["class","status"]],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,2,"small",[["class","m-r-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(l()(),t["\u0275ted"](32,null,[""," Complete"])),(l()(),t["\u0275and"](16777216,null,null,1,null,E)),t["\u0275did"](34,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](35,0,null,null,22,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](36,0,null,null,21,"div",[["class","clearfix"]],null,null,null,null,null)),(l()(),t["\u0275eld"](37,0,null,null,3,"div",[["class","col-sm-2 col-xs-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](38,0,null,null,0,"img",[["class","m-r-10"],["height","20"]],[[8,"src",4]],null,null,null,null)),(l()(),t["\u0275eld"](39,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Accounts"])),(l()(),t["\u0275eld"](41,0,null,null,9,"div",[["class","col-sm-6 col-xs-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](42,0,null,null,2,"small",[],null,null,null,null,null)),(l()(),t["\u0275eld"](43,0,null,null,1,"em",[],null,null,null,null,null)),(l()(),t["\u0275ted"](44,null,["","/",""])),(l()(),t["\u0275eld"](45,0,null,null,5,"div",[["class","progress"]],null,null,null,null,null)),(l()(),t["\u0275eld"](46,0,null,null,4,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["aria-valuenow","row.totalSavedAccounts"],["class","progress-bar"],["role","progressbar"]],null,null,null,null,null)),t["\u0275did"](47,278528,null,0,f.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](48,{width:0}),(l()(),t["\u0275eld"](49,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),t["\u0275ted"](50,null,[""," Complete"])),(l()(),t["\u0275eld"](51,0,null,null,6,"div",[["class","col-sm-4 col-xs-4 text-success"]],null,null,null,null,null)),(l()(),t["\u0275eld"](52,0,null,null,5,"div",[["class","status"]],null,null,null,null,null)),(l()(),t["\u0275eld"](53,0,null,null,2,"small",[["class","m-r-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](54,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(l()(),t["\u0275ted"](55,null,[""," Complete"])),(l()(),t["\u0275and"](16777216,null,null,1,null,S)),t["\u0275did"](57,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](58,0,null,null,22,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](59,0,null,null,21,"div",[["class","clearfix"]],null,null,null,null,null)),(l()(),t["\u0275eld"](60,0,null,null,3,"div",[["class","col-sm-2 col-xs-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](61,0,null,null,0,"img",[["class","m-r-10"],["height","20"]],[[8,"src",4]],null,null,null,null)),(l()(),t["\u0275eld"](62,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Entries"])),(l()(),t["\u0275eld"](64,0,null,null,9,"div",[["class","col-sm-6 col-xs-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](65,0,null,null,2,"small",[],null,null,null,null,null)),(l()(),t["\u0275eld"](66,0,null,null,1,"em",[],null,null,null,null,null)),(l()(),t["\u0275ted"](67,null,["","/",""])),(l()(),t["\u0275eld"](68,0,null,null,5,"div",[["class","progress"]],null,null,null,null,null)),(l()(),t["\u0275eld"](69,0,null,null,4,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["aria-valuenow","row.totalSavedEntries"],["class","progress-bar"],["role","progressbar"]],null,null,null,null,null)),t["\u0275did"](70,278528,null,0,f.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](71,{width:0}),(l()(),t["\u0275eld"](72,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),t["\u0275ted"](73,null,[""," Complete"])),(l()(),t["\u0275eld"](74,0,null,null,6,"div",[["class","col-sm-4 col-xs-4 text-success"]],null,null,null,null,null)),(l()(),t["\u0275eld"](75,0,null,null,5,"div",[["class","status"]],null,null,null,null,null)),(l()(),t["\u0275eld"](76,0,null,null,2,"small",[["class","m-r-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](77,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(l()(),t["\u0275ted"](78,null,[""," Complete"])),(l()(),t["\u0275and"](16777216,null,null,1,null,R)),t["\u0275did"](80,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,w)),t["\u0275did"](82,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=l(n,24,0,n.context.$implicit.groupsPercent);l(n,23,0,e),l(n,34,0,n.context.$implicit.tallyErrorGroups>0);var t=l(n,48,0,n.context.$implicit.accountsPercent);l(n,47,0,t),l(n,57,0,n.context.$implicit.tallyErrorAccounts>0);var u=l(n,71,0,n.context.$implicit.entriesPercent);l(n,70,0,u),l(n,80,0,n.context.$implicit.tallyErrorEntries>0),l(n,82,0,n.context.$implicit.tallyErrorEntries>0||n.context.$implicit.tallyErrorAccounts>0||n.context.$implicit.tallyErrorGroups>0)},function(l,n){var e=n.component;l(n,3,0,n.context.$implicit.company.name),l(n,5,0,n.context.$implicit.dateString),l(n,8,0,n.context.$implicit.status),l(n,14,0,t["\u0275inlineInterpolate"](1,"",e.imgPath,"folder.svg")),l(n,20,0,n.context.$implicit.totalSavedGroups,n.context.$implicit.totalTallyGroups),l(n,27,0,n.context.$implicit.groupsPercent),l(n,32,0,n.context.$implicit.groupsPercent),l(n,38,0,t["\u0275inlineInterpolate"](1,"",e.imgPath,"folder.svg")),l(n,44,0,n.context.$implicit.totalSavedAccounts,n.context.$implicit.totalTallyAccounts),l(n,50,0,n.context.$implicit.accountsPercent),l(n,55,0,n.context.$implicit.accountsPercent),l(n,61,0,t["\u0275inlineInterpolate"](1,"",e.imgPath,"folder.svg")),l(n,67,0,n.context.$implicit.totalSavedEntries,n.context.$implicit.totalTallyEntries),l(n,73,0,n.context.$implicit.entriesPercent),l(n,78,0,n.context.$implicit.entriesPercent)})}function I(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,D)),t["\u0275did"](2,278528,null,0,f.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.progressData)},null)}function k(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"div",[["aria-multiselectable","true"],["class","panel-group"],["id","accordion"],["role","tablist"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,T)),t["\u0275did"](3,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,I)),t["\u0275did"](5,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,3,0,!(null!=e.progressData&&e.progressData.length)),l(n,5,0,null==e.progressData?null:e.progressData.length)},null)}var A=e("IfiR"),V=e("Rzvk"),$=e("BuFo"),F=e("dOne"),L=e("q/tT"),U=e("ecKS"),G=e("8bxp"),j=e("klEI"),Y=e("Zl8a"),q=e("wgY5"),B=e("mhnT"),K=e("GovN"),J=e("ULJ3"),H=function(){function l(l,n,e,t,u,o){var a=this;this.store=l,this._toaster=n,this._activatedRoute=e,this.cdr=t,this.fb=u,this.tallysyncService=o,this.bsConfig={showWeekNumbers:!1,dateInputFormat:"DD-MM-YYYY",rangeInputFormat:"DD-MM-YYYY",containerClass:"theme-green myDpClass"},this.CompanyList=[],this.moment=q,this.maxDate=new Date((new Date).setDate((new Date).getDate()-1)),this.filter={},this.completedData=[],this.MONTHS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.timeInterval=[{value:"00:00:00-02:00:00",label:"00:00 am - 02:00 am"},{value:"02:00:00-04:00:00",label:"02:00 am - 04:00 am"},{value:"04:00:00-06:00:00",label:"04:00 am - 06:00 am"},{value:"06:00:00-08:00:00",label:"06:00 am - 08:00 am"},{value:"08:00:00-10:00:00",label:"08:00 am - 10:00 am"},{value:"10:00:00-12:00:00",label:"10:00 am - 12:00 pm"},{value:"12:00:00-14:00:00",label:"12:00 pm - 02:00 pm"},{value:"14:00:00-16:00:00",label:"02:00 pm - 04:00 pm"},{value:"16:00:00-18:00:00",label:"04:00 pm - 06:00 pm"},{value:"18:00:00-20:00:00",label:"06:00 pm - 08:00 pm"},{value:"20:00:00-22:00:00",label:"08:00 pm - 10:00 pm"},{value:"22:00:00-24:00:00",label:"10:00 pm - 12:00 pm"}],this.destroyed$=new Y.a(1),this.filterForm=this.fb.group({filterCompany:[""],filterTimeInterval:[""],filterDate:["",A.Validators.required]}),this.universalDate$=this.store.select(function(l){return l.session.applicationDate}).pipe(Object(B.a)(this.destroyed$)),this.companies$=this.store.select(function(l){return l.session.companies}).pipe(Object(B.a)(this.destroyed$)),this.store.pipe(Object(K.A)(Object(K.z)([function(l){return l.session.companies},function(l){return l.session.companyUniqueName}],function(l,n){if(l)return l.find(function(l){return!(!l||!l.uniqueName)&&l.uniqueName===n})})),Object(B.a)(this.destroyed$)).subscribe(function(l){l&&a.filterForm.get("filterCompany").patchValue(l.uniqueName)})}return l.prototype.ngOnInit=function(){var l=this;this.companies$.subscribe(function(n){n&&n.forEach(function(n){l.CompanyList.push({value:n.uniqueName,label:n.name})})}),this.filterForm.get("filterDate").patchValue(q(this.maxDate).format("D-MMM-YYYY")),this.filterForm.get("filterTimeInterval").patchValue(this.timeInterval[5].value),this.filter.timeRange=this.timeInterval[5].value,this.filter.startDate=q(this.maxDate).format("DD-MM-YYYY"),this.getReport()},l.prototype.getReport=function(){var l=this;this.filterForm.invalid?this._toaster.errorToast("Please check your filter criteria"):(this.filter.from=this.filter.startDate+" "+this.filter.timeRange.split("-")[0],this.filter.to=this.filter.startDate+" "+this.filter.timeRange.split("-")[1],this.tallysyncService.getCompletedSync(this.filter.from,this.filter.to).subscribe(function(n){n&&n.results&&n.results.length>0&&(l.completedData=n.results,l.completedData.forEach(function(n){n.dateString=l.prepareDate(n.updatedAt);var e=100*n.totalSavedGroups/n.totalTallyGroups,t=100*n.totalSavedAccounts/n.totalTallyAccounts,u=100*n.totalSavedEntries/n.totalTallyEntries;n.groupsPercent=(isNaN(e)?0:e).toFixed(2)+"%",n.accountsPercent=(isNaN(t)?0:t).toFixed(2)+"%",n.entriesPercent=(isNaN(u)?0:u).toFixed(2)+"%";var o=100*n.tallyErrorGroups/n.totalTallyGroups,a=100*n.tallyErrorAccounts/n.totalTallyAccounts,r=100*n.tallyErrorEntries/n.totalTallyEntries;n.groupsErrorPercent=(isNaN(o)?0:o).toFixed(2)+"%",n.accountsErrorPercent=(isNaN(a)?0:a).toFixed(2)+"%",n.entriesErrorPercent=(isNaN(r)?0:r).toFixed(2)+"%"}))}))},l.prototype.downloadLog=function(l){var n=this;this.tallysyncService.getErrorLog(l.id,l.company.uniqueName).subscribe(function(e){if("success"===e.status){var t=n.base64ToBlob(e.body,"text/csv",512);return Object(O.saveAs)(t,l.company.name+"-error-log.csv")}n._toaster.errorToast(e.message)})},l.prototype.base64ToBlob=function(l,n,e){n=n||"",e=e||512;for(var t=atob(l),u=[],o=0;o<t.length;){for(var a=t.slice(o,o+e),r=new Array(a.length),i=0;i<a.length;)r[i]=a.charCodeAt(i),i++;var s=new Uint8Array(r);u.push(s),o+=e}return new Blob(u,{type:n})},l.prototype.prepareDate=function(l){return l[5]<10&&(l[5]="0"+l[5]),"Last Import on "+l[2]+" "+this.MONTHS[l[1]-1]+" "+l[0]+" @ "+l[3]+":"+l[4]+":"+l[5]},l.prototype.onDDElementCompanySelect=function(l){this.filter.company=l.value},l.prototype.onValueChange=function(l){this.filter.startDate=q(l).format(J.a)},l.prototype.onDDElementTimeRangeSelect=function(l){this.filter.timeRange=l.value},l.prototype.ngOnDestroy=function(){this.destroyed$.next(!0),this.destroyed$.complete()},l}(),W=e("981U"),z=t["\u0275crt"]({encapsulation:0,styles:[[".panel[_ngcontent-%COMP%]{box-shadow:none}.panel[_ngcontent-%COMP%]   .running[_ngcontent-%COMP%]{color:#0fa6e9}.panel[_ngcontent-%COMP%]   .panel-heading[_ngcontent-%COMP%]{background:#e6e6e6}.panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]{padding:10px 15px;background-color:transparent}.panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]{color:#707070;background:0 0;padding:15px 0 0}.panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{box-shadow:none;height:5px;margin-bottom:0;border:1px solid #dfdfdf}.panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:#bebebe;border:1px solid #bebebe;box-shadow:none}.panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]{margin-bottom:0}.panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]{margin-top:0;padding-left:30px}.panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{border:none;padding-right:0;background-color:transparent}.panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{margin-top:9px}.panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:14px}.panel[_ngcontent-%COMP%]   .text-success[_ngcontent-%COMP%]{color:#63b214}.form[_ngcontent-%COMP%]   .company[_ngcontent-%COMP%]{width:205px;padding-right:0}.form[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{width:115px;padding-right:0}.form[_ngcontent-%COMP%]   .interval[_ngcontent-%COMP%]{width:180px;padding-right:0}"]],data:{}});function X(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","no-data"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["No entries found"]))],null,null)}function Z(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[""," error occured "]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.groupsErrorPercent)})}function Q(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[""," error occured "]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.accountsErrorPercent)})}function ll(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[""," error occured "]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.entriesErrorPercent)})}function nl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","panel-footer"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[["class","m-r-15"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Error Report:"])),(l()(),t["\u0275eld"](3,0,null,null,1,"a",[["class","running"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadLog(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275ted"](4,null,["","-error-log.csv"]))],null,function(l,n){l(n,4,0,n.parent.context.$implicit.company.name)})}function el(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,82,"div",[["class","panel panel-default"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,7,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[["class","m-r-15"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["",""])),(l()(),t["\u0275eld"](4,0,null,null,1,"small",[["class","m-r-15"]],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["Last Import on ",""])),(l()(),t["\u0275eld"](6,0,null,null,2,"small",[["class","running"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,0,"i",[["class","fa fa-circle"]],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,[" ",""])),(l()(),t["\u0275eld"](9,0,null,null,71,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,70,"ul",[["class","list-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,23,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,22,"div",[["class","clearfix"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,3,"div",[["class","col-sm-2 col-xs-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,0,"img",[["class","m-r-10"],["height","20"],["src","./../../../assets/images/folder.svg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Groups"])),(l()(),t["\u0275eld"](17,0,null,null,10,"div",[["class","col-sm-6 col-xs-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,2,"small",[],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,1,"em",[],null,null,null,null,null)),(l()(),t["\u0275ted"](20,null,["","/",""])),(l()(),t["\u0275eld"](21,0,null,null,6,"div",[["class","progress"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,5,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["aria-valuenow","row.totalSavedGroups"],["class","progress-bar"],["role","progressbar"]],null,null,null,null,null)),t["\u0275did"](23,278528,null,0,f.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](24,{width:0}),(l()(),t["\u0275ted"](-1,null,["> "])),(l()(),t["\u0275eld"](26,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),t["\u0275ted"](27,null,[""," Complete"])),(l()(),t["\u0275eld"](28,0,null,null,6,"div",[["class","col-sm-4 col-xs-4 text-success"]],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,5,"div",[["class","status"]],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,2,"small",[["class","m-r-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(l()(),t["\u0275ted"](32,null,[""," Complete"])),(l()(),t["\u0275and"](16777216,null,null,1,null,Z)),t["\u0275did"](34,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](35,0,null,null,22,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](36,0,null,null,21,"div",[["class","clearfix"]],null,null,null,null,null)),(l()(),t["\u0275eld"](37,0,null,null,3,"div",[["class","col-sm-2 col-xs-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](38,0,null,null,0,"img",[["class","m-r-10"],["height","20"],["src","./../../../assets/images/folder.svg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](39,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Accounts"])),(l()(),t["\u0275eld"](41,0,null,null,9,"div",[["class","col-sm-6 col-xs-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](42,0,null,null,2,"small",[],null,null,null,null,null)),(l()(),t["\u0275eld"](43,0,null,null,1,"em",[],null,null,null,null,null)),(l()(),t["\u0275ted"](44,null,["","/",""])),(l()(),t["\u0275eld"](45,0,null,null,5,"div",[["class","progress"]],null,null,null,null,null)),(l()(),t["\u0275eld"](46,0,null,null,4,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["aria-valuenow","row.totalSavedAccounts"],["class","progress-bar"],["role","progressbar"]],null,null,null,null,null)),t["\u0275did"](47,278528,null,0,f.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](48,{width:0}),(l()(),t["\u0275eld"](49,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),t["\u0275ted"](50,null,[""," Complete"])),(l()(),t["\u0275eld"](51,0,null,null,6,"div",[["class","col-sm-4 col-xs-4 text-success"]],null,null,null,null,null)),(l()(),t["\u0275eld"](52,0,null,null,5,"div",[["class","status"]],null,null,null,null,null)),(l()(),t["\u0275eld"](53,0,null,null,2,"small",[["class","m-r-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](54,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(l()(),t["\u0275ted"](55,null,[""," Complete"])),(l()(),t["\u0275and"](16777216,null,null,1,null,Q)),t["\u0275did"](57,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](58,0,null,null,22,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](59,0,null,null,21,"div",[["class","clearfix"]],null,null,null,null,null)),(l()(),t["\u0275eld"](60,0,null,null,3,"div",[["class","col-sm-2 col-xs-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](61,0,null,null,0,"img",[["class","m-r-10"],["height","20"],["src","./../../../assets/images/folder.svg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](62,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Entries"])),(l()(),t["\u0275eld"](64,0,null,null,9,"div",[["class","col-sm-6 col-xs-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](65,0,null,null,2,"small",[],null,null,null,null,null)),(l()(),t["\u0275eld"](66,0,null,null,1,"em",[],null,null,null,null,null)),(l()(),t["\u0275ted"](67,null,["","/",""])),(l()(),t["\u0275eld"](68,0,null,null,5,"div",[["class","progress"]],null,null,null,null,null)),(l()(),t["\u0275eld"](69,0,null,null,4,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["aria-valuenow","row.totalSavedEntries"],["class","progress-bar"],["role","progressbar"]],null,null,null,null,null)),t["\u0275did"](70,278528,null,0,f.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](71,{width:0}),(l()(),t["\u0275eld"](72,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),t["\u0275ted"](73,null,[""," Complete"])),(l()(),t["\u0275eld"](74,0,null,null,6,"div",[["class","col-sm-4 col-xs-4 text-success"]],null,null,null,null,null)),(l()(),t["\u0275eld"](75,0,null,null,5,"div",[["class","status"]],null,null,null,null,null)),(l()(),t["\u0275eld"](76,0,null,null,2,"small",[["class","m-r-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](77,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(l()(),t["\u0275ted"](78,null,[""," Complete"])),(l()(),t["\u0275and"](16777216,null,null,1,null,ll)),t["\u0275did"](80,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,nl)),t["\u0275did"](82,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=l(n,24,0,n.context.$implicit.groupsPercent);l(n,23,0,e),l(n,34,0,n.context.$implicit.tallyErrorGroups>0);var t=l(n,48,0,n.context.$implicit.accountsPercent);l(n,47,0,t),l(n,57,0,n.context.$implicit.tallyErrorAccounts>0);var u=l(n,71,0,n.context.$implicit.entriesPercent);l(n,70,0,u),l(n,80,0,n.context.$implicit.tallyErrorEntries>0),l(n,82,0,n.context.$implicit.tallyErrorEntries>0||n.context.$implicit.tallyErrorAccounts>0||n.context.$implicit.tallyErrorGroups>0)},function(l,n){l(n,3,0,n.context.$implicit.company.name),l(n,5,0,n.context.$implicit.dateString),l(n,8,0,n.context.$implicit.status),l(n,20,0,n.context.$implicit.totalSavedGroups,n.context.$implicit.totalTallyGroups),l(n,27,0,n.context.$implicit.groupsPercent),l(n,32,0,n.context.$implicit.groupsPercent),l(n,44,0,n.context.$implicit.totalSavedAccounts,n.context.$implicit.totalTallyAccounts),l(n,50,0,n.context.$implicit.accountsPercent),l(n,55,0,n.context.$implicit.accountsPercent),l(n,67,0,n.context.$implicit.totalSavedEntries,n.context.$implicit.totalTallyEntries),l(n,73,0,n.context.$implicit.entriesPercent),l(n,78,0,n.context.$implicit.entriesPercent)})}function tl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["aria-multiselectable","true"],["class","panel-group"],["id","accordion"],["role","tablist"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,el)),t["\u0275did"](2,278528,null,0,f.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.completedData)},null)}function ul(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,48,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,43,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0,o=l.component;return"submit"===n&&(u=!1!==t["\u0275nov"](l,3).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,3).onReset()&&u),"ngSubmit"===n&&(u=!1!==o.getReport()&&u),u},null,null)),t["\u0275did"](2,16384,null,0,A["\u0275angular_packages_forms_forms_bh"],[],null,null),t["\u0275did"](3,540672,null,0,A.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,A.ControlContainer,null,[A.FormGroupDirective]),t["\u0275did"](5,16384,null,0,A.NgControlStatusGroup,[[4,A.ControlContainer]],null,null),(l()(),t["\u0275eld"](6,0,null,null,38,"div",[["class","row form"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,10,"div",[["class","col-md-3 form-group company"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Company"])),(l()(),t["\u0275eld"](10,0,null,null,7,"sh-select",[["formControlName","filterCompany"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],["window","mouseup"]],function(l,n,e){var u=!0,o=l.component;return"window:mouseup"===n&&(u=!1!==t["\u0275nov"](l,11).onDocumentClick(e)&&u),"selected"===n&&(u=!1!==o.onDDElementCompanySelect(e)&&u),u},V.b,V.a)),t["\u0275did"](11,4833280,[["shCompany",4]],2,$.a,[t.ElementRef,t.Renderer,t.ChangeDetectorRef],{placeholder:[0,"placeholder"],multiple:[1,"multiple"],options:[2,"options"]},{selected:"selected"}),t["\u0275qud"](335544320,1,{notFoundLinkTemplate:0}),t["\u0275qud"](335544320,2,{optionTemplate:0}),t["\u0275prd"](1024,null,A.NG_VALUE_ACCESSOR,function(l){return[l]},[$.a]),t["\u0275did"](15,671744,null,0,A.FormControlName,[[3,A.ControlContainer],[8,null],[8,null],[6,A.NG_VALUE_ACCESSOR],[2,A["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,A.NgControl,null,[A.FormControlName]),t["\u0275did"](17,16384,null,0,A.NgControlStatus,[[4,A.NgControl]],null,null),(l()(),t["\u0275eld"](18,0,null,null,12,"div",[["class","col-md-1 form-group date"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Date"])),(l()(),t["\u0275eld"](21,16777216,null,null,9,"input",[["autocomplete","off"],["bsDatepicker",""],["class","form-control"],["formControlName","filterDate"],["name","filterDate"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"bsValueChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"keyup.esc"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,22)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,22).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,22)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,22)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t["\u0275nov"](l,25).onChange(e)&&u),"keyup.esc"===n&&(u=!1!==t["\u0275nov"](l,25).hide()&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,25).onBlur()&&u),"bsValueChange"===n&&(u=!1!==o.onValueChange(e)&&u),u},null,null)),t["\u0275did"](22,16384,null,0,A.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,A.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](23,737280,null,0,F.a,[L.a,t.ElementRef,t.Renderer2,t.ViewContainerRef,U.a],{bsConfig:[0,"bsConfig"],maxDate:[1,"maxDate"]},{bsValueChange:"bsValueChange"}),t["\u0275pod"](24,{dateInputFormat:0}),t["\u0275did"](25,16384,null,0,G.a,[F.a,j.a,t.Renderer2,t.ElementRef,t.ChangeDetectorRef],null,null),t["\u0275prd"](1024,null,A.NG_VALIDATORS,function(l){return[l]},[G.a]),t["\u0275prd"](1024,null,A.NG_VALUE_ACCESSOR,function(l,n){return[l,n]},[A.DefaultValueAccessor,G.a]),t["\u0275did"](28,671744,null,0,A.FormControlName,[[3,A.ControlContainer],[6,A.NG_VALIDATORS],[8,null],[6,A.NG_VALUE_ACCESSOR],[2,A["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,A.NgControl,null,[A.FormControlName]),t["\u0275did"](30,16384,null,0,A.NgControlStatus,[[4,A.NgControl]],null,null),(l()(),t["\u0275eld"](31,0,null,null,10,"div",[["class","col-md-2 form-group interval"]],null,null,null,null,null)),(l()(),t["\u0275eld"](32,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Time"])),(l()(),t["\u0275eld"](34,0,null,null,7,"sh-select",[["formControlName","filterTimeInterval"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],["window","mouseup"]],function(l,n,e){var u=!0,o=l.component;return"window:mouseup"===n&&(u=!1!==t["\u0275nov"](l,35).onDocumentClick(e)&&u),"selected"===n&&(u=!1!==o.onDDElementTimeRangeSelect(e)&&u),u},V.b,V.a)),t["\u0275did"](35,4833280,[["shTimeInterval",4]],2,$.a,[t.ElementRef,t.Renderer,t.ChangeDetectorRef],{placeholder:[0,"placeholder"],multiple:[1,"multiple"],options:[2,"options"]},{selected:"selected"}),t["\u0275qud"](335544320,3,{notFoundLinkTemplate:0}),t["\u0275qud"](335544320,4,{optionTemplate:0}),t["\u0275prd"](1024,null,A.NG_VALUE_ACCESSOR,function(l){return[l]},[$.a]),t["\u0275did"](39,671744,null,0,A.FormControlName,[[3,A.ControlContainer],[8,null],[8,null],[6,A.NG_VALUE_ACCESSOR],[2,A["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,A.NgControl,null,[A.FormControlName]),t["\u0275did"](41,16384,null,0,A.NgControlStatus,[[4,A.NgControl]],null,null),(l()(),t["\u0275eld"](42,0,null,null,2,"div",[["class","col-md-2 form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](43,0,null,null,1,"button",[["class","m-t-20 btn btn-success"],["type","submit"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Go"])),(l()(),t["\u0275and"](16777216,null,null,1,null,X)),t["\u0275did"](46,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,tl)),t["\u0275did"](48,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,3,0,e.filterForm),l(n,11,0,"Select Company",!1,e.CompanyList),l(n,15,0,"filterCompany");var t=l(n,24,0,"D-MMM-YYYY");l(n,23,0,t,e.maxDate),l(n,28,0,"filterDate"),l(n,35,0,"Select Interval",!1,e.timeInterval),l(n,39,0,"filterTimeInterval"),l(n,46,0,!(null!=e.completedData&&e.completedData.length)),l(n,48,0,null==e.completedData?null:e.completedData.length)},function(l,n){l(n,1,0,t["\u0275nov"](n,5).ngClassUntouched,t["\u0275nov"](n,5).ngClassTouched,t["\u0275nov"](n,5).ngClassPristine,t["\u0275nov"](n,5).ngClassDirty,t["\u0275nov"](n,5).ngClassValid,t["\u0275nov"](n,5).ngClassInvalid,t["\u0275nov"](n,5).ngClassPending),l(n,10,0,t["\u0275nov"](n,17).ngClassUntouched,t["\u0275nov"](n,17).ngClassTouched,t["\u0275nov"](n,17).ngClassPristine,t["\u0275nov"](n,17).ngClassDirty,t["\u0275nov"](n,17).ngClassValid,t["\u0275nov"](n,17).ngClassInvalid,t["\u0275nov"](n,17).ngClassPending),l(n,21,0,t["\u0275nov"](n,30).ngClassUntouched,t["\u0275nov"](n,30).ngClassTouched,t["\u0275nov"](n,30).ngClassPristine,t["\u0275nov"](n,30).ngClassDirty,t["\u0275nov"](n,30).ngClassValid,t["\u0275nov"](n,30).ngClassInvalid,t["\u0275nov"](n,30).ngClassPending),l(n,34,0,t["\u0275nov"](n,41).ngClassUntouched,t["\u0275nov"](n,41).ngClassTouched,t["\u0275nov"](n,41).ngClassPristine,t["\u0275nov"](n,41).ngClassDirty,t["\u0275nov"](n,41).ngClassValid,t["\u0275nov"](n,41).ngClassInvalid,t["\u0275nov"](n,41).ngClassPending)})}var ol=e("pday"),al=e("Le07"),rl=(e("IWM5"),function(){function l(l,n,e,t,u){this.store=l,this.companyActions=n,this.router=e,this._cd=t,this._activatedRoute=u,this.activeTab="inprogress",this.showInvoiceNav=!1,this.destroyed$=new Y.a(1)}return l.prototype.ngOnInit=function(){var l=this;this._activatedRoute.queryParams.pipe(Object(B.a)(this.destroyed$),Object(ol.a)(700)).subscribe(function(n){n.tab&&n.tabIndex&&l.staticTabs&&l.staticTabs.tabs&&(l.staticTabs.tabs[n.tabIndex].active=!0,l.tabChanged(n.tab))})},l.prototype.pageChanged=function(l){this.showInvoiceNav=["completed","inprogress"].indexOf(l)>-1},l.prototype.tabChanged=function(l){this.activeTab=l},l.prototype.ngOnDestroy=function(){this.destroyed$.next(!0),this.destroyed$.complete()},l}()),il=t["\u0275crt"]({encapsulation:0,styles:[[".btn-default[_ngcontent-%COMP%]{background:#fff;border-color:#5b64c9;color:#1a237e}.btn-default.active[_ngcontent-%COMP%]{background:#5b64c9;color:#fff;border-color:#5b64c9;box-shadow:none}.btn-default.active.focus[_ngcontent-%COMP%]   .btn-default[_ngcontent-%COMP%]:disabled, .btn-default[_ngcontent-%COMP%]:active, .btn-default[_ngcontent-%COMP%]:active:focus, .btn-default[_ngcontent-%COMP%]:focus, .btn-default[_ngcontent-%COMP%]:hover, .btn-default[disabled][_ngcontent-%COMP%]:hover, .open[_ngcontent-%COMP%] > .dropdown-toggle.btn-default[_ngcontent-%COMP%]:focus, .open[_ngcontent-%COMP%] > .dropdown-toggle.btn-default[_ngcontent-%COMP%]:hover{background:#5b64c9;color:#fff;border-color:#5b64c9}"]],data:{}});function sl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"app-inprogress-preview",[],null,null,null,k,N)),t["\u0275did"](2,245760,null,0,M,[g.a,P],null,null)],function(l,n){l(n,2,0)},null)}function cl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"app-completed-preview",[],null,null,null,ul,z)),t["\u0275did"](2,245760,null,0,H,[K.m,g.a,W.a,t.ChangeDetectorRef,A.FormBuilder,P],null,null)],function(l,n){l(n,2,0)},null)}function dl(l){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{staticTabs:0}),(l()(),t["\u0275eld"](1,0,null,null,14,"section",[["class","m-l-20 m-r-20 m-t-15"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,8,"div",[["class","m-t-15"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,3,"button",[["class","btn btn-default"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.tabChanged("inprogress")&&t),t},null,null)),t["\u0275did"](4,278528,null,0,f.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](5,{active:0}),(l()(),t["\u0275ted"](-1,null,[" In-Progress "])),(l()(),t["\u0275eld"](7,0,null,null,3,"button",[["class","btn btn-default"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.tabChanged("completed")&&t),t},null,null)),t["\u0275did"](8,278528,null,0,f.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](9,{active:0}),(l()(),t["\u0275ted"](-1,null,[" Completed "])),(l()(),t["\u0275eld"](11,0,null,null,4,"div",[["class","m-t-15"],["id","Tab"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,sl)),t["\u0275did"](13,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,cl)),t["\u0275did"](15,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component,t=l(n,5,0,"inprogress"===e.activeTab);l(n,4,0,"btn btn-default",t);var u=l(n,9,0,"completed"===e.activeTab);l(n,8,0,"btn btn-default",u),l(n,13,0,"inprogress"===e.activeTab),l(n,15,0,"completed"===e.activeTab)},null)}function pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,dl,il)),t["\u0275did"](1,245760,null,0,rl,[K.m,al.a,W.p,t.ChangeDetectorRef,W.a],null,null)],function(l,n){l(n,1,0)},null)}var ml=t["\u0275ccf"]("ng-component",rl,pl,{},{},[]),fl=e("tZCb"),gl=e("7/g3"),hl=e("KDQZ"),vl=e("rHPu"),yl=e("Q00F"),bl=e("uUAm"),Cl=e("vK0T"),_l=e("uPys"),xl=e("faXJ"),Pl=e("f5nl"),Ol=e("aAER"),Ml=e("UDDY"),Nl=e("LD3o"),Tl=e("K0QJ"),El=e("INNa"),Sl=e("cLUr"),Rl=e("95e8"),wl=e("u3bY"),Dl=e("Xvr4"),Il=e("nxlX"),kl=e("rWuZ"),Al=e("4g9S"),Vl=e("bCPT"),$l=e("hCDZ"),Fl=e("4V9Y"),Ll=e("1J5i"),Ul=e("XC/G"),Gl=e("qCda"),jl=e("SHvt"),Yl=e("6pUI"),ql=function(){return function(){}}(),Bl=e("m3jU");e.d(n,"TallysyncModuleNgFactory",function(){return Kl});var Kl=t["\u0275cmf"](u,[],function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,a.a,r.a,i.a,s.a,c.a,d.a,p.a,m.b,ml]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,A["\u0275angular_packages_forms_forms_j"],A["\u0275angular_packages_forms_forms_j"],[]),t["\u0275mpd"](4608,f.NgLocalization,f.NgLocaleLocalization,[t.LOCALE_ID,[2,f["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,A.FormBuilder,A.FormBuilder,[]),t["\u0275mpd"](4608,fl.a,fl.a,[]),t["\u0275mpd"](4608,gl.a,gl.a,[]),t["\u0275mpd"](4608,U.a,U.a,[t.ComponentFactoryResolver,t.NgZone,t.Injector,gl.a,t.ApplicationRef]),t["\u0275mpd"](4608,hl.a,hl.a,[]),t["\u0275mpd"](4608,vl.a,vl.a,[]),t["\u0275mpd"](4608,L.a,L.a,[]),t["\u0275mpd"](4608,yl.a,yl.a,[]),t["\u0275mpd"](4608,j.a,j.a,[]),t["\u0275mpd"](4608,bl.a,bl.a,[vl.a,j.a]),t["\u0275mpd"](4608,Cl.a,Cl.a,[[2,_.a]]),t["\u0275mpd"](4608,P,P,[b.a,y.a,C.a,[2,_.a]]),t["\u0275mpd"](1073742336,A["\u0275angular_packages_forms_forms_bc"],A["\u0275angular_packages_forms_forms_bc"],[]),t["\u0275mpd"](1073742336,A.FormsModule,A.FormsModule,[]),t["\u0275mpd"](1073742336,f.CommonModule,f.CommonModule,[]),t["\u0275mpd"](1073742336,_l.a,_l.a,[]),t["\u0275mpd"](1073742336,A.ReactiveFormsModule,A.ReactiveFormsModule,[]),t["\u0275mpd"](1073742336,xl.a,xl.a,[]),t["\u0275mpd"](1073742336,Pl.a,Pl.a,[]),t["\u0275mpd"](1073742336,Ol.a,Ol.a,[]),t["\u0275mpd"](1073742336,W.t,W.t,[[2,W.A],[2,W.p]]),t["\u0275mpd"](1073742336,Ml.a,Ml.a,[]),t["\u0275mpd"](1073742336,Nl.a,Nl.a,[]),t["\u0275mpd"](1073742336,Tl.a,Tl.a,[]),t["\u0275mpd"](1073742336,El.b,El.b,[]),t["\u0275mpd"](1073742336,Sl.a,Sl.a,[]),t["\u0275mpd"](1073742336,Rl.c,Rl.c,[]),t["\u0275mpd"](1073742336,wl.b,wl.b,[]),t["\u0275mpd"](1073742336,Dl.ClickOutsideModule,Dl.ClickOutsideModule,[]),t["\u0275mpd"](1073742336,Il.a,Il.a,[]),t["\u0275mpd"](1073742336,kl.a,kl.a,[]),t["\u0275mpd"](1073742336,Al.a,Al.a,[]),t["\u0275mpd"](1073742336,Vl.a,Vl.a,[]),t["\u0275mpd"](1073742336,$l.a,$l.a,[]),t["\u0275mpd"](1073742336,Fl.b,Fl.b,[]),t["\u0275mpd"](1073742336,Ll.a,Ll.a,[]),t["\u0275mpd"](1073742336,Ul.TextMaskModule,Ul.TextMaskModule,[]),t["\u0275mpd"](1073742336,Gl.a,Gl.a,[]),t["\u0275mpd"](1073742336,jl.R,jl.R,[]),t["\u0275mpd"](1073742336,ql,ql,[]),t["\u0275mpd"](1073742336,Bl.a,Bl.a,[]),t["\u0275mpd"](1073742336,u,u,[]),t["\u0275mpd"](1024,W.m,function(){return[[{path:"",canActivate:[Yl.a],component:rl},{path:"tallysync",canActivate:[Yl.a]}]]},[])])})},vK0T:function(l,n,e){"use strict";e.d(n,"b",function(){return a}),e.d(n,"a",function(){return r});var t=e("LiEJ"),u=e("fQLH"),o=e("+kfB"),a=(e("Kxaf"),function(){return function(){this.header=!0,this.table=!1,this.footer=!1}}()),r=function(){function l(l){this.config=l,this.customTemplate=new t.a(new o.b),this.isLogoVisible=new u.a,this.isCompanyNameVisible=new u.a,this.logoPath=new u.a,this.selectedSection=new u.a,this.companyGSTIN=new t.a(null),this.companyPAN=new t.a(null),this.fieldsAndVisibility=new t.a(null),this.templateVoucherType=new t.a(null),this._=l._,_=l._}return l.prototype.initCustomTemplate=function(l,n,e){void 0===l&&(l=""),void 0===n&&(n=[]),this.isLogoVisible.next(!0);var t=l,u=n.find(function(l){return l.uniqueName===t});u&&(this.companyName=u.name,this.companyAddress=u.address,u.addresses[0]&&this.companyGSTIN.next(u.addresses[0].taxNumber),u.panNumber&&this.companyPAN.next(u.panNumber)),this.isCompanyNameVisible.next(!0),e&&(this.companyName&&(e.sections.header.data.companyName.label=this.companyName,e.sections.footer.data.companyName.label=this.companyName,e.sections.footer.data.companyAddress.label=this.companyAddress),this.BRToNewLine(e),this.customTemplate.next(_.cloneDeep(e))),this.selectedSection.next({header:!0,table:!1,footer:!1})},l.prototype.setCustomTemplate=function(l){l.sections.header.data.companyName.label=this.companyName,l.sections&&l.sections.footer.data.companyName&&(l.sections.footer.data.companyName.label=this.companyName),this.BRToNewLine(l),this.customTemplate.next(l)},l.prototype.setLogoVisibility=function(l){this.isLogoVisible.next(l)},l.prototype.setCompanyNameVisibility=function(l){this.isCompanyNameVisible.next(l)},l.prototype.setLogoPath=function(l){this.logoPath.next(l)},l.prototype.setTemplateVoucherType=function(l){"invoice"===l&&(l="sales"),this.templateVoucherType.next(l)},l.prototype.setSelectedSection=function(l){var n={header:!1,table:!1,footer:!1};n[l]=!0,this.selectedSection.next(n)},l.prototype.resetCustomTemplate=function(){this.customTemplate.next(new o.b)},l.prototype.BRToNewLine=function(l){return l.sections.footer.data.message1.label=l.sections.footer.data.message1.label?l.sections.footer.data.message1.label.replace(/<br\s*[\/]?>/gi,"\n"):"",l.sections.footer.data.companyAddress.label=l.sections.footer.data.companyAddress.label?l.sections.footer.data.companyAddress.label.replace(/<br\s*[\/]?>/gi,"\n"):"",l.sections.footer.data.slogan.label=l.sections.footer.data.slogan.label?l.sections.footer.data.slogan.label.replace(/<br\s*[\/]?>/gi,"\n"):"",l},l.prototype.setFieldsAndVisibility=function(l){this.fieldsAndVisibility.next(l)},l.prototype.setTemplateUniqueName=function(l,n,e,t){if(void 0===e&&(e=[]),e&&e.length){var u=_.cloneDeep(e),o=u.findIndex(function(n){return n.uniqueName===l}),a=_.cloneDeep(u[o]);a&&(a.sections.header.data.companyName.display&&this.isCompanyNameVisible.next(!0),this.companyName&&"create"===n&&(a.sections.footer.data.companyName.label=this.companyName),a.sections.header.data.companyName.label=this.companyName,this.isLogoVisible.next(!!a.logoUniqueName),a.sections.header.data.attentionTo={display:!0,label:"Attention To",field:"attentionTo",width:null},this.BRToNewLine(a),this.customTemplate.next(_.cloneDeep(a))),a.sections.header.data.attentionTo={display:!0,label:"Attention To",field:"attentionTo",width:null},this.customTemplate.next(_.cloneDeep(a))}},l}()},vU59:function(l,n,e){l.exports=function(l){function n(t){if(e[t])return e[t].exports;var u=e[t]={exports:{},id:t,loaded:!1};return l[t].call(u.exports,u,u.exports,n),u.loaded=!0,u.exports}var e={};return n.m=l,n.c=e,n.p="",n(0)}([function(l,n,e){"use strict";function t(l){return l&&l.__esModule?l:{default:l}}Object.defineProperty(n,"__esModule",{value:!0});var u=e(3);Object.defineProperty(n,"conformToMask",{enumerable:!0,get:function(){return t(u).default}});var o=e(2);Object.defineProperty(n,"adjustCaretPosition",{enumerable:!0,get:function(){return t(o).default}});var a=e(5);Object.defineProperty(n,"createTextMaskInputElement",{enumerable:!0,get:function(){return t(a).default}})},function(l,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.placeholderChar="_",n.strFunction="function"},function(l,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(l){var n=l.previousConformedValue,u=void 0===n?t:n,o=l.previousPlaceholder,a=void 0===o?t:o,r=l.currentCaretPosition,i=void 0===r?0:r,s=l.conformedValue,c=l.rawValue,d=l.placeholderChar,p=l.placeholder,m=l.indexesOfPipedChars,f=void 0===m?e:m,g=l.caretTrapIndexes,h=void 0===g?e:g;if(0===i||!c.length)return 0;var v=u.length,y=p.length,b=s.length,C=c.length-v,_=C>0;if(C>1&&!_&&0!==v)return i;var x=0,P=void 0,O=void 0;if(!_||u!==s&&s!==p){var M=s.toLowerCase(),N=c.toLowerCase().substr(0,i).split(t).filter(function(l){return-1!==M.indexOf(l)});O=N[N.length-1];var T=a.substr(0,N.length).split(t).filter(function(l){return l!==d}).length,E=p.substr(0,N.length).split(t).filter(function(l){return l!==d}).length;!_&&(E!==T||void 0!==a[N.length-1]&&void 0!==p[N.length-2]&&a[N.length-1]!==d&&a[N.length-1]!==p[N.length-1]&&a[N.length-1]===p[N.length-2])&&T>0&&p.indexOf(O)>-1&&void 0!==c[i]&&(P=!0,O=c[i]);for(var S=f.map(function(l){return M[l]}).filter(function(l){return l===O}).length,R=N.filter(function(l){return l===O}).length,w=p.substr(0,p.indexOf(d)).split(t).filter(function(l,n){return l===O&&c[n]!==l}).length+R+S+(P?1:0),D=0,I=0;I<b&&(x=I+1,M[I]===O&&D++,!(D>=w));I++);}else x=i-C;if(_){for(var k=x,A=x;A<=y;A++)if(p[A]===d&&(k=A),p[A]===d||-1!==h.indexOf(A)||A===y)return k}else if(P){for(var V=x-1;V>=0;V--)if(s[V]===O||-1!==h.indexOf(V)||0===V)return V}else for(var $=x;$>=0;$--)if(p[$-1]===d||-1!==h.indexOf($)||0===$)return $};var e=[],t=""},function(l,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};n.default=function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,u.isArray)(n)){if((void 0===n?"undefined":t(n))!==o.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");n=n(l,e),n=(0,u.processCaretTraps)(n).maskWithoutCaretTraps}var i=e.guide,s=void 0===i||i,c=e.previousConformedValue,d=void 0===c?r:c,p=e.placeholderChar,m=void 0===p?o.placeholderChar:p,f=e.placeholder,g=void 0===f?(0,u.convertMaskToPlaceholder)(n,m):f,h=e.keepCharPositions,v=!1===s&&void 0!==d,y=l.length,b=d.length,C=g.length,_=n.length,x=y-b,P=x>0,O=e.currentCaretPosition+(P?-x:0),M=O+Math.abs(x);if(!0===h&&!P){for(var N=r,T=O;T<M;T++)g[T]===m&&(N+=m);l=l.slice(0,O)+N+l.slice(O,y)}for(var E=l.split(r).map(function(l,n){return{char:l,isNew:n>=O&&n<M}}),S=y-1;S>=0;S--){var R=E[S].char;R!==m&&R===g[S>=O&&b===_?S-x:S]&&E.splice(S,1)}var w=r,D=!1;l:for(var I=0;I<C;I++){var k=g[I];if(k===m){if(E.length>0)for(;E.length>0;){var A=E.shift(),V=A.char,$=A.isNew;if(V===m&&!0!==v){w+=m;continue l}if(n[I].test(V)){if(!0===h&&!1!==$&&d!==r&&!1!==s&&P){for(var F=E.length,L=null,U=0;U<F;U++){var G=E[U];if(G.char!==m&&!1===G.isNew)break;if(G.char===m){L=U;break}}null!==L?(w+=V,E.splice(L,1)):I--}else w+=V;continue l}D=!0}!1===v&&(w+=g.substr(I,C));break}w+=k}if(v&&!1===P){for(var j=null,Y=0;Y<w.length;Y++)g[Y]===m&&(j=Y);w=null!==j?w.substr(0,j+1):r}return{conformedValue:w,meta:{someCharsRejected:D}}};var u=e(4),o=e(1),a=[],r=""},function(l,n,e){"use strict";function t(l){return Array.isArray&&Array.isArray(l)||l instanceof Array}Object.defineProperty(n,"__esModule",{value:!0}),n.convertMaskToPlaceholder=function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.placeholderChar;if(!t(l))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==l.indexOf(n))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(n)+"\n\nThe mask that was received is: "+JSON.stringify(l));return l.map(function(l){return l instanceof RegExp?n:l}).join("")},n.isArray=t,n.isString=function(l){return"string"==typeof l||l instanceof String},n.isNumber=function(l){return"number"==typeof l&&void 0===l.length&&!isNaN(l)},n.isNil=function(l){return null==l},n.processCaretTraps=function(l){for(var n=[],e=void 0;-1!==(e=l.indexOf(a));)n.push(e),l.splice(e,1);return{maskWithoutCaretTraps:l,indexes:n}};var u=e(1),o=[],a="[]"},function(l,n,e){"use strict";function t(l){return l&&l.__esModule?l:{default:l}}function u(l,n){document.activeElement===l&&(f?g(function(){return l.setSelectionRange(n,n,p)},0):l.setSelectionRange(n,n,p))}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(l){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(l[t]=e[t])}return l},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};n.default=function(l){var n={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:n,update:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,p=t.inputElement,f=t.mask,g=t.guide,h=t.pipe,v=t.placeholderChar,y=void 0===v?c.placeholderChar:v,b=t.keepCharPositions,C=void 0!==b&&b,_=t.showMask,x=void 0!==_&&_;if(void 0===e&&(e=p.value),e!==n.previousConformedValue){(void 0===f?"undefined":a(f))===m&&void 0!==f.pipe&&void 0!==f.mask&&(h=f.pipe,f=f.mask);var P=void 0,O=void 0;if(f instanceof Array&&(P=(0,s.convertMaskToPlaceholder)(f,y)),!1!==f){var M=function(l){if((0,s.isString)(l))return l;if((0,s.isNumber)(l))return String(l);if(null==l)return d;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(l))}(e),N=p.selectionEnd,T=n.previousConformedValue,E=n.previousPlaceholder,S=void 0;if((void 0===f?"undefined":a(f))===c.strFunction){if(!1===(O=f(M,{currentCaretPosition:N,previousConformedValue:T,placeholderChar:y})))return;var R=(0,s.processCaretTraps)(O);S=R.indexes,P=(0,s.convertMaskToPlaceholder)(O=R.maskWithoutCaretTraps,y)}else O=f;var w={previousConformedValue:T,guide:g,placeholderChar:y,pipe:h,placeholder:P,currentCaretPosition:N,keepCharPositions:C},D=(0,i.default)(M,O,w).conformedValue,I=(void 0===h?"undefined":a(h))===c.strFunction,k={};I&&(!1===(k=h(D,o({rawValue:M},w)))?k={value:T,rejected:!0}:(0,s.isString)(k)&&(k={value:k}));var A=I?k.value:D,V=(0,r.default)({previousConformedValue:T,previousPlaceholder:E,conformedValue:A,placeholder:P,rawValue:M,currentCaretPosition:N,placeholderChar:y,indexesOfPipedChars:k.indexesOfPipedChars,caretTrapIndexes:S}),$=A===P&&0===V?x?P:d:A;n.previousConformedValue=$,n.previousPlaceholder=P,p.value!==$&&(p.value=$,u(p,V))}}}}};var r=t(e(2)),i=t(e(3)),s=e(4),c=e(1),d="",p="none",m="object",f="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),g="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout}])}}]);